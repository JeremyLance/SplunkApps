
[Error Volume Change Alert-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.alert = This will become a PG alert. Please investigate
action.email.reportServerEnabled = 0
action.email.sendresults = 1
action.email.subject.alert = PROD Alert: $name$
action.email.to = livesite-info@rallyhealth.com
action.email.useNSSubject = 1
action.script = 1
action.script.filename = pagerduty.py
alert.severity = 5
alert.suppress = 1
alert.suppress.period = 4h
alert.track = 1
counttype = number of events
cron_schedule = 15 */12 * * 1-5
description = computes average per hour over the past week and alerts if the past hour was more than 100% the average value\
\
Sanity Check:\
CASE(ERROR) earliest=-8d@d latest=now | stats count by date_wday date_hour | stats avg(count) as avgErrsByHour \
 | eval errsLast8Hours = [search CASE(ERROR) earliest=-8h@h latest=now | stats count as search]/8\
 | eval percent = (errsLastHour/avgErrsByHour)*100 | where percent>150
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = verbose
display.visualizations.show = 0
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_data-prod" CASE(ERROR) earliest=-8d@d latest=now product!=connect NOT source="/var/log/chef/chef-client.log" | stats count by date_wday date_hour | outlier tf count | stats avg(count) as avgErrsByHour \
 | eval errsLast8Hours = [search index="aws_ceuhc-eks_data-prod" CASE(ERROR) CASE(ERROR) earliest=-8h@h latest=now product!=connect | stats count as search]/8\
 | eval percent = (errsLastHour/avgErrsByHour) | where percent > 1.50
disabled = 1

[PersonId Mismatch with PSA List-production]
action.email = 1
action.email.reportServerEnabled = 0
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = sortinghat@rallyhealth.com, eligibility@rallyhealth.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 0 0 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app","class","product","env","X_Rally_CorrelationId"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.events.type = raw
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.drilldown = row
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_navigation-prod" OR index="aws_ceuhc-eks_campaigns-prod")  "PERSONID MISMATCH" personId != "None" | rex field=personId mode=sed "s/[a-zA-Z()]*//g" | rex field=mpePersonId mode=sed "s/[a-zA-Z()]*//g" | dedup mpePersonId | table personId, mpePersonId, _time | convert ctime(_time) | rename personId as PSA_PersonId, mpePersonId as Existing_MPE_PersonId, _time as Detected_On_UTC
disabled = 1

[PersonId Changed by Optum in PSA response-production]
action.email = 1
action.email.inline = 1
action.email.reportServerEnabled = 0
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = eligibility@rallyhealth.com, sortinghat@rallyhealth.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 0 0 * * *
dispatch.earliest_time = -7d@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app","class","product","env","X_Rally_CorrelationId"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.events.type = raw
display.general.type = visualizations
display.page.search.mode = verbose
display.statistics.drilldown = row
display.visualizations.charting.chart = line
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_navigation-prod" OR index="aws_ceuhc-eks_campaigns-prod")  "PERSONID MISMATCH" | dedup mpePersonId | eval date=strftime(_time,"%d/%m/%y") | convert timeformat="%d/%m/%y" mktime(date) AS date | fieldformat date=strftime(date,"%Y-%m-%d") | stats count(mpePersonId) as totalCount, count(eval(personId == "None")) as noneCount, count(eval(personId != "None")) as nonNoneCount by date | table date, totalCount, noneCount, nonNoneCount
disabled = 1


[MPE Fieldmappings Callers-production]
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
dispatchAs = user
display.events.fields = ["host","source","sourcetype","date_year","date_month","date_mday","date_hour","date_minute","date_second","template"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 280
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_pzn-prod" OR index="aws_ceuhc-eks_pzn-uat" OR index="aws_ceuhc-eks_rewards-prod") fieldmappings\
| eval mvcaller=split(X_Rally_CorrelationId,"-")\
| eval caller=mvindex(mvcaller,1)\
| eventstats count(_raw) as total_calls\
| stats count(caller) as caller_count avg(total_calls) as total_calls by caller\
| eval caller_pct=round(caller_count/total_calls *100, 2)\
| table caller, caller_pct, caller_count
disabled = 1


[eHP RPS-production]
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = -7d@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app","class","product","env","X_Rally_CorrelationId"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.events.type = raw
display.general.type = visualizations
display.page.search.mode = fast
display.page.search.tab = visualizations
display.statistics.drilldown = row
display.statistics.show = 0
display.visualizations.charting.chart = line
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_navigation-prod" OR index="aws_ceuhc-eks_navigation-uat") Invoking Optum | bucket _time span=1s | stats count as rps by _time | timechart span=1m avg(rps) max(rps)
disabled = 1

[GPS File Events Broadcasted-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = The scheduled report '$name$' has run. Includes all the file events broadcasted and its count by FuzzleV2.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = core.mnr@rallyhealth.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 0 9 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app","class","product","env","X_Rally_CorrelationId"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.events.type = raw
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.drilldown = row
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_data-prod" sourcetype="kube:container:core-fuzzlev2"  Actor partner gps | rex "\"fileName\":\"(?<fname>.*).txt" | table fname | stats count by fname
disabled = 1

[GPS File Produced-production]
action.email = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.report = Splunk Report: $name$ - last 24hrs
action.email.to = shreyas.purohit@rallyhealth.com, amrinder.sandhu@rallyhealth.com, kaiyuanzheng-optum@rallyhealth.com, anmol.raina@rallyhealth.com, sripriya.thirumeni@rallyhealth.com, core.mnr@rallyhealth.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 0 9 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app","class","product","env","X_Rally_CorrelationId"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.events.type = raw
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.drilldown = row
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_data-prod" sourcetype="kube:container:core-fuzzlev2" "Sending the InternalNewFileEvent" AND gps AND eligibility | rex "s3Path=gps/eligibility/(?<fname>[^.txt]+)" | sort - _time | eval Time=strftime(_time,"%+") | table mesos_app, Time, fname
disabled = 1

[Bad URL-production]
action.email = 1
action.email.inline = 1
action.email.message.alert = java.net.UnknownHostException found in prod! A service is likely not configured correctly!!
action.email.sendresults = 1
action.email.to = livesite@rallyhealth.com
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = #dev-on-call
action.slack.param.message = java.net.UnknownHostException found in prod! A service is likely not configured correctly!!
alert.severity = 4
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 30 * * * *
description = A URL is likely malformed.
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","message_id","databaseName","collection","duration","key","durationMs","uri","queue","shortEvent","userid","data","shortdata","theQuery","env","app","app","status","product"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.chartHeight = 312
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_navigation-prod" OR index="aws_ceuhc-eks_sharkfacts-prod" OR index="aws_ceuhc-eks_connect-prod"  OR index="aws_ceuhc-eks_advantage-prod" OR index="aws_ceuhc-eks_athena-preprod"  OR index="aws_ceuhc-eks_eligibility-prod" OR index="aws_ceuhc-eks_rewards-prod" OR index="aws_ceuhc-eks_rx-prod")"java.net.UnknownHostException"\
 | stats count by product, app, uri | sort by count desc
disabled = 1

[Rx Prod: Error Spike-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.message.alert = '$name$' was triggered on production.
action.email.to = rx-alert@audaxhealth.pagerduty.com, rx-dev@rallyhealth.com
action.email.useNSSubject = 1
action.hipchat = 0
action.hipchat.param.color = red
action.hipchat.param.message = Production Rx alert!
action.hipchat.param.message_format = plain
action.hipchat.param.notify = 1
action.hipchat.param.room = Rally Rx
action.slack = 1
action.slack.param.channel = #rx-alert
action.slack.param.message = *Alert*: Rx Prod: Error Spike\
*Severity*: [$alert.severity$]\
\
```\
$search$\
```\
\
$view_link$
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.severity = 5
alert.suppress = 1
alert.suppress.period = 15m
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
description = Unexpected increase in error rate over 50%
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","from","status","X_Rally_CorrelationId","uri","app","theProblem","user","db","class","clientProdCode","playRoutePattern","playRouteAction"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = earliest=-2h@h latest=now index="aws_ceuhc-eks_rx-prod" NOT "Exception caught in Netty" NOT *Client* | rex field=_raw "^(?:[^ \n]* ){2}(?P<severity>\w+)"\
| stats count by date_hour date_minute | outlier tf count | stats avg(count) as avgErrsByMin | eval errsLast10Mins = [search  (index="aws_ceuhc-eks_rx-prod") earliest=-10m latest=now NOT *Client*| rex field=_raw "^(?:[^ \n]* ){2}(?P<severity>\w+)" | stats count as search]/10 | eval multiplier = (errsLast10Mins/avgErrsByMin) | where (multiplier > 1.5 AND errsLast10Mins > 10)
disabled = 1

[Rx Prod: Errors in stderr-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.message.alert = '$name$' was triggered on production.
action.email.to = rx-alert@audaxhealth.pagerduty.com, rx-dev@rallyhealth.com
action.email.useNSSubject = 1
action.hipchat = 0
action.hipchat.param.color = red
action.hipchat.param.message = Production Rx alert!
action.hipchat.param.message_format = plain
action.hipchat.param.notify = 1
action.hipchat.param.room = Rx Release
action.slack = 1
action.slack.param.channel = #rx-alert
action.slack.param.message = *Alert*: Rx Prod: Errors in `stderr`\
*Severity*: [$alert.severity$]\
\
```\
$search$\
```\
\
$view_link$
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.severity = 5
alert.suppress = 1
alert.suppress.period = 15m
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
description = Alerts for Ingest failures. Runbook here: https://wiki.audaxhealth.com/display/RX/Rx+Alert%3A+Errors+in+stderr
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","from","status","X_Rally_CorrelationId","uri","app","theProblem","user","db","class","clientProdCode","playRoutePattern","playRouteAction"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod" product=rx app=*-web ERROR OR Exception AND NOT (docker OR evolutions) | stats values(mesos_app) as mesos_app first(_time) as time list(_raw) by mesos_task | fieldformat time=strftime('time', "%+") 
disabled = 1

[7 Day Average Daily MNR Step Completions-production]
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = 1602028800
dispatch.latest_time = 1602633600
display.events.fields = ["host","source","sourcetype","date_year","date_month","date_mday","date_hour","date_minute","date_second","template"]
display.general.type = visualizations
display.page.search.mode = verbose
display.page.search.tab = visualizations
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 545
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" 2458350c-3a38-4ecc-8c14-1e6d883dcaf8 app="progression-signals" ":5" | bin _time span=1d | stats count(_raw) as NumCompletions by _time \
| chart avg(NumCompletions) by _time
disabled = 1

[Rx Prod: Errors in Ingest-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.message.alert = '$name$' was triggered on production.
action.email.to = rx-dev@rallyhealth.com
action.email.useNSSubject = 1
action.hipchat = 0
action.hipchat.param.color = red
action.hipchat.param.message = Production Rx alert!
action.hipchat.param.message_format = plain
action.hipchat.param.notify = 1
action.hipchat.param.room = Rx Release
action.slack = 1
action.slack.param.channel = #rx-alert
action.slack.param.message = *Alert*: Rx Prod: Errors in Ingest\
*Severity*: [$alert.severity$]\
\
```\
$search$\
```\
\
$view_link$
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 1
alert.suppress.period = 15m
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
description = Alerts for Ingest failures. Runbook here:https://wiki.audaxhealth.com/display/RX/Rx+Alert%3A+Rx+Prod%3A+Errors+in+Ingest
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","from","status","X_Rally_CorrelationId","uri","app","theProblem","user","db","class","clientProdCode","playRoutePattern","playRouteAction"]
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod" sourcetype="kube:container:ingest"    | rex field=_raw "^[^\]\n]*\]\s+(?P<severity>\w+)" |search   severity=ERROR
disabled = 1

[GPS File Event Not Sent for Daily File-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.report = The scheduled report '$name$' has run. Includes all the file events broadcasted and its count by FuzzleV2.
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.alert = GPS Daily File Event Not Sent From FuzzleV2
action.email.to = core.mnr@rallyhealth.com, coresplunkreports@rallyhealth.com
action.email.useNSSubject = 1
action.hipchat = 1
action.hipchat.param.color = red
action.hipchat.param.message = GPS Daily File Event Not Sent from Fuzzle V2
action.hipchat.param.message_format = plain
action.hipchat.param.notify = 1
action.hipchat.param.room = CORE: HALP
alert.severity = 4
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 8 * * *
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app","class","product","env","X_Rally_CorrelationId"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.events.type = raw
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.drilldown = row
display.visualizations.charting.chart = line
display.visualizations.show = 0
enableSched = 1
quantity = 0
relation = equal to
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_data-prod" OR index="aws_ceuhc-eks_data-uat")  sourcetype="kube:container:core-fuzzlev2" SftpScanService AND "Sending the InternalNewFileEvent for fileName" AND gps AND eligibility | eval fname=fileName | eval today = strftime(now(), "%Y%m%d") | eval searchStr = "%". today ."%"| eval result=if(like(fname,searchStr),"Yes","No") | table fname, today, result, searchStr | where like(result, "%Yes%")
disabled = 1

[Incentives Activity Status Info API Response Time-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.message.alert = The alert condition for '$name$' was triggered. Incentives activity status info API is taking too long.
action.email.priority = 2
action.email.to = john.li@rallyhealth.com, zachary.wheeler@rallyhealth.com
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.channel = #yolo-doc
action.slack.param.message = Please consider restarting rewardweb
alert.digest_mode = 0
alert.suppress = 0
alert.suppress.period = 60m
alert.track = 1
alert_condition = search count > 0
counttype = number of events
cron_schedule = 0 * * * *
description = Alert when incentives activity status info API is taking too long.
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.visualizations.charting.chart = line
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_rewards-prod"  OR index="aws_ceuhc-eks_rewards-uat" ) "activityStatusInfo" sourcetype="kube:container:rewards-rewardweb"  durationMs>1000
disabled = 1

[MYUHC2.5_VBF1_Login_LandingURL_Errors-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.alert = MYUHC2.5_VBF1_Login_Landing URL_RallySplunk
action.email.to = portalsOMMYUHCOnCall@ds.uhc.com, 3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = # myuhc-2-5-alerts
action.slack.param.message = VBF1_Login_LandingURL_Errors Alert
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */5 * * * *
dispatch.earliest_time = -5m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","cluster_name","container_id","container_name","env","eventtype","index","linecount","namespace","pod","punct","respDetails.AEMSULEVEL","respDetails.aemsulevel","respDetails.AEMSURACFID","respDetails.aemsuracfid","respDetails.apiUrl","respDetails.app","respDetails.appLoadTime","respDetails.CID","respDetails.cid","respDetails.class","respDetails.duration","respDetails.error","respDetails.function","respDetails.isDentalOnly","respDetails.isIEX","respDetails.isSuperUserLogin","respDetails.landingUri","respDetails.lineOfBusiness","respDetails.membershipCategory","respDetails.microApp","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.apiDetails{}.cid","respDetails.msg.apiDetails{}.duration","respDetails.msg.apiDetails{}.error","respDetails.msg.apiDetails{}.responseCode","respDetails.msg.apiDetails{}.status","respDetails.msg.duration","respDetails.msg.function","respDetails.msg.status","respDetails.originalText","respDetails.pageLoadInfo{}.apiUrl","respDetails.pageLoadInfo{}.cid","respDetails.pageLoadInfo{}.duration","respDetails.pageLoadInfo{}.endpoint","respDetails.pageLoadInfo{}.function","respDetails.pageLoadInfo{}.responseCode","respDetails.pageLoadInfo{}.status","respDetails.policyNumber","respDetails.PostUrl","respDetails.referer","respDetails.responseCode","respDetails.router","respDetails.status","respDetails.timeStamp","respDetails.token","respDetails.uid","respDetails.url","respDetails.userInfo","respDetails.uuid","respDetails.uuid2","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","aem-mode","charset","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","instance_id","response_status","role","timeendpos","timestartpos"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:Container:myuhc-logger" respDetails.microApp=*\
respDetails.landingUri="https://member.myuhc.com" OR respDetails.landingUri="https://member.myuhc.com/dashboard*"\
OR respDetails.landingUri="https://member.myuhc.com/activate*" respDetails.responseCode>300\
| stats count by  respDetails.microApp, respDetails.landingUri,respDetails.responseCode\
| where count>5
disabled = 1

[MYUHC2.5_VBF1_Login_ProfileAPI_Errors-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = portalsOMMYUHCOnCall@ds.uhc.com, 3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = # myuhc-2-5-alerts
action.slack.param.message = VBF1_Login_ProfileAPI_Errors Alert
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */15 * * * *
description = Provide profile api errors for past 5 mins
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","cluster_name","container_id","container_name","env","eventtype","index","linecount","namespace","pod","punct","respDetails.AEMSULEVEL","respDetails.aemsulevel","respDetails.AEMSURACFID","respDetails.aemsuracfid","respDetails.apiUrl","respDetails.app","respDetails.appLoadTime","respDetails.CID","respDetails.cid","respDetails.class","respDetails.duration","respDetails.error","respDetails.function","respDetails.isDentalOnly","respDetails.isIEX","respDetails.isSuperUserLogin","respDetails.landingUri","respDetails.lineOfBusiness","respDetails.membershipCategory","respDetails.microApp","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.apiDetails{}.cid","respDetails.msg.apiDetails{}.duration","respDetails.msg.apiDetails{}.error","respDetails.msg.apiDetails{}.responseCode","respDetails.msg.apiDetails{}.status","respDetails.msg.duration","respDetails.msg.function","respDetails.msg.status","respDetails.originalText","respDetails.pageLoadInfo{}.apiUrl","respDetails.pageLoadInfo{}.cid","respDetails.pageLoadInfo{}.duration","respDetails.pageLoadInfo{}.endpoint","respDetails.pageLoadInfo{}.function","respDetails.pageLoadInfo{}.responseCode","respDetails.pageLoadInfo{}.status","respDetails.policyNumber","respDetails.PostUrl","respDetails.referer","respDetails.responseCode","respDetails.router","respDetails.status","respDetails.timeStamp","respDetails.token","respDetails.uid","respDetails.url","respDetails.userInfo","respDetails.uuid","respDetails.uuid2","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","aem-mode","charset","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","instance_id","response_status","role","timeendpos","timestartpos"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger"  "respDetails.apiUrl"="https://gateway.optum.com/api/cel/uhcd-member*" respDetails.responseCode>300 AND respDetails.responseCode!=NULL\
| stats count by   "respDetails.microApp",  "respDetails.apiUrl", "respDetails.responseCode"\
|where count>5
disabled = 1

[VolumeBasedAlerts_MYUHC2.5_VBF3_View_Dental_Claims-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.subject.alert = $name$
action.email.to = a424448d.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 0
action.slack.param.attachment = message
action.slack.param.channel = # volumebasedalerts-myuhc2-0
action.slack.param.message = $name$
alert.suppress = 0
alert.track = 1
alert_condition = where Percentage_Difference > 24
counttype = number of events
cron_schedule = 0 * * * *
description = Default cases:\
0 - If there are no differences or when login in Both hours in comparison are zero.\
100 - If there are no logins in previous week's hour\
X - actual difference number
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-claims/v4.7/claimstatus*DENTAL*" earliest=-1h@h latest=@h \
| stats count as CurrWeekCount \
| appendcols [search index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-claims/v4.7/claimstatus*DENTAL*" earliest=-1h@h-1w latest=@h-1w \
| stats count as LastWeekCount ] \
| eval Percentage=if (LastWeekCount == 0, if(CurrWeekCount == 0, 0, 100), ((CurrWeekCount - LastWeekCount)/LastWeekCount)*100) | where abs(Percentage) > 24
disabled = 1

[VolumeBasedAlerts_MyUHC2.5_VBF-3 View Medical And Pharmacy Claims-Premium Payments-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.subject.alert = $name$
action.email.to = a424448d.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment earliest=-1h@h latest=@h  | search "respDetails.msg.apiUrl"="*/api/fin/billing/bills/v2/search*" OR "*/api/fin/billing/receipts/v1/search*" OR "*/api/fin/billing/recurring-payments/v1/search*"\
| stats count as CurrWeekCount \
| appendcols [search index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment earliest=-1h@h-1w latest=@h-1w | search "respDetails.msg.apiUrl"="*/api/fin/billing/bills/v2/search*" OR "*/api/fin/billing/receipts/v1/search*" OR "*/api/fin/billing/recurring-payments/v1/search*"\
| stats count as LastWeekCount ] \
| eval CurrWeekCount=round(CurrWeekCount/3)\
| eval LastWeekCount=round(LastWeekCount/3)\
| eval Percentage=if (LastWeekCount == 0, if(CurrWeekCount == 0, 0, 100), ((CurrWeekCount - LastWeekCount)/LastWeekCount)*100) | where abs(Percentage) > 24
disabled = 1

[VolumeBasedAlerts_MyUHC2.5_VBF-2 Medical and Dental Account Balances-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.subject.alert = $name$
action.email.to = a424448d.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" ""respDetails.msg.msg.apiUrl""=""*uhcd-plans/v5/plandetails*"" earliest=-1h@h latest=@h \
| stats count as CurrWeekCount \
| appendcols\
[search index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-plans/v5/plandetails*" earliest=-1h@h-1w latest=@h-1w \
| stats count as LastWeekCount ] \
| eval Percentage=if (LastWeekCount == 0, if(CurrWeekCount == 0, 0, 100), ((CurrWeekCount - LastWeekCount)/LastWeekCount)*100) | where abs(Percentage) > 24
disabled = 1

[VolumeBasedAlerts_MYUHC2.5_VBF6_IDCard_Medical-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.subject.alert = $name$
action.email.to = a424448d.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-idcard/v4.6/view?cardType=Medical*" earliest=-1h@h latest=@h\
| stats count as CurrWeekCount\
| appendcols [search index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-idcard/v4.6/view?cardType=Medical*" earliest=-1h@h-1w latest=@h-1w\
| stats count as LastWeekCount ]\
| eval Percentage=if (LastWeekCount == 0, if(CurrWeekCount == 0, 0, 100), ((CurrWeekCount - LastWeekCount)/LastWeekCount)*100) | where abs(Percentage) > 24
disabled = 1

[VolumeBasedAlerts_MYUHC2.5_VBF6_IDCard_Vision-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.subject.alert = $name$
action.email.to = a424448d.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-idcard/v4.6/view?cardType=Vision*" earliest=-1h@h latest=@h\
| stats count as CurrWeekCount\
| appendcols [search index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-idcard/v4.6/view?cardType=Vision*" earliest=-1h@h-1w latest=@h-1w\
| stats count as LastWeekCount ]\
| eval Percentage=if (LastWeekCount == 0, if(CurrWeekCount == 0, 0, 100), ((CurrWeekCount - LastWeekCount)/LastWeekCount)*100) | where abs(Percentage) > 24
disabled = 1

[VolumeBasedAlerts_MYUHC2.5_VBF6_IDCard_Dental-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.subject.alert = $name$
action.email.to = a424448d.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-idcard/v4.6/view?cardType=Dental*" earliest=-1h@h latest=@h\
| stats count as CurrWeekCount\
| appendcols [search index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-idcard/v4.6/view?cardType=Dental*" earliest=-1h@h-1w latest=@h-1w\
| stats count as LastWeekCount ]\
| eval Percentage=if (LastWeekCount == 0, if(CurrWeekCount == 0, 0, 100), ((CurrWeekCount - LastWeekCount)/LastWeekCount)*100) | where abs(Percentage) > 24
disabled = 1

[MYUHC2.5_VBF3_Claims_Error-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = PortalsOMMYUHC_DL@ds.uhc.com, 3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = # myuhc-2-5-alerts
action.slack.param.message = VBF3_Claims_Error Alert
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger"  "respDetails.microApp"=claims "respDetails.msg.msg.apiUrl"="*claimstatus/*" "respDetails.msg.msg.responseCode">300  | stats count by "respDetails.microApp" "respDetails.msg.msg.apiUrl" "respDetails.msg.msg.responseCode" | where count > 3
disabled = 1

[MYUHC2.5_VBF8_ClaimDocuments_Error-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = PortalsOMMYUHC_DL@ds.uhc.com, 3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = # myuhc-2-5-alerts
action.slack.param.message = VBF8_ClaimDocuments_Error Alert
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 0
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*claimdocuments*" "respDetails.microApp"=claims "respDetails.msg.msg.responseCode">=400 | stats count by "respDetails.microApp" "respDetails.msg.msg.apiUrl" "respDetails.msg.msg.responseCode" | where count > 3
disabled = 1

[MYUHC2.5_VBF9_RXPageLoad-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.alert = MYUHC2.5_VBF9_RXPageLoad_RallySplunk
action.email.to = PortalsOMMYUHC_DL@ds.uhc.com, 3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = # myuhc-2-5-alerts
action.slack.param.message = VBF9_RXPageLoad Alert
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -1m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","cluster_name","container_id","container_name","env","eventtype","index","linecount","namespace","pod","punct","respDetails.AEMSULEVEL","respDetails.aemsulevel","respDetails.AEMSURACFID","respDetails.aemsuracfid","respDetails.apiUrl","respDetails.app","respDetails.appLoadTime","respDetails.CID","respDetails.cid","respDetails.class","respDetails.duration","respDetails.error","respDetails.function","respDetails.isDentalOnly","respDetails.isIEX","respDetails.isSuperUserLogin","respDetails.landingUri","respDetails.lineOfBusiness","respDetails.membershipCategory","respDetails.microApp","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.apiDetails{}.cid","respDetails.msg.apiDetails{}.duration","respDetails.msg.apiDetails{}.error","respDetails.msg.apiDetails{}.responseCode","respDetails.msg.apiDetails{}.status","respDetails.msg.duration","respDetails.msg.function","respDetails.msg.status","respDetails.originalText","respDetails.pageLoadInfo{}.apiUrl","respDetails.pageLoadInfo{}.cid","respDetails.pageLoadInfo{}.duration","respDetails.pageLoadInfo{}.endpoint","respDetails.pageLoadInfo{}.function","respDetails.pageLoadInfo{}.responseCode","respDetails.pageLoadInfo{}.status","respDetails.policyNumber","respDetails.PostUrl","respDetails.referer","respDetails.responseCode","respDetails.router","respDetails.status","respDetails.timeStamp","respDetails.token","respDetails.uid","respDetails.url","respDetails.userInfo","respDetails.uuid","respDetails.uuid2","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","aem-mode","charset","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","instance_id","response_status","role","timeendpos","timestartpos","Url","path","httpsResult","Status"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" "referrer"="https://member.myuhc.com/rx"  "status">=400\
| stats count by host, "referrer",  "status" | where count>1
disabled = 1

[MYUHC2.5_VBF10_AccountProfile-production]
action.email = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.alert = MYUHC2.5_VBF10_AccountProfile_RallySplunk
action.email.to = portalsOMMYUHCOnCall@ds.uhc.com, 3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = # myuhc-2-5-alerts
action.slack.param.message = VBF10_AccountProfile Alert
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 0
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","cluster_name","container_id","container_name","env","eventtype","index","linecount","namespace","pod","punct","respDetails.AEMSULEVEL","respDetails.aemsulevel","respDetails.AEMSURACFID","respDetails.aemsuracfid","respDetails.apiUrl","respDetails.app","respDetails.appLoadTime","respDetails.CID","respDetails.cid","respDetails.class","respDetails.duration","respDetails.error","respDetails.function","respDetails.isDentalOnly","respDetails.isIEX","respDetails.isSuperUserLogin","respDetails.landingUri","respDetails.lineOfBusiness","respDetails.membershipCategory","respDetails.microApp","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.apiDetails{}.cid","respDetails.msg.apiDetails{}.duration","respDetails.msg.apiDetails{}.error","respDetails.msg.apiDetails{}.responseCode","respDetails.msg.apiDetails{}.status","respDetails.msg.duration","respDetails.msg.function","respDetails.msg.status","respDetails.originalText","respDetails.pageLoadInfo{}.apiUrl","respDetails.pageLoadInfo{}.cid","respDetails.pageLoadInfo{}.duration","respDetails.pageLoadInfo{}.endpoint","respDetails.pageLoadInfo{}.function","respDetails.pageLoadInfo{}.responseCode","respDetails.pageLoadInfo{}.status","respDetails.policyNumber","respDetails.PostUrl","respDetails.referer","respDetails.responseCode","respDetails.router","respDetails.status","respDetails.timeStamp","respDetails.token","respDetails.uid","respDetails.url","respDetails.userInfo","respDetails.uuid","respDetails.uuid2","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","aem-mode","charset","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","instance_id","response_status","role","timeendpos","timestartpos","Url","path","httpsResult","Status"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:Container:myuhc-logger" *https://member.myuhc.com/accountprofile* respDetails.responseCode>=400\
| spath respDetails.landingUri\
| search respDetails.landingUri="https://member.myuhc.com/accountprofile*"\
| stats count by  respDetails.landingUri, respDetails.responseCode\
| where count>5
disabled = 1

[MYUHC2.5_VBF10_EOB-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.alert = MYUHC2.5_VBF10_EOB_RallySplunk
action.email.to = portalsOMMYUHCOnCall@ds.uhc.com, 3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = # myuhc-2-5-alerts
action.slack.param.message = VBF10_EOB Alert
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","cluster_name","container_id","container_name","env","eventtype","index","linecount","namespace","pod","punct","respDetails.AEMSULEVEL","respDetails.aemsulevel","respDetails.AEMSURACFID","respDetails.aemsuracfid","respDetails.apiUrl","respDetails.app","respDetails.appLoadTime","respDetails.CID","respDetails.cid","respDetails.class","respDetails.duration","respDetails.error","respDetails.function","respDetails.isDentalOnly","respDetails.isIEX","respDetails.isSuperUserLogin","respDetails.landingUri","respDetails.lineOfBusiness","respDetails.membershipCategory","respDetails.microApp","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.apiDetails{}.cid","respDetails.msg.apiDetails{}.duration","respDetails.msg.apiDetails{}.error","respDetails.msg.apiDetails{}.responseCode","respDetails.msg.apiDetails{}.status","respDetails.msg.duration","respDetails.msg.function","respDetails.msg.status","respDetails.originalText","respDetails.pageLoadInfo{}.apiUrl","respDetails.pageLoadInfo{}.cid","respDetails.pageLoadInfo{}.duration","respDetails.pageLoadInfo{}.endpoint","respDetails.pageLoadInfo{}.function","respDetails.pageLoadInfo{}.responseCode","respDetails.pageLoadInfo{}.status","respDetails.policyNumber","respDetails.PostUrl","respDetails.referer","respDetails.responseCode","respDetails.router","respDetails.status","respDetails.timeStamp","respDetails.token","respDetails.uid","respDetails.url","respDetails.userInfo","respDetails.uuid","respDetails.uuid2","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","aem-mode","charset","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","instance_id","response_status","role","timeendpos","timestartpos"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:Container:myuhc-logger" respDetails.msg.msg.responseCode>=400\
| spath respDetails.msg.msg.apiUrl\
| search respDetails.msg.msg.apiUrl="*claimdocuments*eob*" \
| stats count by respDetails.microApp,respDetails.msg.msg.apiUrl, respDetails.msg.msg.responseCode\
| rename respDetails.microApp AS MicroApp, respDetails.msg.msg.apiUrl AS ApiURL, respDetails.msg.msg.responseCode AS ResponseCode\
| where count>1
disabled = 1

[VolumeBasedAlerts_MyUHC2.5_VBF-3 View Medical And Pharmacy Claims-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.subject.alert = $name$
action.email.to = a424448d.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
alert_condition = | where diffPercentage > 24
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" ""respDetails.msg.msg.apiUrl""=""*uhcd-claims/*/claimstatus*"" earliest=-1h@h latest=@h \
| stats count as CurrWeekCount \
| appendcols [search index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-claims/*/claimstatus*" earliest=-1h@h-1w latest=@h-1w \
| stats count as LastWeekCount ] \
| eval Percentage=if (LastWeekCount == 0, if(CurrWeekCount == 0, 0, 100), ((CurrWeekCount - LastWeekCount)/LastWeekCount)*100) | where abs(Percentage) > 24
disabled = 1

[VolumeBasedAlerts_MYUHC2.5_VBF8- Benefits And Coverages-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = portalsOMMYUHCOnCall@ds.uhc.com, a424448d.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-plans/v5/plandetails*" earliest=-1h@h latest=@h \
| stats count as CurrWeekCount \
| appendcols [search index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.msg.msg.apiUrl"="*uhcd-plans/v5/plandetails*" earliest=-1h@h-1w latest=@h-1w \
| stats count as LastWeekCount ] \
| eval Percentage_Difference=if (LastWeekCount == 0, if(CurrWeekCount == 0, 0, 100), abs(((CurrWeekCount - LastWeekCount)/LastWeekCount)*100)) | where Percentage_Difference > 24
disabled = 1

[DebugLevelEnabled - K8-production]
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = -15m
dispatch.latest_time = now
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = area
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_*-prod" OR index="aws_ceuhc-eks_*-uat" ) sourcetype="kube:container:*" debug | stats count by sourcetype index |search count>100|sort by -count
disabled = 1

[Gift Card Deletion Detected-production]
action.email = 1
action.email.cc = john.li@rallyhealth.com
action.email.inline = 1
action.email.sendresults = 1
action.email.to = security-alerts@rallyhealth.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = deployment.environment=k8s-prod index="aws_ceuhc-eks_rewards-prod" product=rewards "might delete some gift card transactions" OR "Delete gift card transaction"
disabled = 1

[Incentives Gap Data Alert-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = john.li@rallyhealth.com, troy.burton@rallyhealth.com, aditya.varanasi@rallyhealth.com
action.email.useNSSubject = 1
action.hipchat = 0
action.hipchat.param.message_format = html
action.hipchat.param.notify = 0
action.hipchat.param.room = Team Carbs
action.slack = 0
action.slack.param.channel = #tyche-notifications
action.slack.param.message = Incentives gap data alert was triggered in production
alert.suppress = 1
alert.suppress.period = 60m
alert.track = 0
counttype = number of events
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" deployment.environment="k8s-prod" "event processing is not enabled." OR "Skipping gap" OR "Gap event can't be converted to HasGapRecord"
disabled = 1

[myUHC2.5-Payment Exceptions-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com, yarlagadda_babu@optum.com, 3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-payment" responseType=exception | stats count | where count > 5
disabled = 1

[IFP_Autopay_Payment_Errors_v2-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com, yarlagadda_babu@optum.com, aparna.makthedar@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment "respDetails.msg.function"=*confirm* "respDetails.msg.paymentType"=autoPay "respDetails.msg.paymentMethod"=* \
| eval is_success=if(match("respDetails.msg.status","success"),0,1)\
| stats sum(is_success) AS success_count by "respDetails.msg.memberId"\
| stats count as TotalDistinctClients, count(eval(success_count>0)) as DistinctIDsWithSuccess\
| eval DistinctIDsWithErrors=(TotalDistinctClients-DistinctIDsWithSuccess)\
| eval autoPayFailurePerct = (DistinctIDsWithErrors/DistinctIDsWithSuccess)*100\
| fields DistinctIDsWithSuccess DistinctIDsWithErrors autoPayFailurePerct\
| where autoPayFailurePerct >= 2
disabled = 1

[MYUHC2.5_VBF6_IdCard_Error-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.subject.alert = Rally Splunk Alert: $name$
action.email.to = PortalsOMMYUHC_DL@ds.uhc.com, 3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = message
action.slack.param.channel = # myuhc-2-5-alerts
action.slack.param.message = VBF6_IdCard_Error Alert
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=accountprofile "respDetails.msg.msg.apiUrl"="https://accountprofile.member.myuhc.com/uhcd-idcard/*" "respDetails.msg.msg.responseCode">=400  "respDetails.msg.msg.apiUrl"!="*uhcd-idcard/v4.6/order?coverageType=Dental" | stats  count by respDetails.microApp respDetails.msg.msg.apiUrl respDetails.msg.msg.responseCode | where count > 20
disabled = 1

[MYUHC2.5_VBF5_Financial Accounts Balances_API_Errors_Updated-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = portalsOMMYUHCOnCall@ds.uhc.com, 3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = # myuhc-2-5-alerts
action.slack.param.message = VBF5_Financial Accounts Balances_API_Errors Alert
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 0
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger"\
| search respDetails.apiUrl="*uhcd-financial/*/accountbalance"\
| search respDetails.microApp=dashboard\
| rename respDetails.apiUrl as API, respDetails.responseCode as STATUS\
| eval TEMP= mvzip(API, STATUS)\
| stats count by API TEMP \
| search API=*accountbalance*\
| eval API = mvindex(split(TEMP,","),0), StatusCode= mvindex(split(TEMP,","),1)\
| search API=*accountbalance* StatusCode>=400\
| where count > 20
disabled = 1

[IFP_One_Time_Payment_Errors-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com, yarlagadda_babu@optum.com, aparna.makthedar@optum.com, brendan.smith@uhc.com, GO_ENR_IFP_IRT@uhc.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment "respDetails.function"=UpgPaymentFailureError* "respDetails.postObj.paymentType"="One-time" | stats count as ccErrors \
| appendcols [ search \
index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment  "respDetails.msg.function"=*confirm*  "respDetails.msg.status"=success "respDetails.msg.paymentType"=oneTime "respDetails.msg.paymentMethod"=CC | stats dc("respDetails.msg.memberId") as ccSuccess ] \
| appendcols [ search \
index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment  "respDetails.msg.apiUrl"="https://payment.member.myuhc.com/fin/billing/payments/v1/api/fin/billing/payments/v1" NOT "Account Number *"| stats count(eval('respDetails.msg.responseCode'!=200)) as achErrors count(eval('respDetails.msg.responseCode'=200)) as achSuccess ] \
| eval percentErrors=((ccErrors+achErrors)/(ccSuccess+achSuccess+ccErrors+achErrors))*100\
| where percentErrors>=5
disabled = 1

[IFP_Autopay_Payment_Errors-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com, yarlagadda_babu@optum.com, aparna.makthedar@optum.com, brendan.smith@uhc.com, GO_ENR_IFP_IRT@uhc.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment  "respDetails.msg.function"=*confirm*  "respDetails.msg.status"=success "respDetails.msg.paymentType"=autoPay "respDetails.msg.paymentMethod"=* | stats dc("respDetails.msg.memberId") as autoPaySuccess \
| appendcols [ search \
index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment  "respDetails.msg.function"=*confirm*  "respDetails.msg.status"!=success "respDetails.msg.paymentType"=autoPay "respDetails.msg.paymentMethod"=* | stats dc("respDetails.msg.memberId") as autoPayErrors ] \
| eval percentErr=(autoPayErrors/(autoPayErrors + autoPaySuccess))*100\
| eval percentErr = if(isnull(percentErr),0,percentErr)\
| where percentErr>=5
disabled = 1

[PASS-3682 pass-edge cannot communicate with BE services-production]
action.email = 1
action.email.to = pass-backend-monitoring@rallyhealth.com
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = #pass-dev-on-call
action.slack.param.message = Pass edge cannot communicate with BE services
alert.suppress = 1
alert.suppress.period = 1h
alert.track = 1
counttype = number of events
cron_schedule = * * * * *
dispatch.earliest_time = rt-1m
dispatch.latest_time = rt-0m
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_pass-prod" sourcetype="kube:container:pass-edge" "503 Service Temporarily Unavailable"
disabled = 1

[Myuhc2.5 - Binder And Effectuated Wallet Metrics-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = yarlagadda_babu@optum.com, vyas_bellamkonda@optum.com,\
michael_bierden@uhc.com,\
asad.rizvi@optum.com,\
linsey.feit@optum.com,\
justin.ehret@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 12 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.rowNumbers = 1
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod*" sourcetype="kube:container:myuhc-logger" \
respDetails.microApp=payment\
respDetails.msg.function=UseWalletService  NOT respDetails.msg.serviceType=SEARCH\
| stats count by respDetails.paymentFlow respDetails.msg.requestObj.subscriberId respDetails.msg.requestObj.groupId respDetails.msg.requestObj.wallet.accountType respDetails.msg.serviceType respDetails.msg.responseCode respDetails.msg.cid respDetails.msg.pageUrl
disabled = 1

[broken deep links-production]
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = 1657774800
dispatch.latest_time = 1657947600
display.events.fields = ["host","source","app","severity","product","playRoutePattern","durationMs","uri","Rally_Caller","tenant","X_Rally_CorrelationId","action"]
display.events.list.drilldown = none
display.events.list.wrap = 0
display.events.raw.drilldown = none
display.events.table.wrap = 0
display.events.type = raw
display.general.type = statistics
display.page.search.patterns.sensitivity = 0.9
display.page.search.tab = statistics
display.statistics.drilldown = none
display.statistics.wrap = 0
display.visualizations.chartHeight = 555
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_navigation-prod" OR index="aws_ceuhc-eks_navigation-uat")sourcetype="kube:container:arcade-user" "deeplink=" status=400\
| rex field=_raw "^(?:[^ \n]* ){4}(?P<class>[^:]+)" | search class="c.r.a.c.b.ArcadeAccessLogInterceptor$"\
| rex field=uri "deeplink=(?P<deeplink>.*)Den-US"\
| eval deeplink=replace(deeplink, "%3F", "?") \
| eval deeplink=replace(deeplink, "%3A", ":") \
| eval deeplink=replace(deeplink, "%2F", "/") \
| eval date=strftime(_time,"%Y-%m-%d")\
| stats  count by deeplink, date
disabled = 1

[Myuhc2.5 - EarlyPay Wallet Metrics-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = yarlagadda_babu@optum.com, vyas_bellamkonda@optum.com,\
michael_bierden@uhc.com,\
asad.rizvi@optum.com,\
linsey.feit@optum.com,\
justin.ehret@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 12 * * *
dispatch.earliest_time = -24h@h
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.rowNumbers = 1
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=payment  respDetails.msg.function=UseWalletService NOT respDetails.msg.serviceType=SEARCH\
| stats count by respDetails.paymentFlow  respDetails.msg.requestObj.exchangeId  respDetails.msg.requestObj.groupId  respDetails.msg.requestObj.wallet.accountType respDetails.msg.serviceType respDetails.msg.responseCode respDetails.msg.cid  respDetails.msg.pageUrl
disabled = 1

[IFP_Effectuated_V3_Bills_API_Failure_%-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com,\
besarta.halili@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.api"]
display.general.type = statistics
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment "respDetails.msg.apiUrl"="https://payment.member.myuhc.com/fin/billing/bills/v3/search/api/fin/billing/bills/v3/search" \
"respDetails.paymentFlow"=EFFECTUATED | rename respDetails.msg.status as STATUS | top STATUS | where STATUS = "Error" | search percent > 5
disabled = 1

[IFP_Binder_V3_Bills_API_Failure_%-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com,\
besarta.halili@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.api"]
display.general.type = statistics
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment "respDetails.msg.apiUrl"="https://payment.member.myuhc.com/fin/billing/bills/v3/search/api/fin/billing/bills/v3/search" "respDetails.paymentFlow"=BINDER | rename respDetails.msg.status as STATUS | top STATUS | where STATUS = "Error" | search percent > 5
disabled = 1

[IFP_Effectuated_AutoPaySearch_Fails-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com,\
besarta.halili@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.api"]
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment "respDetails.msg.apiUrl"="https://payment.member.myuhc.com/fin/billing/recurring-payments/v1/search/api/fin/billing/recurring-payments/v1/search"\
 "respDetails.paymentFlow"=EFFECTUATED | rename respDetails.msg.status as STATUS | search STATUS=Error
disabled = 1

[IFP_Effectuated_PaymentHistory_Fails-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com,\
besarta.halili@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.api"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment "respDetails.msg.apiUrl"="https://payment.member.myuhc.com/fin/billing/receipts/v1/search/api/fin/billing/receipts/v1/search" \
"respDetails.paymentFlow"=EFFECTUATED | rename respDetails.msg.status as STATUS | top STATUS | where STATUS = "Error"
disabled = 1

[IFP_Duplicate_Payments-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.to = rcendana@optum.com, vyas_bellamkonda@optum.com, karthikeyan.sekar@optum.com, aparna.makthedar@optum.com, divya.bogoju@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.api"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment "respDetails.paymentFlow"=* "respDetails.msg.function"=* | spath "respDetails.msg.paymentMethod"\
 | spath "respDetails.msg.memberId" | search "respDetails.msg.memberId"=* | spath "respDetails.msg.apiUrl" \
 | search "respDetails.msg.apiUrl"="https://payment.member.myuhc.com/fin/billing/payments/v1/api/fin/billing/payments/v1" \
 | stats  count by "respDetails.paymentFlow" "respDetails.msg.paymentEvent.PAYMENT_METHOD" "respDetails.msg.memberId" "respDetails.msg.paymentEvent.AMOUNT"\
 | where  count>1
disabled = 1

[Future Publish Failed to Run in Bluesteel-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = Splunk could not find an aion/future publish log within the last 30 minutes in Bluesteel.\
\
See https://wiki.audaxhealth.com/display/ENG/Force+Dev+On+Call+-+troubleshooting+apps#ForceDevOnCalltroubleshootingapps-aion\
\
If you respond to this before the start of the next hour, retrigger the aion cronjob via lens or via kubectl to retry the futurePublish:\
\
```\
rally-kubectl -e force-rally-prod -t force-uat-2\
kubectl -nengine create job --from=cronjob/engine-aion "engine-aion-$(date +%s)"\
```
action.email.priority = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = force-engineers@rallyhealth.com,forceengineers@uhgazure.onmicrosoft.com
action.email.useNSSubject = 1
action.pagerduty = 0
action.pagerduty.param.integration_url_override = https://events.pagerduty.com/integration/6b55980acef143d7b081cc36428f96eb/enqueue
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 30 * * * *
dispatch.earliest_time = -30m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = equal to
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_force-uat" sourcetype="kube:container:engine-aion" deployment.environment=k8s-uat  namespace=engine "Aion future publish status: Total future publish"
disabled = 1

[Future Publish Failed to Run in Prod-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = Splunk could not find an aion/future publish log within the last 30 minutes in Prod.\
\
See https://wiki.audaxhealth.com/display/ENG/Force+Dev+On+Call+-+troubleshooting+apps#ForceDevOnCalltroubleshootingapps-aion\
\
If you respond to this before the start of the next hour, retrigger the aion cronjob via lens or via kubectl to retry the futurePublish:\
\
```\
rally-kubectl -e force-rally-prod -t force-prod-1\
kubectl -nengine create job --from=cronjob/engine-aion "engine-aion-$(date +%s)"\
```
action.email.priority = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = force-engineers@rallyhealth.com,forceengineers@uhgazure.onmicrosoft.com
action.email.useNSSubject = 1
action.pagerduty = 0
action.pagerduty.param.integration_url_override = https://events.pagerduty.com/integration/6b55980acef143d7b081cc36428f96eb/enqueue
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 30 * * * *
dispatch.earliest_time = -30m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = equal to
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_force-prod" sourcetype="kube:container:engine-aion" deployment.environment=k8s-prod namespace=engine "Aion future publish status: Total future publish"
disabled = 1

[Future Publish Failure in Bluesteel-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = A Future Publish failure occurred in Bluesteel.\
\
See https://wiki.audaxhealth.com/display/ENG/Force+Dev+On+Call+-+troubleshooting+apps#ForceDevOnCalltroubleshootingapps-aion\
\
If you respond to this before the start of the next hour, retrigger the aion cronjob via lens or via kubectl to retry the futurePublish:\
\
```\
rally-kubectl -e force-rally-prod -t force-uat-1\
kubectl -nengine create job --from=cronjob/engine-aion "engine-aion-$(date +%s)"\
```
action.email.priority = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = force-engineers@rallyhealth.com,forceengineers@uhgazure.onmicrosoft.com
action.email.useNSSubject = 1
action.pagerduty = 0
action.pagerduty.param.integration_url_override = https://events.pagerduty.com/integration/6b55980acef143d7b081cc36428f96eb/enqueue
alert.digest_mode = 0
alert.suppress = 0
alert.track = 0
counttype = number of events
cron_schedule = 30 * * * *
dispatch.earliest_time = -30m
dispatch.latest_time = now
dispatch.sample_ratio = 100
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_force-uat" sourcetype="kube:container:engine-aion" deployment.environment=k8s-uat  namespace=engine (clients=-1 OR Failures >= 1)
disabled = 1

[MYUHC2.5_Binder_OIDC-production]
action.email = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.alert = MYUHC2.5_BINDER_OIDC_RallySplunk
action.email.to = portalsOMMYUHCOnCall@ds.uhc.com, rcendana@optum.com,3230e1b0.uhgazure.onmicrosoft.com@amer.teams.ms,vyas_bellamkonda@optum.com,sai.bellamkonda@rallyhealth.com
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.attachment = alert_link
action.slack.param.channel = # myuhc-2-5-alerts
action.slack.param.message = MYUHC25_BINDER_Login Alert
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -5m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","cluster_name","container_id","container_name","env","eventtype","index","linecount","namespace","pod","punct","respDetails.AEMSULEVEL","respDetails.aemsulevel","respDetails.AEMSURACFID","respDetails.aemsuracfid","respDetails.apiUrl","respDetails.app","respDetails.appLoadTime","respDetails.CID","respDetails.cid","respDetails.class","respDetails.duration","respDetails.error","respDetails.function","respDetails.isDentalOnly","respDetails.isIEX","respDetails.isSuperUserLogin","respDetails.landingUri","respDetails.lineOfBusiness","respDetails.membershipCategory","respDetails.microApp","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.apiDetails{}.cid","respDetails.msg.apiDetails{}.duration","respDetails.msg.apiDetails{}.error","respDetails.msg.apiDetails{}.responseCode","respDetails.msg.apiDetails{}.status","respDetails.msg.duration","respDetails.msg.function","respDetails.msg.status","respDetails.originalText","respDetails.pageLoadInfo{}.apiUrl","respDetails.pageLoadInfo{}.cid","respDetails.pageLoadInfo{}.duration","respDetails.pageLoadInfo{}.endpoint","respDetails.pageLoadInfo{}.function","respDetails.pageLoadInfo{}.responseCode","respDetails.pageLoadInfo{}.status","respDetails.policyNumber","respDetails.PostUrl","respDetails.referer","respDetails.responseCode","respDetails.router","respDetails.status","respDetails.timeStamp","respDetails.token","respDetails.uid","respDetails.url","respDetails.userInfo","respDetails.uuid","respDetails.uuid2","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","aem-mode","charset","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","instance_id","response_status","role","timeendpos","timestartpos","Url","path","httpsResult","Status"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:Container:myuhc-logger" respDetails.microApp=OIDC\
| spath respDetails.landingUri\
| search respDetails.landingUri="https://member.myuhc.com/payment*"\
| spath respDetails.status\
| search NOT respDetails.status=Success\
| stats count as TotalHits\
| where count > 5
disabled = 1


[IFP_Claims_ErrorRate-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = 8cf96416.uhgazure.onmicrosoft.com@amer.teams.ms, vyas_bellamkonda@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com, yenuganti_ashok@optum.com, divya.bogoju@optum.com, karthikeyan.sekar@optum.com,\
yarlagadda_babu@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=claims  | rename respDetails.msg.responseCode as STATUS \
| eval api = mvindex(split('respDetails.msg.apiUrl',"?"),0) | stats  count(eval(STATUS<400 OR STATUS=404 OR STATUS=502))\
 as SuccessCount p95("respDetails.msg..duration") AS P95_RTT avg("respDetails.msg.duration") as RTT count as TotalCount by api \
 | eval  ErrorCount = TotalCount-SuccessCount  | eval  ErrorRate = round(ErrorCount/TotalCount*100,2)  \
 | eval  SuccessRate = round(SuccessCount/TotalCount*100,2)  | where  ErrorRate > 5
disabled = 1

[IFP_Dashboard_ErrorRate-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = 8cf96416.uhgazure.onmicrosoft.com@amer.teams.ms, vyas_bellamkonda@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com, yenuganti_ashok@optum.com, divya.bogoju@optum.com, karthikeyan.sekar@optum.com,\
yarlagadda_babu@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=claims  | rename respDetails.msg.responseCode as STATUS\
 | eval api = mvindex(split('respDetails.msg.apiUrl',"?"),0) | stats  count(eval(STATUS<400 OR STATUS=404 OR STATUS=502)) \
 as SuccessCount p95("respDetails.msg.duration") AS P95_RTT avg("respDetails.msg.duration") as RTT count as TotalCount by api \
 | eval  ErrorCount = TotalCount-SuccessCount  | eval  ErrorRate = round(ErrorCount/TotalCount*100,2)  \
 | eval  SuccessRate = round(SuccessCount/TotalCount*100,2)  | where  ErrorRate > 5
disabled = 1

[IFP_Provider_ErrorRate-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = 8cf96416.uhgazure.onmicrosoft.com@amer.teams.ms, vyas_bellamkonda@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com, yenuganti_ashok@optum.com, divya.bogoju@optum.com, karthikeyan.sekar@optum.com,\
yarlagadda_babu@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=provider\
| rename respDetails.pageLoadInfo{}.responseCode as STATUS | eval api = mvindex(split('respDetails.pageLoadInfo{}.endpoint',"?"),0)\
| stats count(eval(STATUS<400)) as SuccessCount p95("respDetails.pageLoadInfo{}.duration") AS P95_RTT avg("respDetails.pageLoadInfo{}.duration") as RTT count as TotalCount by api\
| eval ErrorCount = TotalCount-SuccessCount\
| eval ErrorRate = round(ErrorCount/TotalCount*100,2)\
| eval SuccessRate = round(SuccessCount/TotalCount*100,2)\
|fields api TotalCount SuccessCount SuccessRate ErrorCount ErrorRate P95_RTT RTT | where ErrorRate > 5
disabled = 1

[IFP_Benefits_ErrorRate-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = 8cf96416.uhgazure.onmicrosoft.com@amer.teams.ms, vyas_bellamkonda@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com, yenuganti_ashok@optum.com, divya.bogoju@optum.com, karthikeyan.sekar@optum.com,\
yarlagadda_babu@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=benefits\
| rename respDetails.pageLoadInfo{}.msg.responseCode as STATUS | eval api = mvindex(split('respDetails.pageLoadInfo{}.msg.apiUrl',"?"),0)\
| stats count(eval(STATUS<501)) as SuccessCount p95("respDetails.pageLoadInfo{}.msg.duration") AS P95_RTT avg("respDetails.pageLoadInfo{}.msg.duration") as RTT count as TotalCount by api\
| eval ErrorCount = TotalCount-SuccessCount\
| eval ErrorRate = round(ErrorCount/TotalCount*100,2)\
| eval SuccessRate = round(SuccessCount/TotalCount*100,2)\
|fields api TotalCount SuccessCount SuccessRate ErrorCount ErrorRate P95_RTT RTT\
|where api!="https://member.uhc.com/ifp/globalApiService" | where ErrorRate > 5
disabled = 1

[IFP_AccountProfile_ErrorRate-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = 8cf96416.uhgazure.onmicrosoft.com@amer.teams.ms, vyas_bellamkonda@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com, yenuganti_ashok@optum.com, divya.bogoju@optum.com, karthikeyan.sekar@optum.com,\
yarlagadda_babu@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 45 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=accountprofile\
| rename respDetails.msg.responseCode as STATUS | eval api = mvindex(split('respDetails.msg.apiUrl',"?"),0)\
| stats count(eval(STATUS<501)) as SuccessCount p95("respDetails.msg.duration") AS P95_RTT avg("respDetails.msg.duration") as RTT count as TotalCount by api\
| eval ErrorCount = TotalCount-SuccessCount\
| eval ErrorRate = round(ErrorCount/TotalCount*100,2)\
| eval SuccessRate = round(SuccessCount/TotalCount*100,2)\
|fields api TotalCount SuccessCount SuccessRate ErrorCount ErrorRate P95_RTT RTT\
|where api!="https://member.uhc.com/ifp/globalApiService" | where ErrorRate > 5
disabled = 1

[rewards-graphql warning alert-production]
action.email.useNSSubject = 1
action.pagerduty = 1
action.pagerduty.param.integration_url_override = https://events.pagerduty.com/integration/c685561e7ebb4d05d0bf81f62561edd2/enqueue
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 30 * * * *
description = Triggered when any logs contains keyword ERROR
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","class","X-Rally-CorrelationId"]
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" sourcetype="kube:container:rewards-graphql-gateway" "*ERROR*"
disabled = 1

[Connect: Error Spike-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = This alert is being sent because there has been a >50% increase in ERROR-level logs across all services in the last 10 minutes (versus the last 2 hours).\
\
Please investivate. This search will show which exceptions have been spiking, grouped by class: https://splunk.werally.in/en-US/app/search/search?display.page.search.mode=fast&dispatch.sample_ratio=1&q=search%20severity%3DERROR%20cluster_name%3D%22connect-prod-1%22%20NOT%20*Client*%20%7C%20rex%20field%3D_raw%20%22(%3F%3CexceptionClassname%3E%5B%5Cw.%5D%2B(Exception%7CError))%3A%20(%3F%3CexceptionMessage%3E.*)%5Cn%5Cs%2B(%3F%3CstackTrace%3E(at%20.*%5Cn%5Cs%2B)%7B0%2C10%7D)%22%20%7C%20eval%20snuh%3Dmd5(stackTrace)%20%7C%20fillnull%20value%3D%22no%20class%20found%22%20class%20%7C%20fillnull%20value%3D%22no%20exception%20found%22%20exceptionClassname%20snuh%20%7C%20eval%20err%20%3D%20class%20%2B%20%22%2C%20%22%20%2B%20exceptionClassname%20%7C%20timechart%20count%20AS%20errCount%20by%20err&earliest=-60m%40m&latest=now&display.general.type=visualizations&display.page.search.tab=visualizations
action.email.reportServerEnabled = 0
action.email.sendresults = 1
action.email.subject.alert = PROD Alert: $name$
action.email.to = find-care-engineering@uhgazure.onmicrosoft.com,price-care-eng@uhgazure.onmicrosoft.com
action.email.useNSSubject = 1
alert.severity = 5
alert.suppress = 1
alert.suppress.period = 15m
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */5 * * * *
description = Unexpected increase in error rate over 50%
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app","product"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.events.type = raw
display.general.type = visualizations
display.page.search.mode = verbose
display.page.search.tab = visualizations
display.statistics.drilldown = row
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_connect-prod" earliest=-2h@h   latest=now NOT (sourcetype="kube:container:connect-cost-web" AND "ERROR a.d.Dispatcher") NOT sourcetype="kube:container:connect-cost-source-uhc-web" NOT sourcetype="kube:container:connect-cost-orchestration-web" NOT UhcPrimaryCareFetcher NOT "Exception caught in Netty" NOT (date_wday="monday" AND date_hour<8)  NOT "uri=https://api6.optum.com:8443/api/benefits/plans/v*/plandetails.json" NOT *Client* NOT X_Rally_CorrelationId=*_mobile_edge NOT 40301 NOT "https://pbh.healthgrades.com/api/v3_0/pes/v4_0/FetchSurveys/Template" NOT "https://pbh.healthgrades.com/api/v3_0/pesdisplay/v4_0/Surveys/Results"\
   | rex field=_raw "^(?:[^ \n]* ){2}(?P<severity>\w+)" \
 | search severity=ERROR\
 | stats count by date_hour date_minute\
 | outlier tf count\
 | stats avg(count) as avgErrsByMin\
 | eval errsLast10Mins = [\
 search  index="aws_ceuhc-eks_connect-prod" earliest=-10m latest=now NOT (sourcetype="kube:container:connect-cost-web" AND "ERROR a.d.Dispatcher") NOT sourcetype="kube:container:connect-cost-source-uhc-web" NOT sourcetype="kube:container:connect-cost-orchestration-web" NOT UhcPrimaryCareFetcher NOT "Exception caught in Netty" NOT (date_wday="monday" AND date_hour<8)  NOT "uri=https://api6.optum.com:8443/api/benefits/plans/v*/plandetails.json" NOT *Client* NOT X_Rally_CorrelationId=*_mobile_edge NOT 40301\
  | rex field=_raw "^(?:[^ \n]* ){2}(?P<severity_in>\w+)" \
   | search severity_in=ERROR\
 | stats count as search]/10\
 | eval multiplier = (errsLast10Mins/avgErrsByMin)\
 | where (multiplier > 1.5 AND errsLast10Mins > 10)
disabled = 1

[UHC-Rx Medication-List Failure % Alert-production]
action.email = 1
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = guru_gunti@optum.com,\
gopal_ayalasomayajula@optum.com,\
Vinay.digumarthi@optum.com,\
1f12d42b.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
alert_condition = where Failure_Percentage > 1
counttype = custom
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","backend_http","backend_url","class","cluster_name","container_id","container_name","env","eventtype","field1","field2","field3","field4","field5","fluentd_pod","index","linecount","namespace","pod","punct","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","field10","field11","field6","field7","field8","field9","severity","field12","field13","field14","field15","field16","field17","field18","field19","field20","field21","field22","field23","field24","field25","field26","field27","field28","field29","field30","field31","field32","field33","field34","field35","field36","field37","field38","field40","field41","field42","field43","field44","field45","field46","HSID","accId","DD_RUM_sessionId","deeplink","fillType","fullyInsured","groupId","href","isUhcPop","locale","ndcList","path","planToken","populationType","referer","rxNumberList","target","uuid"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_nextportal-prod" *medication-list*  \
| rex field=_raw "href...(?P<href>https:\/\/[a-zA-Z0-9!_=\/%?.=-]+)"  \
| search href="*medication-list*"\
| rex field=_raw "path...(?P<path>.*)...accountId"\
| rex field=_raw "apiPath...(?P<apiPath>.*)...host"\
| search apiPath="*/api-logger"\
| rex field=_raw "referer...(?P<referer>https:\/\/[a-zA-Z0-9!_=\/%?.=-]+)" \
| rex field=_raw "referrer...(?P<referrer>https:\/\/[a-zA-Z0-9!_=\/%?.=-]+)"\ 
| rex field=_raw "(?P<timestamp>(?P<date>(?:\d|-)+)\s(?P<time>(?:\d|:)+))\""\
| rex field=_raw "uuid...(?<UUID>[a-zA-Z0-9_-]+)"\
| rex field=_raw "status..(?P<status>[0-9]+)"\
| rex field=_raw "duration...(?P<duration>.*)......correlationId"\
| rex mode=sed field=href "s/[0-9-]+/-/g"  \
| rex mode=sed field=target_url "s/[0-9-]+/-/g"  \
| stats  count as Request_count_total, count(eval('status'<400)) as Request_count_success, count(eval('status'>=400)) as Failed_request_count,avg(duration) as avgResponseTime by container_name,href, path   | eval  Success_Percentage = round((Request_count_success/Request_count_total)*100,2)   | eval  Failure_Percentage = round((Failed_request_count/Request_count_total)*100,2)  | fields  container_name,href,path,Request_count_total,Request_count_success,Failed_request_count,Success_Percentage,Failure_Percentage, avgResponseTime | where Failure_Percentage > 1
disabled = 1

[Survey Prod Error Summary-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = This report is run daily and highlights the top errors in Survey/NPS Services.  If you're dev on call, please evaluate this list to ensure a ticket exists to fix each one.  If something serious is happening, address it immediately.
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = surveyfriesengineers@uhgazure.onmicrosoft.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 16 * * *
description = Provided details on logs reported in severity=ERROR
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_survey-prod" | rex field=_raw "^(?:[^ \n]* ){2}(?P<severity>\w+)" |search severity=ERROR (sourcetype="kube:container:*nps*" OR sourcetype="kube:container:*survey*" OR sourcetype="kube:container:*engage*health*profile*" AND NOT class="*ClientRqClient" AND NOT class="*MpeRqClient" AND NOT "Failed to set indexes") | fillnull value="NULL" | eval shortMsg=substr(_raw, 1, 750) \
 | stats first(shortMsg) as example, count AS errCount by container_name, class | eventstats sum(errCount) AS total \
 | eval percent = round(errCount / total * 100, 2) | sort by percent desc
disabled = 1

[[PROD] MNR Rewards Odin Errors-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.to = john.li@rallyhealth.com
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.visualizations.charting.chart = line
enableSched = 1
quantity = 180
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" sourcetype="kube:container:rewards-odin" CASE(ERROR) X-Rally-EligibilityId
disabled = 1


[HealthVault- API Slow Requests-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = ed4e1ff4.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.pagerduty = 0
action.pagerduty.param.integration_url_override = 6c84838e10d04f7e82fc5384f3846dc6
action.slack = 0
action.slack.param.attachment = alert_link
action.slack.param.channel = #healthvault-support
action.slack.param.fields = app, env
action.slack.param.message = Healthvault API slow Requesr Alert Spike. Please Check Splunk Logs for further Details.
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 */12 * * *
dispatch.earliest_time = -10m
dispatch.latest_time = now
enableSched = 1
quantity = 10
relation = greater than
search = index="aws_ceuhc-eks_data-prod" (sourcetype="kube:container:mesos-slave" OR sourcetype="kube:container:kubernetes") (deployment.environment=prod OR deployment.environment=k8s-prod) (sourcetype="kube:container:meatlocker-meatlocker" OR sourcetype="kube:container:healthvault-file-transport" OR sourcetype="kube:container:meatlocker-meatbridge" OR app=bovineUniversity OR sourcetype="kube:container:engage-health-record")\
 |  search durationMs >= 500 | eventstats count(app) as occurrences max(durationMs) as MaxMs by path | where durationMs=MaxMs \
 | eval MaxMs=tostring(MaxMs, "commas")." ms" | table path app occurrences MaxMs | sort app
disabled = 1

[HealthVault - Missing Dimx File Event-production]
action.email = 1
action.email.include.search = 1
action.email.to = ed4e1ff4.uhgazure.onmicrosoft.com@amer.teams.ms,c73aaa7e.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.digest_mode = 0
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = * 23 * * *
description = Alert when no Dimx File event is received from Fuzzle in a 24 hour period
dispatch.earliest_time = -24h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","severity"]
display.page.search.mode = verbose
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = equal to
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_data-prod" sourcetype="kube:container:healthvault-file-transport" deployment.environment=k8s-prod event=dimx.file.intake_Start
disabled = 1

[HealthVault- API Failure(500) Spike Alert-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
https://wiki.audaxhealth.com/pages/viewpage.action?spaceKey=ENG&title=HealthVault+Dev-On-Call+Run+Book#HealthVaultDevOnCallRunBook-HealthVault-APIFailure(500)SpikeAlert
action.email.sendresults = 1
action.email.to = ed4e1ff4.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.pagerduty = 0
action.pagerduty.param.integration_url_override = 6c84838e10d04f7e82fc5384f3846dc6
action.slack = 0
action.slack.param.attachment = alert_link
action.slack.param.channel = #healthvault-support
action.slack.param.fields = app, env
action.slack.param.message = Healthvault status Code 500 Spike. Check splunk logs for more details
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */10 * * * *
dispatch.earliest_time = -10m
dispatch.latest_time = now
enableSched = 1
quantity = 10
relation = greater than
search = index="aws_ceuhc-eks_data-prod" (deployment.environment=prod OR deployment.environment=k8s-prod) (sourcetype="kube:container:meatlocker-meatlocker" OR (sourcetype="kube:container:healthvault-file-transport" OR (sourcetype="kube:container:meatlocker-meatbridge" OR app=bovineUniversity OR (sourcetype="kube:container:engage-health-record") playRoutePattern!="/rest/phr/provider/v1/userId/:userId" status=500 | stats values(app) as app list(_raw) by _time
disabled = 1


[High Error Volume Classes Arcade 2.0-production]
action.email = 1
action.email.include.results_link = 0
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = Name: $name$\
Description: $description$\
Severity: $alert.severity$
action.email.reportServerEnabled = 0
action.email.sendresults = 1
action.email.subject.alert = PROD Splunk Info: $name$
action.email.to = arcade-docs@uhgazure.onmicrosoft.com,\
e26ccfa1.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 0 * * *
description = Reports on classes that are producing a disproportionate number of errors
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","class"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_navigation-prod" OR index="aws_ceuhc-eks_navigation-uat") \
(sourcetype="kube:container:arcade*" AND  sourcetype!="kube:container:arcade-mobile-edge") CASE(ERROR) \
| rex field=_raw "^[^\.\n]*\.\d+\s+\w+\s+(?P<class>[^:]+)" \
| rename k8s.cluster.name as env\
| replace "*prod*" with "prod" in env \
| replace "*uat*" with "uat" in env\
| stats count AS errCount by env, k8s.container.name, class \
| eventstats sum(errCount) AS total \
| eval percent = round(errCount / total * 100, 2) \
| where percent > 1 \
| sort by percent desc
disabled = 1

[High Failed to Determine Eligibility Arcade Warnings or Errors-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = onboarding_nintendo@uhgazure.onmicrosoft.com,e26ccfa1.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
description = Alerts when in the last hour one of the Determine Eligibility Arcade features exceeded the historical max average hourly # of errors/warnings
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","env"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_navigation-prod" ActionName=GetOnboardingEligibility deployment.environment=k8s-prod earliest=-7d@d latest=@d\
| rex field=_raw "^(?:[^ \n]* ){2}(?P<severity>\w+)" \
| rex field=_raw "Failed to determine eligibility for (?<feature>.*?) " \
| search severity=ERROR OR severity=WARN \
| bin _time span=1h\
| eval date_hour=strftime(_time, "%H") \
| stats count AS HitsPerHour first(date_hour) AS date_hour BY _time, feature\
| stats avg(HitsPerHour) as AvgHitsPerHour BY date_hour, feature\
| stats max(AvgHitsPerHour) as MaxHitsPerHour by feature \
| join feature\
[search index=aws_ceuhc-eks_navigation-prod ActionName=GetOnboardingEligibility deployment.environment=k8s-prod   earliest=-1h latest=now \
| rex field=_raw "^(?:[^ \n]* ){2}(?P<severity>\w+)"\
| rex field=_raw "Failed to determine eligibility for (?<feature>.*?) "\
| search severity=ERROR OR severity=WARN\
|  stats count as lasthour by feature]
disabled = 1

[CSPA No-Diff response Clone-production]
action.email = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.alert = Splunk Alert:No-diff users
action.email.to = krishna_pabba1@optum.com,\
sushobhana_patra@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 18 * * *
description = CSPA difference
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.type = raw
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index=aws_ceuhc-eks_rewards-prod OR index=aws_ceuhc-eks_rewards-uat)  CSPA Dark Mode "no-diff"
disabled = 1

[CSPA Diff response-production]
action.email = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = CE_Dynamo@ds.uhc.com,\
krishna_pabba1@optum.com,\
suman_bhattacharjee@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 18 * * *
description = CSPA difference
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.type = raw
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index=aws_ceuhc-eks_rewards-prod OR index=aws_ceuhc-eks_rewards-uat) CSPA Dark Mode diff  NOT "no-diff"
disabled = 1

[Rx Abyss Failure Alert-production]
action.email = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = 1f12d42b.uhgazure.onmicrosoft.com@amer.teams.ms,gopal_ayalasomayajula@optum.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 1
alert_condition = where Failure_percentage > 5
auto_summarize.dispatch.earliest_time = -1d@h
counttype = custom
cron_schedule = */15 * * * *
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["message.logging_detail.processingTime","namespace","cluster_name","container_name","message.logging_detail.url","message.timestamp","message.logging_detail.status"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod" meta.apiPath=* meta.status=* NOT meta.apiPath=/prescriptions/eni/api/user-profile-service  NOT meta.apiPath="[CW-PROXY]"\
 |  stats count as Request_count_total, count(eval('meta.status'<=399)) as Request_count_success, count(eval('meta.status'>=400)) as Request_count_failures by sourcetype, meta.apiPath |  eval  Success_Percentage = round((Request_count_success/Request_count_total)*100,2)  | eval  Failure_Percentage = round((Request_count_failures/Request_count_total)*100,2) | fields  meta.apiPath,Request_count_total,Request_count_success,Request_count_failures,Success_Percentage,Failure_Percentage |  where Failure_percentage > 5
disabled = 1

[Rx Abyss Failure Alert User Profile-production]
action.email = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = 1f12d42b.uhgazure.onmicrosoft.com@amer.teams.ms,gopal_ayalasomayajula@optum.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 1
alert_condition = where Failure_percentage > 15
auto_summarize.dispatch.earliest_time = -1d@h
counttype = custom
cron_schedule = */15 * * * *
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["message.logging_detail.processingTime","namespace","cluster_name","container_name","message.logging_detail.url","message.timestamp","message.logging_detail.status"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod" meta.apiPath="*" meta.status=* meta.apiPath="/prescriptions/eni/api/user-profile-service"\
 |  stats count as Request_count_total, count(eval('meta.status'<=399)) as Request_count_success, count(eval('meta.status'>=400)) as Request_count_failures by  sourcetype, meta.apiPath |  eval  Success_Percentage = round((Request_count_success/Request_count_total)*100,2)  | eval  Failure_Percentage = round((Request_count_failures/Request_count_total)*100,2)\
| fields  meta.apiPath,Request_count_total,Request_count_success,Request_count_failures,Success_Percentage,Failure_Percentage |  where Failure_percentage > 15
disabled = 1

[Find Care Missing Dental Plans-production]
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
dispatchAs = user
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_connect-prod" sourcetype="kube:container:connect-partner-web" status=404 dental \
 | rex field=_raw "/rest/partner/v1/partners/(?<partnerId>.+?)/plan.*" | stats count by partnerId,planCode
disabled = 1

[IFP_Payments Open Token Hourly by 0 Count-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com,\
rcendana@optum.com,\
aparna.makthedar@optum.com, karthikeyan.sekar@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 15 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.bigN.memberId","respDetails.uid","respDetails.msg.paymentMethod","respDetails.msg.props.pastAmountDue","respDetails.msg.memberId","respDetails.msg.apiUrl","respDetails.apiUrl"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.statistics.drilldown = none
display.statistics.wrap = 0
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment | rename respDetails.responseCode as STATUS\
 | rename respDetails.apiUrl as api | search api="https://myuhc-pfdecoder.prod.werally.in/MYUHCPFDECODER/getData" \
 | stats count(eval(STATUS<501 OR STATUS=404 OR STATUS=500 OR STATUS="true" OR STATUS="NULL" OR STATUS="Success" OR STATUS="Error" ))\
 as SuccessCount p95("respDetails.duration") AS P95_RTT avg("respDetails.duration") as RTT count as TotalCount by api| eval ErrorCount = TotalCount-SuccessCount\
 | eval ErrorRate = round(ErrorCount/TotalCount*100,2)  | eval SuccessRate = round(SuccessCount/TotalCount*100,2) | where TotalCount = 0
disabled = 1

[IFP Onboarding EarlyPay Confirmations Hourly Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com, leticia.castellanos@uhc.com, katie.weierke@uhc.com,john.evans@uhc.com,aisha_saleem@uhc.com, PortalsOMMYUHC_DL@ds.uhc.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 0 * * * *
dispatch.earliest_time = -60m@m
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = 60
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=IFP-ONBOARDING\
"respDetails.paymentFlow"=EARLYPAY "respDetails.msg.function"=EarlyPayConfirmation "respDetails.msg.status"=success\
| stats count by "respDetails.msg.paymentMethod" "respDetails.msg.paymentType" "respDetails.msg.State"\
| append [\
| search index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=IFP-ONBOARDING\
"respDetails.paymentFlow"=EARLYPAY "respDetails.msg.function"=UPGSale "respDetails.msg.status"=success\
| eval respDetails.msg.paymentType=mvappend(respDetails.msg.paymentType, "oneTime")\
| eval respDetails.msg.paymentMethod=mvappend(respDetails.msg.paymentMethod, "cc")\
| stats count by "respDetails.msg.State" "respDetails.msg.paymentType" "respDetails.msg.paymentMethod"\
]
disabled = 1

[Missing PCPs-production]
action.email.useNSSubject = 1
alert.track = 0
description = PCP IDs that return 404 in Find Care
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_connect-prod" sourcetype="kube:container:connect-provider-web" playRoutePattern=/rest/provider/v1/:partnerId/providers/:providerId status=404 \
| rex field=_raw "/rest/provider/v1/(?<partnerId>.+?)/providers/(?<provider_PCP_ID>.+?)\?" | table partnerId,provider_PCP_ID,network \
| dedup provider_PCP_ID,network
disabled = 1

[SSO INBOUND FAILURES-production]
action.email = 1
action.email.cc = vinay.digumarthi@optum.com,Ovations_Portals_OM_DL@ds.uhc.com
action.email.include.view_link = 0
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = bijay.tamang@optum.com,\
venkat_gogineni@optum.com,\
madhavi.erapuram@optum.com,\
bharath.kummari@optum.com,\
david.lamparter@optum.com,\
hemanth.nannapaneni@optum.com,\
kishan_dontha@optum.com,\
madhavi.erapuram@optum.com,\
pradeep_potluri@optum.com,\
rob.morris@optum.com,\
roger_oney@optum.com,\
venkat_gogineni@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
alert_condition = where count > 1
counttype = custom
cron_schedule = 0 8 * * *
description = This alert triggers everyday at 8:00 AM CT if the previous day failures % is greater than 50%
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["class","cluster_name","container_id","container_name","deeplink","env","esp","eventtype","format","host","index","keys","linecount","memberId","namespace","nginx.bytes_sent","nginx.host","nginx.method","nginx.path","nginx.proxy_alternative_upstream_name","nginx.proxy_upstream_name","nginx.referrer","nginx.remote","nginx.request_id","nginx.request_length","nginx.request_time","nginx.status","nginx.upstream_addr","nginx.upstream_response_length","nginx.upstream_response_time","nginx.upstream_status","nginx.user","nginx.user_agent","pod","punct","respDetails.microApp","respDetails.timeStamp","respDetails.uid","respDetails.userInfo","respDetails.uuid","result","severity","source","sourcetype","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","uuid","Accept","Access_Control_Allow_Headers","Access_Control_Allow_Methods","Access_Control_Allow_Origin","accessToken","accountId","actor","Authorization","Cache_Control","charset","Connection","Content_Length","Content_Type","Date","dateOfBirth","expiresIn","firstName","lastName","max_age","mode","optum_cid_ext","RateLimit_Limit","RateLimit_Remaining","RateLimit_Reset","scope","Strict_Transport_Security","timestamp","tokenType","Transfer_Encoding","X_Content_Type_Options","X_Frame_Options","X_Proxy_Latency","X_RateLimit_Limit_Second","X_RateLimit_Remaining_Second","X_Upstream_Latency","X_XSS_Protection","alternateId","branchid","businessType","cdbPartitionNumber","cdbXrefId","claimSystemTypeCode","contactItem","contactReason","contractid","coverageCode","displayGroupId","displayMemberId","effectivedate","eligibilitySystemTypeCode","Expires","ext_PF","f0a337089bdd6b4cf3d20973d9109","globalSolutionsIndicator","governmentProgramTypeCode","groupId","groupName","groupnumber","id","idMemberType","individual_id","individualId","Keep_Alive","licsbenefits","marketNumber","marketType","memberSsn","memberType","mnrPlanTypes","myuhcPortalIndicator","obligorId","Path","path","paymentActionType","pbpnumber","PLAN_CATEGORY","planDetails","planEffectiveEndDate","planEffectiveStartDate","planEligibilityIndicator","plantype","planVariation","planyear","Pragma","PRE_EFFECTIVE","preferredPlanIndicator","productCode","rails_correlation_id","Referrer_Policy","relationshipCode","reportingCode","SameSite","segmentid","Server","Set_Cookie","sharedArrangementCode","sitename","situsState","sourceCode","subscriberId","timeout","TS01e6ea07","zip","IndividualId","Message_Code","Message_Text","Message_Type","errorCode","referrer","state","token","zipCode","agyd6k3oohv2iyxojipxjploae","aud","benefits_legacy","campaign","code","crossDomain","delivery","ds_rl","emailConfirmStatus","enginetype","fdeeplink","fq","frameless","ga","gclid","gclsrc","gl","intref","invocabrand","keyword","kwid","LeadSourceName","medium","mrcid","msclkid","nonCachedCQRequest","OIDC","OIDCSESSION","portalIndicator","portalsignin","q","q1","refreshToken","registerFlag","rows","Silk_Accelerated","start","tab","TARGET","target","themeUA","type","UTM_Campaign","utm_campaign","utm_Campaign","utm_content","UTM_Intent","utm_Intent","UTM_Keyword","utm_Keyword","utm_medium","utm_source","utm_term","wcmmode","WT_mc_ID","WT_mc_id","WT_srch","ARRAffinity","Domain","password","requestType","transactionId","TS0177b8c6","userName","Version","authenticated_entity.id","client_ip","consumer.created_at","consumer.id","consumer.type","consumer.username","latencies.kong","latencies.proxy","latencies.request","request.headers.accept","request.headers.accept-encoding","request.headers.content-length","request.headers.content-type","request.headers.host","request.headers.incap-client-ip","request.headers.incap-proxy-1344","request.headers.incap-proxy-1540","request.headers.incap-proxy-1543","request.headers.incap-proxy-1545","request.headers.incap-proxy-481","request.headers.incap-proxy-623","request.headers.incap-proxy-888","request.headers.user-agent","request.headers.x-amzn-trace-id","request.headers.x-consumer-id","request.headers.x-consumer-username","request.headers.x-credential-identifier","request.headers.x-datadog-parent-id","request.headers.x-datadog-sampling-priority","request.headers.x-datadog-trace-id","request.headers.x-forwarded-for","request.headers.x-forwarded-port","request.headers.x-forwarded-proto","request.headers.x-onepass-api-key","request.headers.x-onepass-clientkey","request.method","request.size","request.uri","request.url","response.headers.access-control-allow-credentials","response.headers.access-control-allow-origin","response.headers.connection","response.headers.content-length","response.headers.content-type","response.headers.date","response.headers.etag","response.headers.vary{}","response.headers.via","response.headers.x-datadog-parent-id","response.headers.x-datadog-sampled","response.headers.x-datadog-sampling-priority","response.headers.x-datadog-trace-id","response.headers.x-kong-proxy-latency","response.headers.x-kong-upstream-latency","response.headers.x-powered-by","response.headers.x-rally-correlationid","response.size","response.status","route.created_at","route.https_redirect_status_code","route.id","route.methods{}","route.name","route.path_handling","route.paths{}","route.preserve_host","route.protocols{}","route.regex_priority","route.request_buffering","route.response_buffering","route.service.id","route.strip_path","route.tags{}","route.updated_at","route.ws_id","service.connect_timeout","service.created_at","service.host","service.id","service.name","service.port","service.protocol","service.read_timeout","service.retries","service.updated_at","service.write_timeout","service.ws_id","started_at","tries{}.balancer_latency","tries{}.balancer_start","tries{}.ip","tries{}.port","upstream_uri","workspace","app","daySupply","drugId","fluentd_pod","form","isSuperUser","locale","packageSize","pharmacyNabp","platform","populationId","priorFill","productId","productType","quantity","sig","strength","v","version","a","amount","benefitDetailDeductible","benefitText","callToAction","carrierName","Confirm","copayCoverageAmount","CorrelationIdSource","costDescription","costMaxAmount","costMinAmount","costType.costDescription","costType.costValue","costValue","daysSupply","dd.env","dd.service","dd.span_id","dd.trace_id","dd.version","description","encoding","endDate","endDay","fillType","i","il","includeACHEndDate","instrumentid","intervalValue","isBothCopayAndCoinsuranceExists","isCoInsurancePercentCostShare","isCombinedCostShareAsINN","isCombinedMaxPlanCoverageAmount","isCombinedWithAccupuncture","isCombinedWithChiro","isCopayAmountCostShare","isCoverage","isCvsEnabled","isDeductible","isDiabeticSuppliesLimitedfromManufacturers","isMandatory","isOutOfPocketMaxAmount","isReferalRequired","isUnlimitedBenefit","maxPlanCoverageType","maxPlanPeriod","medicalBenefitTier.medicalBenefitTierType.code","medicalBenefitTier.medicalBenefitTierType.description","medicalBenefitTier.value","medicalBenefitTierByBenefitTypeList{}.costMaxAmount","medicalBenefitTierByBenefitTypeList{}.costMinAmount","medicalBenefitTierByBenefitTypeList{}.costType.costDescription","medicalBenefitTierByBenefitTypeList{}.costType.costValue","medicalBenefitTierByBenefitTypeList{}.endDay","medicalBenefitTierByBenefitTypeList{}.intervalValue","medicalBenefitTierByBenefitTypeList{}.medicalBenefitTier.medicalBenefitTierType.code","medicalBenefitTierByBenefitTypeList{}.medicalBenefitTier.medicalBenefitTierType.description","medicalBenefitTierByBenefitTypeList{}.medicalBenefitTier.value","medicalBenefitTierByBenefitTypeList{}.startDay","medicalBenefitTierType.code","medicalBenefitTierType.description","medicalBenefitType.code","medicalBenefitType.description","medicalBenefitType.packageNumber","memberToken","membertoken","ndc","ndcList","networkDescription","networkType.networkDescription","networkType.networkValue","networkValue","nil","ns2","ns3","numberOfDays","numberOfPeriod","numberOfVisits","orderCreationDate","ordernumber","orderStatus","orderStatusCode","ordNumber","packageNumber","planPaid","regcode","rxNumber","rxNumberList","s","soapenv","startDate","startDay","strOrigTrackNum","testError","trackingId","trackingNbr","value","vendorName","waiverIndicator","xmlns","aem-mode","cid","client_id","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","dd_span_id","dd_trace_id","deepLink","instance_id","pfidpadapterid","rallyId","redirect_uri","response_type","resume","role","spentity","status","timeendpos","timestartpos","X_Rally_CorrelationId","bp","cmd","crc","Datadog_Synthetics","en","end","flavor","modifiedSince","response_time","rf","sn","svrid","target_url","uri_path","vi","la","accountAccessory","accountNumberMasked","accountType","cancelURL","city","countryCode","holderName","holderType","notifyURL","parsedData","processingMode","providerResponseCode","providerResponseMessage","providerTransactionId","requestId","responseCode","responseMessage","responseType","returnURL","returnURLPolicy","street","styleURL","transactionDate","transactionType","ud_checkbox1Value","ud_checkbox2Value","ud_input1","ud_input2","ud_sessionId","ud_street2","verificationMode","app_error_msg","backend_http","backend_url","dd_env","dd_service","dd_version","durationMs","method","position","resource","responseLength","uri","action","adobe_mc","allowed","authToken","collectionName","date","delegationTokenId","dest","eventTime","impersonator","ipAddress","ipHash","level","logger","message","message.reqInfo.access_token","message.reqInfo.jsessionID","message.reqInfo.superuser_id","message.reqInfo.superuser_level","message.reqInfo.timestamp","message.reqInfo.uid","message.reqInfo.url","message.reqInfo.uuid","message.respDetails.api{}.apiCode","message.respDetails.api{}.apiMessage","message.respDetails.api{}.apiUrl","message.respDetails.api{}.correlationid","message.respDetails.api{}.httpStatusCode","message.respDetails.api{}.name","message.respDetails.api{}.requestParam","message.respDetails.api{}.responsetime","message.respDetails.claimSearch.claimSearch","message.respDetails.claimSearch.claimType","message.respDetails.claimSearch.dateRange","message.respDetails.claimSearch.depSeqNum","message.respDetails.claimSearch.referenceTab","message.respDetails.ipaddress","message.respDetails.memberinfo.alternateId","message.respDetails.memberinfo.divisionCode","message.respDetails.memberinfo.groupid","message.respDetails.memberinfo.lineOfBusiness","message.respDetails.memberinfo.membername","message.respDetails.memberinfo.membershipcategory","message.respDetails.memberinfo.policynumber","message.respDetails.memberinfo.pvrc","message.respDetails.memberinfo.saio","message.respDetails.pagecontent{}","message.respDetails.pageload","message.respDetails.pageloadtime","message.respDetails.refererurl","message.respDetails.superuser","message.respDetails.useragent","operation","permissions","playRoutePattern","queryduration","request.headers.accept-language","request.headers.context-config-consumersource","request.headers.context-config-partnergroup","request.headers.context-config-partnerid","request.headers.context-config-plancode","request.headers.context-config-policyid","request.headers.incap-proxy-1245","request.headers.x-credential-client-id","request.headers.x-credential-exp","request.headers.x-credential-iat","request.headers.x-credential-iss","request.headers.x-credential-scope","request.headers.x-credential-sid","request.headers.x-credential-sub","request.querystring.platform","request.querystring.sig","request.querystring.version","response.headers.cache-control","response.headers.content-encoding","response.headers.server-timing","response.headers.transfer-encoding","response.headers.x-rally-identifier","serviceName","src","username","extendedAccountType","providerReferenceNumber","refillType","transactionCode","codeText","eventType","exMsg","userId","writeError_code","writeError_codeText","writeError_errmsg","cancelPageUrl","isHapi","paymentcode","returnPageUrl","showDefaultPaymentInd","showOneTimePaymentInd","ud_checkbox2","ud_checkbox2ToggleOppositeId","validate","addresstype","dd_p_dm","desc","domain","dtCookie","f6f536250bbd218d40a4ccff2ba20dd","HSID_V","HTMLVersion","InquiryNumber1","Max_Age","planToken","redirecturi","SESSION","track","tracknums_displayed","TS011e2bff","TS014069b1","TS01b8a849","TypeOfInquiryNumber"]
display.events.maxLines = 10
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_mnrportals-prod"   sourcetype="kube:container:mnr-ucp-sso-memberauth"  /UCPSSOMemberAuth/sso/inbound/* hippaLogger error OR exception OR \
"HeadLess API result is null"  OR "*Demographics*"  NOT *ucesmobileapp NOT *favicon.ico  | rex field=_raw "^[^\[\n]*\[(?P<severity>[^ ]+)" |search severity=INFO\
| rex field=_raw "CLIENT_IP.......(?P<CLIENT_IP>.*)..SESSION_ID" | rex field=_raw "^(?:[^\[\n]*\[){2}\w+::(?P<URI>[^\]]+)" \
| rex field=_raw "MESSAGE..(?P<errorMessage>.*)..URI" |   stats count by URI | where count > 0
disabled = 1

[Activate Services Elevated ERROR/WARN Logs-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = onboarding_nintendo@uhgazure.onmicrosoft.com,e26ccfa1.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 23 * * *
description = Alerts if the total number of WARN or ERROR logs for the given activate service in prod or uat has increased by at least 50% from the average number of the past week
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","ActionName"]
display.general.type = statistics
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_navigation-prod" OR index="aws_ceuhc-eks_navigation-uat") (deployment.environment=k8s-prod OR deployment.environment=k8s-uat) sourcetype="kube:container:activate*" earliest=-7d@d latest=@d | rex field=_raw "^(?:[^ \n]* ){2}(?P<severity>\w+)" | search (severity=ERROR OR severity=WARN) | eval Service=deployment.environment + "|" + k8s.container.name + "|" + severity | bin span=1d _time | stats count by _time, Service | stats avg(count) as DailyAvgOfPastWeek by Service | join Service [search (index="aws_ceuhc-eks_navigation-prod" OR index="aws_ceuhc-eks_navigation-uat") (deployment.environment=k8s-prod OR deployment.environment=k8s-uat) sourcetype="kube:container:activate*" earliest=@d latest=now | rex field=_raw "^(?:[^ \n]* ){2}(?P<severity>\w+)" | search (severity=ERROR OR severity=WARN) | eval Service=deployment.environment + "|" + k8s.container.name + "|" + severity | stats count as Today by Service] | where Today >= 1.5*DailyAvgOfPastWeek
disabled = 1



[Prod: CnS Onboarding-production]
action.email = 1
action.email.content_type = plain
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
\
Query:\
index=main \
env="k8s-prod" \
AND( \
(ActionName="GetContactDetail" uri="/rest/edge-dashboard/preferences/v1/cns-contact-email") \
OR (ActionName="getTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences")  \
OR (ActionName="UpdateCnsPreferences" uri="/rest/edge-dashboard/preferences/v1/cns/email-consent") \
OR (ActionName="UpdateCnSPaperlessPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-paperless-update") \
OR (ActionName="updateTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences") )\
status="5**"
action.email.priority = 2
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = mohit_shakya@optum.com, \
kamal_girdher@optum.com,\
3b71ac73.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.severity = 4
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = */10 * * * *
description = Query:\
\
index=main \
env="k8s-prod" \
AND( \
(ActionName="GetContactDetail" uri="/rest/edge-dashboard/preferences/v1/cns-contact-email") \
OR (ActionName="getTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences")  \
OR (ActionName="UpdateCnsPreferences" uri="/rest/edge-dashboard/preferences/v1/cns/email-consent") \
OR (ActionName="UpdateCnSPaperlessPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-paperless-update") \
OR (ActionName="updateTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences") )\
status="5**"
dispatch.earliest_time = -10m
dispatch.latest_time = 0
display.events.fields = ["host","source","sourcetype","container_name","tenant"]
display.page.search.mode = fast
enableSched = 1
quantity = 10
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_navigation-prod"\
deployment.environment="k8s-prod" \
AND( \
(ActionName="GetContactDetail" uri="/rest/edge-dashboard/preferences/v1/cns-contact-email") \
OR (ActionName="getTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences")  \
OR (ActionName="UpdateCnsPreferences" uri="/rest/edge-dashboard/preferences/v1/cns/email-consent") \
OR (ActionName="UpdateCnSPaperlessPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-paperless-update") \
OR (ActionName="updateTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences") ) status="5*"
disabled = 1

[Prod: CnS Onboarding | GetContactEmail-production]
action.email = 1
action.email.content_type = plain
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
\
Query:\
index=main\
env="k8s-prod"\
ActionName="GetContactDetail" uri="/rest/edge-dashboard/preferences/v1/cns-contact-email"\
status="5**"
action.email.priority = 2
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = mohit_shakya@optum.com, \
kamal_girdher@optum.com,\
3b71ac73.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.severity = 4
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = */5 * * * *
description = Query:\
index=main\
env="k8s-prod"\
ActionName="GetContactDetail" uri="/rest/edge-dashboard/preferences/v1/cns-contact-email"\
status="5**"
dispatch.earliest_time = -05m
dispatch.latest_time = 0
display.events.fields = ["host","source","sourcetype","container_name","tenant"]
display.page.search.mode = fast
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_navigation-prod" deployment.environment="k8s-prod"  ActionName="GetContactDetail" uri="/rest/edge-dashboard/preferences/v1/cns-contact-email"\
status="5*"
disabled = 1

[Prod: CnS Onboarding | GetTextPreferences-production]
action.email = 1
action.email.content_type = plain
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
\
Query:\
index=main\
env="k8s-prod"\
ActionName="getTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences"\
status="5**"
action.email.priority = 2
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.alert = Prod Splunk Alert: $name$
action.email.to = mohit_shakya@optum.com, \
kamal_girdher@optum.com,\
3b71ac73.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.severity = 4
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = */5 * * * *
description = Query:\
index=main\
env="k8s-prod"\
ActionName="getTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences"\
status="5**"
dispatch.earliest_time = -5m
dispatch.latest_time = 0
display.events.fields = ["host","source","sourcetype","container_name","tenant"]
display.page.search.mode = fast
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_navigation-prod" deployment.environment="k8s-prod"\
ActionName="getTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences"\
status="5*"
disabled = 1

[Prod: CnS Onboarding | Update Paperless-production]
action.email = 1
action.email.content_type = plain
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
\
Query:\
index=main \
env="k8s-uat" \
ActionName="UpdateCnSPaperlessPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-paperless-update"\
status="5**"
action.email.priority = 2
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = mohit_shakya@optum.com, \
kamal_girdher@optum.com,\
3b71ac73.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.severity = 4
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = */5 * * * *
description = index=main \
env="k8s-prod" \
ActionName="UpdateCnSPaperlessPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-paperless-update"\
status="5**"
dispatch.earliest_time = -05m
dispatch.latest_time = 0
display.events.fields = ["host","source","sourcetype","container_name","tenant"]
display.page.search.mode = fast
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_navigation-prod" \
deployment.environment="k8s-prod" \
ActionName="UpdateCnSPaperlessPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-paperless-update"\
status="5*"
disabled = 1

[Prod: CnS Onboarding | Update Personalised Email-production]
action.email = 1
action.email.content_type = plain
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
\
Query:\
index=main\
env="k8s-prod"\
ActionName="UpdateCnsPreferences" uri="/rest/edge-dashboard/preferences/v1/cns/email-consent"\
status="5**"
action.email.priority = 2
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = mohit_shakya@optum.com, \
kamal_girdher@optum.com,\
3b71ac73.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.severity = 4
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = */5 * * * *
description = Query:\
index=main\
env="k8s-prod"\
ActionName="UpdateCnsPreferences" uri="/rest/edge-dashboard/preferences/v1/cns/email-consent"\
status="5**"
dispatch.earliest_time = -05m
dispatch.latest_time = 0
display.events.fields = ["host","source","sourcetype","container_name","tenant"]
display.page.search.mode = fast
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_navigation-prod" deployment.environment="k8s-prod"\
ActionName="UpdateCnsPreferences" uri="/rest/edge-dashboard/preferences/v1/cns/email-consent"\
status="5*"
disabled = 1

[Prod: CnS Onboarding | Update Sms Consent-production]
action.email = 1
action.email.content_type = plain
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
\
Query:\
index=main \
env="k8s-prod" \
ActionName="updateTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences"\
status="5**"
action.email.priority = 2
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = mohit_shakya@optum.com, \
kamal_girdher@optum.com,\
3b71ac73.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.severity = 4
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = */5 * * * *
description = Query:\
index=main \
env="k8s-prod" \
ActionName="updateTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences"\
status="5**"
dispatch.earliest_time = -05m
dispatch.latest_time = 0
display.events.fields = ["host","source","sourcetype","container_name","tenant"]
display.page.search.mode = fast
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_navigation-prod"  deployment.environment="k8s-prod" \
ActionName="updateTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences"\
status="5*"
disabled = 1


[IFP_Payments Open Token ErrorRate-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com,rcendana@optum.com,aparna.makthedar@optum.com, karthikeyan.sekar@optum.com, PortalsOMMYUHC_DL@ds.uhc.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -30m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.bigN.memberId","respDetails.uid","respDetails.msg.paymentMethod","respDetails.msg.props.pastAmountDue","respDetails.msg.memberId","respDetails.msg.apiUrl","respDetails.apiUrl"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.general.type = statistics
display.page.search.mode = fast
display.statistics.drilldown = none
display.statistics.wrap = 0
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment | rename respDetails.responseCode as STATUS | rename respDetails.apiUrl as api | search api="https://myuhc-pfdecoder.prod.werally.in/MYUHCPFDECODER/getData" | stats count(eval(STATUS<501 OR STATUS=404 OR STATUS=500 OR STATUS="true" OR STATUS="NULL" OR STATUS="Success" OR STATUS="Error" )) as SuccessCount p95("respDetails.duration") AS P95_RTT avg("respDetails.duration") as RTT count as TotalCount by api\
| eval ErrorCount = TotalCount-SuccessCount\
| eval ErrorRate = round(ErrorCount/TotalCount*100,2)\
| eval SuccessRate = round(SuccessCount/TotalCount*100,2)\
|fields api TotalCount SuccessCount SuccessRate ErrorCount ErrorRate P95_RTT RTT | where ErrorRate > 2
disabled = 1

[UCP-Payment Failures-AWS-production]
action.email = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = amit_kumar_141@optum.com,amit.kumar1@rallyhealth.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 1
alert_condition = search count >0
auto_summarize.dispatch.earliest_time = -1d@h
counttype = custom
cron_schedule = */15 * * * *
dispatch.earliest_time = -30m@m
dispatch.latest_time = @m
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 1
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" *UCPPayment*  |where status'>=400 | stats  count by path,status
disabled = 1

[health-prod-2 circuit breaker tripped-production]
action.email.useNSSubject = 1
action.slack = 1
action.slack.param.channel = #best-hats
action.slack.param.message = Circuit Breaker open on health-prod-2
alert.digest_mode = 0
alert.suppress = 1
alert.suppress.fields = *
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = */5 * * * *
dispatch.earliest_time = -5m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_health-prod"   "Circuit Breaker is open; calls are failing fast"
disabled = 1


[RX API SSO Failure Alert-production]
action.email = 1
action.email.include.view_link = 0
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = guru_gunti@optum.com,vinay.digumarthi@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
alert_condition = search ServerErrors > 25
counttype = custom
cron_schedule = */1 * * * *
dispatch.earliest_time = -1m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","backend_http","backend_url","class","cluster_name","container_id","container_name","env","eventtype","field1","field2","field3","field4","field5","fluentd_pod","index","linecount","namespace","pod","punct","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","field10","field11","field6","field7","field8","field9","severity","field12","field13","field14","field15","field16","field17","field18","field19","field20","field21","field22","field23","field24","field25","field26","field27","field28","field29","field30","field31","field32","field33","field34","field35","field36","field37","field38","field40","field41","field42","field43","field44","field45","field46","HSID","accId","DD_RUM_sessionId","deeplink","fillType","fullyInsured","groupId","href","isUhcPop","locale","ndcList","path","planToken","populationType","referer","rxNumberList","target","uuid","apiPath","referrer","status","Access_Control_Allow_Origin","accountId","businessType","Cache_Control","charset","Connection","Content_Type","CorrelationIdSource","Date","dateOfBirth","expires","firstName","individualId","lastName","max_age","memberId","mnrPlanTypes","SameSite","Set_Cookie","Strict_Transport_Security","Transfer_Encoding","Vary","Via","visid_incap_2463192","visid_incap_676022","X_CDN","X_Iinfo","X_Kong_Proxy_Latency","X_Kong_Upstream_Latency","X_Rally_CorrelationId","zip","ActionName","ActionVersion","app_version","canary_status","coverageTypeCodes","dd_env","dd_service","dd_span_id","dd_trace_id","dd_version","durationMs","ipHash","lineOfBusiness","membershipCategory","method","origin","playRoutePattern","position","processedEndDate","processedStartDate","RallyCaller","responseLength","uri","URI","version","API_Staus","marker.name","message","rallyId","threadId","threadPriority","timeMillis","timestamp","line.status","line.url","nginx.bytes_sent","nginx.host","nginx.method","nginx.path","nginx.proxy_alternative_upstream_name","nginx.proxy_upstream_name","nginx.referrer","nginx.remote","nginx.request_id","nginx.request_length","nginx.request_time","nginx.upstream_addr","nginx.upstream_response_length","nginx.upstream_response_time","nginx.upstream_status","nginx.user","nginx.user_agent","optum_cid_ext"]
display.events.rowNumbers = 1
display.events.type = raw
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod"   path=*sso*\
|rex field=path "^(?<api>.+?)\?" |rename status as line.status, api as line.url  |stats count as Total_hits by line.url | appendcols[search index="aws_ceuhc-eks_rx-prod"  path=*sso*  |rex field=path "^(?<api>.+?)\?" |rename status as line.status, api as line.url | search line.status>=500 |stats count as ServerErrors by line.url]  | appendcols[search index="aws_ceuhc-eks_rx-prod" path=*sso*  |rex field=path "^(?<api>.+?)\?" |rename status as line.status, api as line.url | search line.status>=4*  AND line.status<500 |stats count as ClientErrors by line.url] | eval ServerErrorRate = round((ServerErrors/Total_hits)*100, 2) | eval ClientErrorRate = round((ClientErrors/Total_hits)*100, 2) |fields line.url, Total_hits, ServerErrors, ClientErrors, ServerErrorRate, ClientErrorRate
disabled = 1

[IFP - Effective Incentives Experience SSO To BIW Daily Report-production]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = Hi,\
\
Please find below members that have successfully SSO'd from myUHC to BIW.
action.email.sendresults = 1
action.email.subject.report = $name$
action.email.to = john.evans@uhc.com,mark_w_stockhowe@uhc.com,don_c_stout@uhc.com,tseran@optum.com,ram_s@optum.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 0 2 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = auto
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-sso" logger="com.uhg.myuhc.log.SplunkLog" \
| rex field=message.backendCalls{}.requestObject.body max_match=0 "[\?\&]groupNumber=(?<groupNumber_value>[^&]+)" \
| rename message.incomingRequest.partner as "SSO Partner" | search "SSO Partner"=sso_SSOPartner_BIW_HealthRewards\
| eval Time = strftime(_time, "%m-%d-%Y %H:%M:%S")  | table Time, message.outgoingResponse.attributes.memberId,message.outgoingResponse.attributes.depSeq, groupNumber_value \
| rename "message.outgoingResponse.attributes.memberId" as "Subscriber ID", \
"message.outgoingResponse.attributes.depSeq" as "Dependent Code", "groupNumber_value" as "Group Number"  | sort Time
disabled = 1

[EligibilityV2 - by rally Id-production]
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = -7d@h
dispatch.latest_time = now
display.events.fields = ["sourcetype","tenant","cluster_name","namespace","container_name","env","thread","source"]
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_pass-prod" OR index="aws_ceuhc-eks_pass-uat") ("getOrCreateMemberByEligibilityV2 - rallyId=" OR "eligibilityClient.findEID - result:")
disabled = 1

[HealthVault Fuzzle File Not Processed-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = c73aaa7e.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 0
action.slack.param.channel = #healthvault-support
action.slack.param.message = Fuzzle Event Staging Not Completed in expected time. May be  Unknown failure. Manual Lookup needed to find the issue
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */60 * * * *
description = alerts when Fuzzle events are not staged
dispatch.earliest_time = -1h
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
search = index="aws_ceuhc-eks_data-prod" sourcetype="kube:container:healthvault-file-transport"  deployment.environment="nucleus-prod-1" (fileType=gaps OR fileType=rulesdata OR fileType=biometrics OR fileType=claims OR fileType=offerdata OR fileType=conditions) AND (event=Received_Fuzzle_ExternalNewFileEvent OR event=staging_complete OR event=AcknowledgeCtlFile) AND NOT (fileName=Ext*.parquet* OR fileName=Int*.parquet*)
| eval fileReceived_Time=if(searchmatch("Received_Fuzzle_ExternalNewFileEvent"),_time,null()) \
| eval StagingCompletionTime=if(searchmatch("event=staging_complete"),_time,null())\
| eval AckCompletionTime=if(searchmatch("event=AcknowledgeCtlFile"),_time,null())\
| transaction fileName\
| search (event=Received_Fuzzle_ExternalNewFileEvent AND NOT ("event=staging_complete" OR "event=AcknowledgeCtlFile"))\
| table _raw, fileReceived_Time, StagingCompletionTime
disabled = 1

[IFP Wellness HRA Edifecs ErrorRate-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = tseran@optum.com,rcendana@optum.com,haq_ejaz@optum.com,vyas_bellamkonda@optum.com,bowya.rajendran@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -30m
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=wellness | rename respDetails.msg.function as function \
| rename respDetails.msg.responseCode as STATUS | rename respDetails.msg.status as STATUS_MSG  | search function="EdifecsHraLoadStatus" \
 | stats  count(eval(STATUS="200" OR STATUS_MSG="success")) as SuccessCount p95("respDetails.msg.encryptApiDuration")\
 AS PFDecoder_Encrypt_API_P95_RTT avg("respDetails.msg.encryptApiDuration") as PFDecoder_Encrypt_API_RTT p95("respDetails.msg.scriptDuration") \
 AS Edifecs_Script_P95_RTT avg("respDetails.msg.scriptDuration") as Edifecs_Script_RTT count as TotalCount by function  \
 | eval  ErrorCount = TotalCount-SuccessCount  | eval  ErrorRate = round(ErrorCount/TotalCount*100,2)  \
 | eval  SuccessRate = round(SuccessCount/TotalCount*100,2)\
 | fields  TotalCount SuccessCount SuccessRate ErrorCount ErrorRate PFDecoder_Encrypt_API_P95_RTT PFDecoder_Encrypt_API_RTT Edifecs_Script_P95_RTT Edifecs_Script_RTT \
 | where ErrorRate > 2
disabled = 1

[IFP_PAYMENTS_MFA_METRICS_REPORT-production]
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger"  deployment.environment="k8s-prod" | stats  count(eval('respDetails.function'="MFA Hit"))\
 as "MFA Intialization Started", count(eval('respDetails.function'="MFA Hit Intializated")) as "MFA Successfully Intializated",\
 count(eval('respDetails.function'="MFA Hit System Issue")) as "MFA Intialization System Issues", count(eval('respDetails.function'="MFA Callback Hit")) \
 as "MFA Callback Received from HSID", count(eval('respDetails.function'="MFA Callback Authenticated")) as "MFA Authenticated", \
 count(eval('respDetails.function'="MFA Callback unAuthenticated")) as "MFA unAuthenticated", count(eval('respDetails.function'="MFA Callback Hit System Issue"))\
 as "MFA Callback System Issues"
disabled = 1


[MFA Authentication Errors-production]
action.email = 1
action.email.to = suresh.maganti@optum.com,\
ihs_dharma@optum.com,\
jyothi.ravipudi@optum.com,\
manala_ramu@optum.com,\
rajat_saxena@optum.com,\
rashmi_undapalli@optum.com,\
suman_kumar52@optum.com,\
yenuganti_ashok@optum.com,\
yaswanth_undela@optum.com,\
sreekar_boyina@optum.com,\
pavan_mallavarapu@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
alert_condition = where 'MFA unAuthenticated' >10
counttype = custom
cron_schedule = */15 * * * *
description = Triggers MFA authentication errors for every 15min
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.uid","respDetails.uuid","partner","userId","RallyId","apiStats{}.statusCode","apiStats{}.status","exit.status","response.status","status","route.https_redirect_status_code","message.ssoAttributes.UHG_PING_AP_ID","data.traceId","url","apiStats{}.data.bigN.FirstName","apiStats{}.data.bigN.LastName","apiStats{}.data.bigN.DOB"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" | stats count(eval('respDetails.function'="MFA Hit")) as "MFA Intialization Started",\
 count(eval('respDetails.function'="MFA Hit Intializated")) as "MFA Successfully Intializated", count(eval('respDetails.function'="MFA Hit System Issue")) \
 as "MFA Intialization System Issues", count(eval('respDetails.function'="MFA Callback Hit")) as "MFA Callback Received from HSID", \
 count(eval('respDetails.function'="MFA Callback Authenticated")) as "MFA Authenticated", count(eval('respDetails.function'="MFA Callback unAuthenticated"))\
 as "MFA unAuthenticated", count(eval('respDetails.function'="MFA Callback Hit System Issue")) as "MFA Callback System Issues"
disabled = 1

[M&R Claims Failure Alert-production]
action.email = 1
action.email.cc = vinay.digumarthi@optum.com
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.priority = 2
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = Ovations_Portals_OM_DL@ds.uhc.com,91ceb1fe.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
alert_condition = where Failed_request_count > 75
counttype = custom
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","backend_http","backend_url","class","cluster_name","container_id","container_name","env","eventtype","field1","field2","field3","field4","field5","fluentd_pod","index","linecount","namespace","pod","punct","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","field10","field11","field6","field7","field8","field9","severity","field12","field13","field14","field15","field16","field17","field18","field19","field20","field21","field22","field23","field24","field25","field26","field27","field28","field29","field30","field31","field32","field33","field34","field35","field36","field37","field38","field40","field41","field42","field43","field44","field45","field46","HSID","accId","DD_RUM_sessionId","deeplink","fillType","fullyInsured","groupId","href","isUhcPop","locale","ndcList","path","planToken","populationType","referer","rxNumberList","target","uuid","apiPath","referrer","status","Access_Control_Allow_Origin","accountId","businessType","Cache_Control","charset","Connection","Content_Type","CorrelationIdSource","Date","dateOfBirth","expires","firstName","individualId","lastName","max_age","memberId","mnrPlanTypes","SameSite","Set_Cookie","Strict_Transport_Security","Transfer_Encoding","Vary","Via","visid_incap_2463192","visid_incap_676022","X_CDN","X_Iinfo","X_Kong_Proxy_Latency","X_Kong_Upstream_Latency","X_Rally_CorrelationId","zip"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.format.0 = number
display.statistics.format.0.field = avgResponseTime
display.statistics.format.0.precision = 1
display.statistics.format.0.unit = ms
display.visualizations.charting.chart = line
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_navigation-prod" "/rest/edge-dashboard/claims/" status=* coverageTypeCodes=* RallyCaller="prod-arcade-edge-dashboard"  lineOfBusiness="M%26R" | dedup path  |  stats  count as Request_count_total, count(eval('status'<400)) as Request_count_success, count(eval('status'>=400)) as Failed_request_count,avg(durationMs) as avgResponseTime by ActionName,lineOfBusiness, coverageTypeCodes   | eval  Success_Percentage = round((Request_count_success/Request_count_total)*100,2)   | eval  Failure_Percentage = round((Failed_request_count/Request_count_total)*100,2)  | fields  lineOfBusiness,coverageTypeCodes,ActionName,Request_count_total,Request_count_success,Failed_request_count,Success_Percentage,Failure_Percentage, avgResponseTime | where Failure_Percentage > 0
disabled = 1

[MNR sso api call-production]
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
dispatchAs = user
display.events.fields = ["host","cluster_name","nginx.method","status"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod" path="/prescriptions/mnr/api/user-profile-service" | rename status as line.status, path as line.url\
 | stats count as HitCount by line.url, line.status | eventstats sum(HitCount) as total_hits by line.url | eval Rate=round((HitCount/total_hits)*100, 2) \
 | fields line.url, line.status, HitCount, Rate
disabled = 1


[CEProducts API - High P95-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 1
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.digest_mode = 0
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_ceapi-prod" sourcetype="kube:container:ce-product-api" data.path!=*/actuator/health data.type=ServerResponse\
| stats  perc95(data.duration) as P95-RTT | where RTT > 750
disabled = 1

[H&W API Error-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.digest_mode = 0
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = */5 * * * *
dispatch.earliest_time = -5m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_mnrportals-uat" sourcetype="kube:container:ce-wellness-api"data.correlationId=uhc-wellness-web-cns* data.type=ClientResponse data.status!=200 AND data.status!=success AND data.status!=notfound |stats count |where count>0
disabled = 1

[UCP_Payments_failure_Alert-production]
action.email = 1
action.email.cc = sonali.chaudhari@optum.com,\
vinay.digumarthi@optum.com,\
amit_kumar_141@optum.com,\
jitesh_kumar@optum.com, lokesh_puri@optum.com
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = UCP_CodeMonkeys_DL@ds.uhc.com,\
Ovations_Portals_OM_DL@ds.uhc.com,aa231b24.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
alert_condition = where Failed_request_count > 15
counttype = custom
cron_schedule = */15 * * * *
display.events.fields = ["class","cluster_name","container_id","container_name","deeplink","env","esp","eventtype","format","host","index","keys","linecount","memberId","namespace","nginx.bytes_sent","nginx.host","nginx.method","nginx.path","nginx.proxy_alternative_upstream_name","nginx.proxy_upstream_name","nginx.referrer","nginx.remote","nginx.request_id","nginx.request_length","nginx.request_time","nginx.status","nginx.upstream_addr","nginx.upstream_response_length","nginx.upstream_response_time","nginx.upstream_status","nginx.user","nginx.user_agent","pod","punct","respDetails.microApp","respDetails.timeStamp","respDetails.uid","respDetails.userInfo","respDetails.uuid","result","severity","source","sourcetype","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","uuid","Accept","Access_Control_Allow_Headers","Access_Control_Allow_Methods","Access_Control_Allow_Origin","accessToken","accountId","actor","Authorization","Cache_Control","charset","Connection","Content_Length","Content_Type","Date","dateOfBirth","expiresIn","firstName","lastName","max_age","mode","optum_cid_ext","RateLimit_Limit","RateLimit_Remaining","RateLimit_Reset","scope","Strict_Transport_Security","timestamp","tokenType","Transfer_Encoding","X_Content_Type_Options","X_Frame_Options","X_Proxy_Latency","X_RateLimit_Limit_Second","X_RateLimit_Remaining_Second","X_Upstream_Latency","X_XSS_Protection","alternateId","branchid","businessType","cdbPartitionNumber","cdbXrefId","claimSystemTypeCode","contactItem","contactReason","contractid","coverageCode","displayGroupId","displayMemberId","effectivedate","eligibilitySystemTypeCode","Expires","ext_PF","f0a337089bdd6b4cf3d20973d9109","globalSolutionsIndicator","governmentProgramTypeCode","groupId","groupName","groupnumber","id","idMemberType","individual_id","individualId","Keep_Alive","licsbenefits","marketNumber","marketType","memberSsn","memberType","mnrPlanTypes","myuhcPortalIndicator","obligorId","Path","path","paymentActionType","pbpnumber","PLAN_CATEGORY","planDetails","planEffectiveEndDate","planEffectiveStartDate","planEligibilityIndicator","plantype","planVariation","planyear","Pragma","PRE_EFFECTIVE","preferredPlanIndicator","productCode","rails_correlation_id","Referrer_Policy","relationshipCode","reportingCode","SameSite","segmentid","Server","Set_Cookie","sharedArrangementCode","sitename","situsState","sourceCode","subscriberId","timeout","TS01e6ea07","zip","IndividualId","Message_Code","Message_Text","Message_Type","errorCode","referrer","state","token","zipCode","agyd6k3oohv2iyxojipxjploae","aud","benefits_legacy","campaign","code","crossDomain","delivery","ds_rl","emailConfirmStatus","enginetype","fdeeplink","fq","frameless","ga","gclid","gclsrc","gl","intref","invocabrand","keyword","kwid","LeadSourceName","medium","mrcid","msclkid","nonCachedCQRequest","OIDC","OIDCSESSION","portalIndicator","portalsignin","q","q1","refreshToken","registerFlag","rows","Silk_Accelerated","start","tab","TARGET","target","themeUA","type","UTM_Campaign","utm_campaign","utm_Campaign","utm_content","UTM_Intent","utm_Intent","UTM_Keyword","utm_Keyword","utm_medium","utm_source","utm_term","wcmmode","WT_mc_ID","WT_mc_id","WT_srch","ARRAffinity","Domain","password","requestType","transactionId","TS0177b8c6","userName","Version","authenticated_entity.id","client_ip","consumer.created_at","consumer.id","consumer.type","consumer.username","latencies.kong","latencies.proxy","latencies.request","request.headers.accept","request.headers.accept-encoding","request.headers.content-length","request.headers.content-type","request.headers.host","request.headers.incap-client-ip","request.headers.incap-proxy-1344","request.headers.incap-proxy-1540","request.headers.incap-proxy-1543","request.headers.incap-proxy-1545","request.headers.incap-proxy-481","request.headers.incap-proxy-623","request.headers.incap-proxy-888","request.headers.user-agent","request.headers.x-amzn-trace-id","request.headers.x-consumer-id","request.headers.x-consumer-username","request.headers.x-credential-identifier","request.headers.x-datadog-parent-id","request.headers.x-datadog-sampling-priority","request.headers.x-datadog-trace-id","request.headers.x-forwarded-for","request.headers.x-forwarded-port","request.headers.x-forwarded-proto","request.headers.x-onepass-api-key","request.headers.x-onepass-clientkey","request.method","request.size","request.uri","request.url","response.headers.access-control-allow-credentials","response.headers.access-control-allow-origin","response.headers.connection","response.headers.content-length","response.headers.content-type","response.headers.date","response.headers.etag","response.headers.vary{}","response.headers.via","response.headers.x-datadog-parent-id","response.headers.x-datadog-sampled","response.headers.x-datadog-sampling-priority","response.headers.x-datadog-trace-id","response.headers.x-kong-proxy-latency","response.headers.x-kong-upstream-latency","response.headers.x-powered-by","response.headers.x-rally-correlationid","response.size","response.status","route.created_at","route.https_redirect_status_code","route.id","route.methods{}","route.name","route.path_handling","route.paths{}","route.preserve_host","route.protocols{}","route.regex_priority","route.request_buffering","route.response_buffering","route.service.id","route.strip_path","route.tags{}","route.updated_at","route.ws_id","service.connect_timeout","service.created_at","service.host","service.id","service.name","service.port","service.protocol","service.read_timeout","service.retries","service.updated_at","service.write_timeout","service.ws_id","started_at","tries{}.balancer_latency","tries{}.balancer_start","tries{}.ip","tries{}.port","upstream_uri","workspace","app","daySupply","drugId","fluentd_pod","form","isSuperUser","locale","packageSize","pharmacyNabp","platform","populationId","priorFill","productId","productType","quantity","sig","strength","v","version","a","amount","benefitDetailDeductible","benefitText","callToAction","carrierName","Confirm","copayCoverageAmount","CorrelationIdSource","costDescription","costMaxAmount","costMinAmount","costType.costDescription","costType.costValue","costValue","daysSupply","dd.env","dd.service","dd.span_id","dd.trace_id","dd.version","description","encoding","endDate","endDay","fillType","i","il","includeACHEndDate","instrumentid","intervalValue","isBothCopayAndCoinsuranceExists","isCoInsurancePercentCostShare","isCombinedCostShareAsINN","isCombinedMaxPlanCoverageAmount","isCombinedWithAccupuncture","isCombinedWithChiro","isCopayAmountCostShare","isCoverage","isCvsEnabled","isDeductible","isDiabeticSuppliesLimitedfromManufacturers","isMandatory","isOutOfPocketMaxAmount","isReferalRequired","isUnlimitedBenefit","maxPlanCoverageType","maxPlanPeriod","medicalBenefitTier.medicalBenefitTierType.code","medicalBenefitTier.medicalBenefitTierType.description","medicalBenefitTier.value","medicalBenefitTierByBenefitTypeList{}.costMaxAmount","medicalBenefitTierByBenefitTypeList{}.costMinAmount","medicalBenefitTierByBenefitTypeList{}.costType.costDescription","medicalBenefitTierByBenefitTypeList{}.costType.costValue","medicalBenefitTierByBenefitTypeList{}.endDay","medicalBenefitTierByBenefitTypeList{}.intervalValue","medicalBenefitTierByBenefitTypeList{}.medicalBenefitTier.medicalBenefitTierType.code","medicalBenefitTierByBenefitTypeList{}.medicalBenefitTier.medicalBenefitTierType.description","medicalBenefitTierByBenefitTypeList{}.medicalBenefitTier.value","medicalBenefitTierByBenefitTypeList{}.startDay","medicalBenefitTierType.code","medicalBenefitTierType.description","medicalBenefitType.code","medicalBenefitType.description","medicalBenefitType.packageNumber","memberToken","membertoken","ndc","ndcList","networkDescription","networkType.networkDescription","networkType.networkValue","networkValue","nil","ns2","ns3","numberOfDays","numberOfPeriod","numberOfVisits","orderCreationDate","ordernumber","orderStatus","orderStatusCode","ordNumber","packageNumber","planPaid","regcode","rxNumber","rxNumberList","s","soapenv","startDate","startDay","strOrigTrackNum","testError","trackingId","trackingNbr","value","vendorName","waiverIndicator","xmlns","aem-mode","cid","client_id","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","dd_span_id","dd_trace_id","deepLink","instance_id","pfidpadapterid","rallyId","redirect_uri","response_type","resume","role","spentity","status","timeendpos","timestartpos","X_Rally_CorrelationId","bp","cmd","crc","Datadog_Synthetics","en","end","flavor","modifiedSince","response_time","rf","sn","svrid","target_url","uri_path","vi","la","accountAccessory","accountNumberMasked","accountType","cancelURL","city","countryCode","holderName","holderType","notifyURL","parsedData","processingMode","providerResponseCode","providerResponseMessage","providerTransactionId","requestId","responseCode","responseMessage","responseType","returnURL","returnURLPolicy","street","styleURL","transactionDate","transactionType","ud_checkbox1Value","ud_checkbox2Value","ud_input1","ud_input2","ud_sessionId","ud_street2","verificationMode","app_error_msg","backend_http","backend_url","dd_env","dd_service","dd_version","durationMs","method","position","resource","responseLength","uri","action","adobe_mc","allowed","authToken","collectionName","date","delegationTokenId","dest","eventTime","impersonator","ipAddress","ipHash","level","logger","message","message.reqInfo.access_token","message.reqInfo.jsessionID","message.reqInfo.superuser_id","message.reqInfo.superuser_level","message.reqInfo.timestamp","message.reqInfo.uid","message.reqInfo.url","message.reqInfo.uuid","message.respDetails.api{}.apiCode","message.respDetails.api{}.apiMessage","message.respDetails.api{}.apiUrl","message.respDetails.api{}.correlationid","message.respDetails.api{}.httpStatusCode","message.respDetails.api{}.name","message.respDetails.api{}.requestParam","message.respDetails.api{}.responsetime","message.respDetails.claimSearch.claimSearch","message.respDetails.claimSearch.claimType","message.respDetails.claimSearch.dateRange","message.respDetails.claimSearch.depSeqNum","message.respDetails.claimSearch.referenceTab","message.respDetails.ipaddress","message.respDetails.memberinfo.alternateId","message.respDetails.memberinfo.divisionCode","message.respDetails.memberinfo.groupid","message.respDetails.memberinfo.lineOfBusiness","message.respDetails.memberinfo.membername","message.respDetails.memberinfo.membershipcategory","message.respDetails.memberinfo.policynumber","message.respDetails.memberinfo.pvrc","message.respDetails.memberinfo.saio","message.respDetails.pagecontent{}","message.respDetails.pageload","message.respDetails.pageloadtime","message.respDetails.refererurl","message.respDetails.superuser","message.respDetails.useragent","operation","permissions","playRoutePattern","queryduration","request.headers.accept-language","request.headers.context-config-consumersource","request.headers.context-config-partnergroup","request.headers.context-config-partnerid","request.headers.context-config-plancode","request.headers.context-config-policyid","request.headers.incap-proxy-1245","request.headers.x-credential-client-id","request.headers.x-credential-exp","request.headers.x-credential-iat","request.headers.x-credential-iss","request.headers.x-credential-scope","request.headers.x-credential-sid","request.headers.x-credential-sub","request.querystring.platform","request.querystring.sig","request.querystring.version","response.headers.cache-control","response.headers.content-encoding","response.headers.server-timing","response.headers.transfer-encoding","response.headers.x-rally-identifier","serviceName","src","username","extendedAccountType","providerReferenceNumber","refillType","transactionCode","codeText","eventType","exMsg","userId","writeError_code","writeError_codeText","writeError_errmsg"]
display.events.type = raw
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_mnrportals-prod" sourcetype="kube:container:ops-k8s-ingress-external" *UCPPayments* NOT *getSystemTime* NOT */favicon.ico*  NOT path="*mfaLoggingService" NOT status=403 earliest="-15m" latest=now()| rex field=_raw "^[^ \n]* (?P<nginx_host>[^ ]+)" | search nginx_host="member.uhc.com" | eval Service_Interface= case(     like(path,"%/member/getTokenization%") ,"Member Tokenization",     like(path,"%/v1/getTokenization%") ,"Guest Payment-Tokenization",      like(path,"%/V1/loginGuestPayment%") ,"Guest Payment-Login",     like(path,"%/unTokenizationOnMemberLogout%") ,"UnTokenization On MemberLogout",     like(path,"%/member/searchPaymentHistory/v1%") ,"Search Payment History", like(path,"%/UCPPayments/emailMarketingWidget%"),"Email Marketing Widget",     like(path,"%/v1/searchPaymentHistory%") ,"Guest Payment-Search Payment History",     like(path,"%/v1/SearchPaymentMethodResults%") ,"Guest Payment-Search Payment Method Results",     like(path,"%/V1/findPostPaymentDetails%") ,"Guest Payment-Post Payment Details",     like(path,"%/member/submitEFTPaymentForm%") ,"Submit EFT Payment Form",     like(path,"%/member/eft/EftPostPaymentResults%") ,"Eft Post Payment Results",     like(path,"%/saveAndUpdateToken%") ,"Save And Update Token",     like(path,"%/member/payment-methods/v2/credit-card%") ,"Credit Card Payment Submission", 	like(path,"%/member/payment-methods/v2/saved-creditcard%") ,"Already Saved Credit Card One-Time Payment Submission", 	like(path,"%/member/SearchPaymentMethodResults%") ,"Search Payment Method Results", 	like(path,"%/member/cancelPostPaymentResults%") ,"Cancel Post Payment Results",     like(path,"%/v1/payment-methods/v2/credit-card%") ,"Guest Payment-Cc PostPayment Results", 	like(path,"%/UCPPayments/v1/sendKafkaPaymentEvent%") ,"Send Kafka Payments",     like(path,"%/v1/eft/EftPostPaymentResults%") ,"Guest Payment-EftPostPaymentResults",     like(path,"%/V1/getDemographics%") ,"Guest Payment-get Demographics",     like(path,"%getGPSInvoicePDF/v1%") ,"get GPS Invoice PDF",     like(path,"%member/getPaymentHistory/v1%") ,"Get Payment History", 	like(path,"%/setSecurityLog%") ,"Set Security Log", 	like(path,"%getCustId/%") ,"Get Customer Id", 	like(path,"%/member/payment-methods/v1/govt-eft%") ,"Govt EFT Payment Submission", 	like(path,"%/v1/payment-methods/v1/govt-eft%") ,"Guest Payment-Govt EFT Payment Submission", 	like(path,"%/member/payment-methods/v2/ship-eft%") ,"SHIP EFT Payment Submission", 	like(path,"%/member/payment-methods/v2/cancel-recurring%") ,"Cancel Recurring Payment", 	like(path,"%/member/v1/account-validation-wrapper%") ,"Bank Account Validation Wrapper", 	like(path,"%/UCPPayments/v1/account-validation-wrapper%") ,"Guest Payment-Bank Account Validation Wrapper",like(path,"%/UCPPayments/member/readPendingPayments%") ,"Read Pending Payments" ,like(path,"%/UCPPayments/member/readPendingPayments%") ,"Read Pending Payments"\
,like(path,"%/UCPPayments/getWalletandPayments/WalletandPaymentsResults%") ,"GPS MOD - Guest Wallet And Payments Results"\
,like(path,"%/UCPPayments/member/getWalletandPayments/WalletandPaymentsResults%") ,"GPS MOD - Wallet And Payments Results"\
,like(path,"%/UCPPayments/member/WalletServices/get/wallet%") ,"GPS MOD - Get Wallet"\
,like(path,"%/UCPPayments/member/WalletServices/update/wallet%") ,"GPS MOD - Update Wallet"\
,like(path,"%/UCPPayments/createPayment/bankAccountDetails/v1%") ,"GPS MOD - Guest Bank EFT Payment"\
,like(path,"%/UCPPayments/createPayment/creditCardDetails/v1%") ,"GPS MOD - Guest Credit Card Payment"\
,like(path,"%/UCPPayments/member/cancelPayment/v1%") ,"GPS MOD - Cancel One Time Payment"\
,like(path,"%/UCPPayments/member/createPayment/bankAccountDetails/v1%") ,"GPS MOD - Bank EFT Payment"\
,like(path,"%/UCPPayments/member/createPayment/creditCardDetails/v1%") ,"GPS MOD - Credit Card Payment"\
,like(path,"%/UCPPayments/member/retrievePayments/v1%") ,"GPS MOD - Retrieve Payments"\
,like(path,"%/UCPPayments/member/retrievePaymentsWithPaymentId/v1%") ,"GPS MOD - Retrieve Payment By Payment ID"\
,like(path,"%/UCPPayments/member/updatePayment/v1%") ,"GPS MOD - Edit One Time Payment"\
,like(path,"%/UCPPayments/MnrDeleteToken/V1%") ,"Delete Token From Database",like(uri_path,"%/member/getCreatepaymentForm%") ,"Create payment Form", true(), "Other Transactions")  | stats  count as Request_count_total,dc(OIDC) as Unique_Customers, count(eval('status'<400)) as Request_count_success, count(eval('status'>=400)) as Failed_request_count by Service_Interface  | eval  Success_Percentage = round((Request_count_success/Request_count_total)*100,2)  | eval  Failure_Percentage = round((Failed_request_count/Request_count_total)*100,2) | fields  Service_Interface,Request_count_total,Request_count_success,Failed_request_count,Success_Percentage,Failure_Percentage | where Failed_request_count > 15
disabled = 1



[Binder Payments Full Transaction ID Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 59 23 * * *
description = Payments Full Transaction ID Report
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment "respDetails.paymentFlow"=BINDER "respDetails.msg.function"=* "respDetails.msg.status"=success  \
| dedup "respDetails.msg.transactionId" | stats count by "respDetails.paymentFlow" "respDetails.msg.paymentMethod" "respDetails.msg.paymentType" "respDetails.msg.memberId" "respDetails.msg.state" "respDetails.msg.transactionId"
disabled = 1

[Effectuated Payments Full Transaction ID Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 59 23 * * *
description = Effectuated Payments Full Transaction ID Report
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" \
respDetails.microApp=payment respDetails.paymentFlow=EFFECTUATED respDetails.msg.function=* respDetails.msg.status=success\
| dedup respDetails.msg.transactionId\
| stats count by respDetails.paymentFlow respDetails.msg.paymentMethod respDetails.msg.paymentType respDetails.msg.memberId respDetails.msg.state\
respDetails.msg.transactionId
disabled = 1

[Email Digests not triggered-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.to = andrew.jones@rallyhealth.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 18 * * *
description = No email digests were sent to SFMC today
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app"]
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = equal to
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" "About to send email for userId=" "productTemplate=emprewards_digest" 
disabled = 1

[Binder Confirmations MidDay Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com, leticia.castellanos@uhc.com, katie.weierke@uhc.com,john.evans@uhc.com,aisha_saleem@uhc.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 00 12 * * *
description = Binder Confirmations MidDay Report
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=payment respDetails.paymentFlow=BINDER respDetails.msg.function=BinderConfirmation respDetails.msg.status=success \
| dedup respDetails.msg.transactionId  | stats count by respDetails.msg.paymentMethod respDetails.msg.binderPaymentInfo.binderPaymentType respDetails.msg.state
disabled = 1

[Effectuated Payments MidDay Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com, leticia.castellanos@uhc.com, katie.weierke@uhc.com,john.evans@uhc.com,aisha_saleem@uhc.com
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 00 12 * * *
description = Effectuated Payments MidDay Report
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" \
respDetails.microApp=payment OR respDetails.microApp=IFP-ONBOARDING respDetails.msg.function=EffectuatedConfirmation respDetails.paymentFlow=EFFECTUATED respDetails.msg.status=success | dedup respDetails.msg.transactionId | stats count by respDetails.msg.coverageStatus respDetails.msg.paymentMethod respDetails.msg.paymentType respDetails.msg.state
disabled = 1

[Select PCP Clicks MidDay Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com, leticia.castellanos@uhc.com, katie.weierke@uhc.com,john.evans@uhc.com,aisha_saleem@uhc.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 00 12 * * *
description = Select PCP Clicks MidDay Report (00:00 - 12:00)
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger"  "respDetails.microApp"=payment "respDetails.paymentFlow"=EARLYPAY "respDetails.msg.function"=WelcomeHeading OR "respDetails.msg.function"=ConfirmationNew "respDetails.msg.status"=clicked| stats count by "respDetails.msg.memberId" "respDetails.msg.function"
disabled = 1

[Select PCP Clicks Full Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com, leticia.castellanos@uhc.com, katie.weierke@uhc.com,john.evans@uhc.com,aisha_saleem@uhc.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 55 23 * * *
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment "respDetails.paymentFlow"=EARLYPAY "respDetails.msg.function"=WelcomeHeading OR "respDetails.msg.function"=ConfirmationNew "respDetails.msg.status"=clicked| stats count by "respDetails.msg.memberId" "respDetails.msg.function"
disabled = 1

[IFP_Onboarding_EarlypayConfirmation_CreditCard_ErrorRate-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com,rcendana@optum.com,aparna.makthedar@optum.com, karthikeyan.sekar@optum.com, PortalsOMMYUHC_DL@ds.uhc.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -30m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.bigN.memberId","respDetails.uid","respDetails.msg.paymentMethod","respDetails.msg.props.pastAmountDue","respDetails.msg.memberId","respDetails.msg.apiUrl","respDetails.apiUrl"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.drilldown = none
display.statistics.wrap = 0
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=IFP-ONBOARDING "respDetails.paymentFlow"=EARLYPAY \
"respDetails.msg.function"=EarlyPayConfirmation "respDetails.msg.paymentMethod"=CC | rename respDetails.msg.status as STATUS\
 respDetails.msg.function as Function respDetails.msg.paymentMethod as PaymentMethod | stats  count(eval(STATUS="success")) as SuccessCount count as TotalCount by Function PaymentMethod | eval  ErrorCount = TotalCount-SuccessCount \
 | eval  ErrorRate = round(ErrorCount/TotalCount*100,2) | eval SuccessRate = round(SuccessCount/TotalCount*100,2)  | where  ErrorRate > 2
disabled = 1

[Volume_Metrics_Myuhc_Myuhc2-production]
action.email = 1
action.email.message.report = The scheduled report 'Volume Metrics - Myuhc/Myuhc2' has run.
action.email.subject.report = Splunk Report: $Volume Metrics - Myuhc/Myuhc2$
action.email.to = walter_stolarzyk@optum.com
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index.report = MyUHC Logins werally
alert.suppress = 0
alert.track = 1
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 18 04 * * *
description = Logins for Myuhc/Myuhc2 in one Total
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
realtime_schedule = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-post-signin" | search entry.url="*/myuhc/post-signin*" OR entry.url="*/myuhc/landingUrl*"\
| stats count as count
disabled = 1

[IFP_Payments_NewtworkErrorRate-production]
action.email = 1
action.email.include.results_link = 0
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = vyas_bellamkonda@optum.com,\
rcendana@optum.com,yenuganti_ashok@optum.com, divya.bogoju@optum.com, karthikeyan.sekar@optum.com,\
PortalsOMMYUHC_DL@ds.uhc.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
counttype = number of events
cron_schedule = */5 * * * *
dispatch.earliest_time = -15m
dispatch.latest_time = now
display.page.search.mode = fast
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" "respDetails.microApp"=payment ERR_NETWORK
disabled = 1

[EarlyPay Payments Full Transaction ID Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 59 23 * * *
description = Payments Full Transaction ID Report
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=IFP-ONBOARDING respDetails.paymentFlow=EARLYPAY\
respDetails.msg.status=success respDetails.msg.function=EarlyPayConfirmation\
| dedup respDetails.msg.paymentTransactionId\
| stats count by respDetails.paymentFlow respDetails.msg.paymentMethod respDetails.msg.paymentType respDetails.msg.memberId respDetails.msg.State respDetails.msg.paymentTransactionId
disabled = 1

[EarlyPay Confirmations MidDay Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com, leticia.castellanos@uhc.com, katie.weierke@uhc.com,john.evans@uhc.com,aisha_saleem@uhc.com
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 00 12 * * *
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:Container:myuhc-logger" respDetails.microApp=payment OR respDetails.microApp=IFP-ONBOARDING respDetails.paymentFlow=EARLYPAY respDetails.msg.function=EarlyPayConfirmation respDetails.msg.status=success\
| dedup respDetails.msg.transactionId\
| stats count by  respDetails.msg.paymentMethod respDetails.msg.paymentType respDetails.msg.state
disabled = 1

[IFP - OUTBOUND SSO - LOOKUP DATA REPORT-production]
action.email.useNSSubject = 1
alert.track = 0
cron_schedule = 0 2 * * *
dispatch.earliest_time = -45d@d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
index="aws_ceuhc-eks_uhcportals-prod" deployment.environment="k8s-prod" sourcetype="kube:container:myuhc-sso" "dd.service"="myuhc-sso" \
 message.ssoType!="Inbound" Membership_LOB=IFP |fillnull "message.incomingRequest.deepLink" value="NotApplicable" \
 |fillnull "message.incomingRequest.requestor" value="NotApplicable" |fillnull "message.incomingRequest.returnPage" value="NotApplicable" \
 | dedup "message.incomingRequest.partner" "message.incomingRequest.deepLink" "message.incomingRequest.requestor" "message.incomingRequest.returnPage" \
 | table Membership_LOB "message.incomingRequest.partner" "message.incomingRequest.deepLink" "message.incomingRequest.requestor" "message.incomingRequest.returnPage"\
 | outputlookup ifp_outbound_sso_lookup_report.csv
disabled = 1

[IFP - SSO Outbound Daily Report-production]
action.email = 1
action.email.include.results_link = 0
action.email.include.view_link = 0
action.email.inline = 1
action.email.message.report = Hi,\
\
Please find below IFP SSO outbound daily report.
action.email.sendresults = 1
action.email.subject.report = IFP - SSO Outbound Daily Report
action.email.to = anushree_shrivastava@optum.com,john.evans@uhc.com,michael_bierden@uhc.com,rcendana@optum.com,tseran@optum.com,00fa0635.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 0 4 * * *
description = IFP - SSO Outbound Daily Report
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.statistics.format.0 = color
display.statistics.format.0.colorPalette = minMidMax
display.statistics.format.0.colorPalette.maxColor = #D93F3C
display.statistics.format.0.colorPalette.minColor = #FFFFFF
display.statistics.format.0.field = ErrorRate
display.statistics.format.0.scale = minMidMax
display.statistics.format.0.scale.maxType = percent
display.statistics.format.0.scale.maxValue = 0.01
display.statistics.format.0.scale.minValue = 0
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_priority = higher
search = index="aws_ceuhc-eks_uhcportals-prod" deployment.environment="k8s-prod" sourcetype="kube:container:myuhc-sso" "dd.service"="myuhc-sso" message.ssoType!="Inbound" Membership_LOB=IFP \
 | rename "message.outgoingResponse.attributes.ACTION" As "usertype" | eval usertype_valid=case(usertype!="",usertype,adminId!="","super", true(), "member")\
 | search usertype_valid!=super* |fillnull "message.incomingRequest.deepLink" value="NotApplicable"\
 |fillnull "message.incomingRequest.returnPage" value="NotApplicable"  |fillnull "message.incomingRequest.requestor" value="NotApplicable"\
 | rename message.exceptionList{} as exList | stats  count as TotalCount count(eval(exList!="")) as ErrorCount  by "message.incomingRequest.partner","message.incomingRequest.deepLink",\
 "message.incomingRequest.requestor","message.incomingRequest.returnPage",Membership_LOB | eval SuccessCount = TotalCount-ErrorCount \
| eval ErrorRate = round(ErrorCount/TotalCount*100,2)\
| eval SuccessRate = round(SuccessCount/TotalCount*100,2) \
| inputlookup append=t ifp_outbound_sso_lookup_report.csv | rename "message.incomingRequest.partner" AS "SSOPartner" \
| rename "message.incomingRequest.requestor" AS "Requestor" | rename "message.incomingRequest.deepLink" AS "Deeplink" \
| rename "message.incomingRequest.returnPage" AS "ReturnPage"   | fillnull value=0 TotalCount | fillnull value="N/A" SuccessCount\
 | fillnull value="N/A" SuccessRate | fillnull value="N/A" ErrorCount | fillnull value="N/A" ErrorRate |dedup  Membership_LOB,SSOPartner,Deeplink,Requestor,\
 ReturnPage | eval SSOName=case(SSOPartner=="sso_SSOPartner_EPMP" AND Requestor=="preferences","Account Preferences EPMP SSO",SSOPartner=="sso_SSOPartner_EPMP"\
 AND Requestor=="contact","Contact Information EPMP SSO",SSOPartner=="sso_SSOPartner_PS" AND Deeplink=="MPA","Drug Pricing RX SSO",\
 SSOPartner=="sso_SSOPartner_PS" AND Deeplink=="RP","Order Prescriptions RX SSO",SSOPartner=="sso_SSOPartner_PS" AND Deeplink=="LP",\
 "Find a Pharmacy RX SSO", SSOPartner=="sso_SSOPartner_PS" AND Deeplink=="PH","Pharmacy Claims RX SSO", SSOPartner=="sso_SSOPartner_PS" AND \
 Deeplink=="MA","Manage Address RX SSO", SSOPartner=="sso_SSOPartner_PS" AND Deeplink=="PDL","Find Coverage Drug RX SSO", SSOPartner=="sso_SSOPartner_PS"\
 AND Deeplink=="OS","Check Order Status RX SSO",SSOPartner=="sso_SSOPartner_PS","Optum RX SSO", SSOPartner=="sso_SSOPartner_Amwell","Amwell SSO", \
 SSOPartner=="sso_SSOPartner_MyUhcVision","Vision SSO", SSOPartner=="sso_SSOPartner_OptumBank_ACCTDETAIL","Optum Bank Account Detail SSO", \
 SSOPartner=="sso_SSOPartner_INSMEMPAY","Instamed Pay Claims SSO", SSOPartner=="sso_SSOPartner_INTERQUAL","InterQual SSO", \
 SSOPartner=="sso_SSOPartner_Augeo","Augeo SSO", SSOPartner=="sso_SSOPartner_BIW","BIW SSO", SSOPartner=="sso_SSOPartner_BIW_HFS","BIW HFS SSO", \
 SSOPartner=="sso_SSOPartner_BIW_HealthRewards","BIW Health Rewards SSO", SSOPartner=="sso_SSOPartner_CirrusMD","Cirrus MD SSO",\
 SSOPartner=="sso_SSOPartner_MyUhcVision_ERS","Vision ERS SSO",SSOPartner=="sso_SSOPartner_OnePass","OnePass SSO",SSOPartner=="sso_SSOPartner_SOLUTRAN",\
 "Solutran SSO",SSOPartner=="sso_SSOPartner_UBH_ELIGDETAIL","UBH ELIG Detail SSO",true(),SSOPartner) | eval DeeplinkORRequestor = if(Deeplink!="NotApplicable",\
 Deeplink,if(Requestor!="NotApplicable",Requestor,if(ReturnPage!="NotApplicable",ReturnPage,"-"))) | rename DeeplinkORRequestor as "Deeplink/Requestor" \
 | fields SSOName SSOPartner "Deeplink/Requestor" TotalCount SuccessCount SuccessRate ErrorCount ErrorRate | sort -TotalCount,SSOPartner,\
 "Deeplink/Requestor"
disabled = 1

[405 errors-production]
action.email = 1
action.email.inline = 1
action.email.priority = 1
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = vinay.digumarthi@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 0
counttype = number of events
cron_schedule = */5 * * * *
dispatch.earliest_time = -5m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","backend_http","backend_url","class","cluster_name","container_id","container_name","env","eventtype","field1","field2","field3","field4","field5","fluentd_pod","index","linecount","namespace","pod","punct","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","field10","field11","field6","field7","field8","field9","severity","field12","field13","field14","field15","field16","field17","field18","field19","field20","field21","field22","field23","field24","field25","field26","field27","field28","field29","field30","field31","field32","field33","field34","field35","field36","field37","field38","field40","field41","field42","field43","field44","field45","field46","HSID","accId","DD_RUM_sessionId","deeplink","fillType","fullyInsured","groupId","href","isUhcPop","locale","ndcList","path","planToken","populationType","referer","rxNumberList","target","uuid","apiPath","referrer","status","Access_Control_Allow_Origin","accountId","businessType","Cache_Control","charset","Connection","Content_Type","CorrelationIdSource","Date","dateOfBirth","expires","firstName","individualId","lastName","max_age","memberId","mnrPlanTypes","SameSite","Set_Cookie","Strict_Transport_Security","Transfer_Encoding","Vary","Via","visid_incap_2463192","visid_incap_676022","X_CDN","X_Iinfo","X_Kong_Proxy_Latency","X_Kong_Upstream_Latency","X_Rally_CorrelationId","zip","ActionName","ActionVersion","app_version","canary_status","coverageTypeCodes","dd_env","dd_service","dd_span_id","dd_trace_id","dd_version","durationMs","ipHash","lineOfBusiness","membershipCategory","method","origin","playRoutePattern","position","processedEndDate","processedStartDate","RallyCaller","responseLength","uri","URI","version","API_Staus","marker.name","message","rallyId","threadId","threadPriority","timeMillis","timestamp","line.status","line.url","nginx.bytes_sent","nginx.host","nginx.method","nginx.path","nginx.proxy_alternative_upstream_name","nginx.proxy_upstream_name","nginx.referrer","nginx.remote","nginx.request_id","nginx.request_length","nginx.request_time","nginx.upstream_addr","nginx.upstream_response_length","nginx.upstream_response_time","nginx.upstream_status","nginx.user","nginx.user_agent","optum_cid_ext","benefitName","city","claimDetailsFrom","claimId","claimKey","claimMatchId","claimStatus","coverageTypeCode","cta","daysSupply","dependentSeqNbr","displayQuantity","drugId","drugName","gpi14","includeGenerics","includeHomeDelivery","isBreakableDrug","isCurrentMed","isSuperUser","itemsPerPage","lastServiceDate","latitude","LOB","longitude","mrcid","nginx.status","pageNumber","populationId","preferredNetwork","productId","productName","quantity","Resp_Time","searchedCommonDosage","searchRadius","serviceDate","sortOrder","standardNetwork","state","type","v","WT_mc_ID","level","lob","lob_env","logger","meta.skylineTokenResponse.correlationId","meta.skylineTokenResponse.data.accessToken","meta.skylineTokenResponse.data.expiresOn","meta.skylineTokenResponse.responseType","aem-mode","cid","code","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","portalIndicator","response_time","ResponseTimeMS","role","TARGET","target_url","timeendpos","timestartpos","uri_path","respTime","instance_id","CacheType","format","frameless","HTTPStatus","isbraingame","ispositivity","isRenew","Method","out","query","querySelected","request","ResponseTime","Status","view","WT_mc_id","zipcode"]
display.events.rowNumbers = 1
display.events.type = raw
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.drilldown = row
display.statistics.overlay = heatmap
display.statistics.percentagesRow = 1
display.statistics.rowNumbers = 1
display.statistics.totalsRow = 1
display.visualizations.charting.chart = bar
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_mnrportals-prod"  host="*" remote=*  status=405 \
| stats  count by remote,proxy_upstream_name, path, status
disabled = 1

[Search CPBP 15 Min-production]
action.email.useNSSubject = 1
alert.track = 0
dispatch.earliest_time = -15m
dispatch.latest_time = now
display.events.fields = ["authenticated_entity.id","service.name","route.paths{}","request.headers.apikey","host","source","container_name","cluster_name"]
display.general.type = statistics
display.page.search.tab = statistics
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 402
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_mnrportals-prod"  loggerName="com.uhg.uhcmr.service.eligibility.HsidEligibilityHelperV3"  \
"message.message"="RTA_V3MNREligibility Signin Flow Start"  \
| dedup message.request.additionalMemberInfo.uuid  \
| rename message.request.additionalMemberInfo.uuid as uuid,\
message.request.additionalMemberInfo.zip as zip  \
| rename message.response.eligibilityData.eligibilityInfo{}.identifiers.planCategory as planCategory\
message.response.eligibilityData.eligibilityInfo{}.identifiers.cms_Contract_Num as contract,\
message.response.eligibilityData.dob as dob,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.pbp_Number as pbp, \
message.response.eligibilityData.eligibilityInfo{}.identifiers.planCategory as planCategory, \
message.response.eligibilityData.eligibilityInfo{}.identifiers.segmentId as segmentId,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.planName as planName,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.planStatus as planStatus,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.employerGroupIndicator as employerGroupIndicator,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.groupNumber as groupNumber,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.mbi as mbi,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.coverageStartDate as coverageStartDate\
| eval hpbp = contract + "-" + pbp + "-" + segmentId\
| eval isHPBP = if(match(hpbp, "H2001-820-000"), "Y", "N")\
| table mbi, uuid, contract, pbp, segmentId, dob, planCategory, planStatus, coverageStartDate, groupNumber, employerGroupIndicator
disabled = 1

[Search CPBP Yesterday-production]
action.email = 1
action.email.to = mike_harwerth@optum.com
action.email.useNSSubject = 1
alert.track = 1
cron_schedule = 0 1 * * *
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.events.fields = ["authenticated_entity.id","service.name","route.paths{}","request.headers.apikey","host","source","container_name","cluster_name"]
display.general.type = statistics
display.page.search.tab = statistics
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 402
display.visualizations.charting.chart = line
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_mnrportals-prod"  \
 loggerName="com.uhg.uhcmr.service.eligibility.HsidEligibilityHelperV3"  "message.message"="RTA_V3MNREligibility Signin Flow Start"  \
| dedup message.request.additionalMemberInfo.uuid  \
| rename message.request.additionalMemberInfo.uuid as uuid,\
message.request.additionalMemberInfo.zip as zip  \
| rename message.response.eligibilityData.eligibilityInfo{}.identifiers.planCategory as planCategory\
message.response.eligibilityData.eligibilityInfo{}.identifiers.cms_Contract_Num as contract,\
message.response.eligibilityData.dob as dob,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.pbp_Number as pbp, \
message.response.eligibilityData.eligibilityInfo{}.identifiers.planCategory as planCategory, \
message.response.eligibilityData.eligibilityInfo{}.identifiers.segmentId as segmentId,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.planName as planName,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.planStatus as planStatus,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.employerGroupIndicator as employerGroupIndicator,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.groupNumber as groupNumber,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.mbi as mbi,\
message.response.eligibilityData.eligibilityInfo{}.identifiers.coverageStartDate as coverageStartDate\
| table mbi, uuid, contract, pbp, segmentId, dob, planCategory, planStatus, coverageStartDate, groupNumber, employerGroupIndicator
disabled = 1

[House call-production]
action.email = 1
action.email.cc = OM_MnR_PortalsInternal_DL@ds.uhc.com
action.email.message.alert = The alert condition for '$House calls$' was triggered.
action.email.priority = 2
action.email.to = UCP_TEAM_THESPRINTERS_DL@ds.uhc.com
action.email.useNSSubject = 1
alert.digest_mode = 0
alert.suppress = 1
alert.suppress.fields = HTTPStatus=>399
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = 0 9 * * 1
dispatch.earliest_time = -1w
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","status","cluster_name","container_name","HTTPStatus","query","index","linecount","splunk_server","tenant"]
display.events.type = table
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 402
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_mnrportals-prod" "*/housecall" sourcetype="kube:container:mnr-apache-ams-poc"
disabled = 1

[MNR Product Summary API Failures-production]
action.email = 1
action.email.cc = vinay.digumarthi@optum.com,OM_MnR_PortalsInternal_DL@ds.uhc.com
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = 3d5f38bd.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
alert_condition = search count > 15
counttype = custom
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","backend_http","backend_url","class","cluster_name","container_id","container_name","env","eventtype","field1","field2","field3","field4","field5","fluentd_pod","index","linecount","namespace","pod","punct","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","field10","field11","field6","field7","field8","field9","severity","field12","field13","field14","field15","field16","field17","field18","field19","field20","field21","field22","field23","field24","field25","field26","field27","field28","field29","field30","field31","field32","field33","field34","field35","field36","field37","field38","field40","field41","field42","field43","field44","field45","field46","HSID","accId","DD_RUM_sessionId","deeplink","fillType","fullyInsured","groupId","href","isUhcPop","locale","ndcList","path","planToken","populationType","referer","rxNumberList","target","uuid","apiPath","referrer","status","Access_Control_Allow_Origin","accountId","businessType","Cache_Control","charset","Connection","Content_Type","CorrelationIdSource","Date","dateOfBirth","expires","firstName","individualId","lastName","max_age","memberId","mnrPlanTypes","SameSite","Set_Cookie","Strict_Transport_Security","Transfer_Encoding","Vary","Via","visid_incap_2463192","visid_incap_676022","X_CDN","X_Iinfo","X_Kong_Proxy_Latency","X_Kong_Upstream_Latency","X_Rally_CorrelationId","zip","ActionName","ActionVersion","app_version","canary_status","coverageTypeCodes","dd_env","dd_service","dd_span_id","dd_trace_id","dd_version","durationMs","ipHash","lineOfBusiness","membershipCategory","method","origin","playRoutePattern","position","processedEndDate","processedStartDate","RallyCaller","responseLength","uri","URI","version","API_Staus","marker.name","message","rallyId","threadId","threadPriority","timeMillis","timestamp","line.status","line.url","nginx.bytes_sent","nginx.host","nginx.method","nginx.path","nginx.proxy_alternative_upstream_name","nginx.proxy_upstream_name","nginx.referrer","nginx.remote","nginx.request_id","nginx.request_length","nginx.request_time","nginx.upstream_addr","nginx.upstream_response_length","nginx.upstream_response_time","nginx.upstream_status","nginx.user","nginx.user_agent","optum_cid_ext","benefitName","city","claimDetailsFrom","claimId","claimKey","claimMatchId","claimStatus","coverageTypeCode","cta","daysSupply","dependentSeqNbr","displayQuantity","drugId","drugName","gpi14","includeGenerics","includeHomeDelivery","isBreakableDrug","isCurrentMed","isSuperUser","itemsPerPage","lastServiceDate","latitude","LOB","longitude","mrcid","nginx.status","pageNumber","populationId","preferredNetwork","productId","productName","quantity","Resp_Time","searchedCommonDosage","searchRadius","serviceDate","sortOrder","standardNetwork","state","type","v","WT_mc_ID","level","lob","lob_env","logger","meta.skylineTokenResponse.correlationId","meta.skylineTokenResponse.data.accessToken","meta.skylineTokenResponse.data.expiresOn","meta.skylineTokenResponse.responseType","aem-mode","cid","code","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","portalIndicator","response_time","ResponseTimeMS","role","TARGET","target_url","timeendpos","timestartpos","uri_path","respTime","instance_id","CacheType","format","frameless","HTTPStatus","isbraingame","ispositivity","isRenew","Method","out","query","querySelected","request","ResponseTime","Status","view","WT_mc_id","zipcode","authorizedAmt","contextMap.dd.env","contextMap.dd.service","contextMap.dd.span_id","contextMap.dd.trace_id","contextMap.dd.version","endOfBatch","loggerFqcn","loggerName","errorUID"]
display.events.rowNumbers = 1
display.events.type = raw
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.statistics.drilldown = row
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 402
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_ceapi-prod"  MNRProductSummaryServiceError | stats count
disabled = 1

[Heimdall TimeOuts Observed in Prod.-production]
action.email = 1
action.email.include.search = 1
action.email.message.alert = Heimdall is Token Validation Service used by external service. Members may be impacted if this outage lasts for long. Reach out to IRT or core team for investigation.
action.email.priority = 2
action.email.subject.alert = Splunk Alert: Heimdall Timeouts observed in last 30 mins.
action.email.to = 1f0fb8af.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -120m@m
dispatch.latest_time = -90m@m
display.page.search.mode = verbose
enableSched = 1
quantity = 50
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_health-prod" OR index="aws_ceuhc-eks_survey-prod"  OR index="aws_ceuhc-eks_advantage-prod"  OR index="aws_ceuhc-eks_sharkfacts-prod"  \
 "ERROR c.r.s.v.c.RetryPolicyBuilder: Heimdall-introspect-client retry interceptor, all retry attempts exhausted." earliest = -120m@m latest = -90m@m
disabled = 1
