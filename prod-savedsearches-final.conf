[AuthN Errors-production]
action.email.reportServerEnabled = 0
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
description = Grouping of errors coming out of Accounts on 7/5
dispatch.earliest_time = 1467726246
dispatch.latest_time = 1467727026
display.events.fields = ["host","source","sourcetype","date_year","date_month","date_mday","date_hour","date_minute","date_second","template"]
display.general.timeRangePicker.show = 0
display.page.search.mode = verbose
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 280
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_accounts-prod" OR index="aws_ceuhc-eks_advantage-prod" OR index="aws_ceuhc-eks_ceapi-prod" OR index="aws_ceuhc-eks_ceapi-uat" OR \
index="aws_ceuhc-eks_connect-prod" OR index="aws_ceuhc-eks_mnrportals-prod" OR index="aws_ceuhc-eks_rewards-prod" OR index="aws_ceuhc-eks_rx-prod") CASE(ERROR) AND ("c.r.z.client.AuthNUserClientImpl" OR "sso" OR "accounts.werally.com")

[Eligibility Second Refresh Count-production]
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app","class","product","env","X_Rally_CorrelationId"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.events.type = raw
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.drilldown = row
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_health-prod" OR index="aws_ceuhc-eks_rewards-prod") deployment.environment=k8s-prod \
*mpe-web* *FieldMapping: Eligibility attributes found is stale and refreshEligibilityFromSource enabled.* \
| rex field=_raw "\/rallyId\/(?<RallyId>.*)\/ttlFieldmappings" \
| eval date=strftime(_time,"%d/%m/%y") \
| stats count(RallyId) by date

[CatBus RabbitMQ Errors-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = Name: $name$\
Description: $description$\
Severity: $alert.severity$
action.email.reportServerEnabled = 0
action.email.sendresults = 1
action.email.subject.alert = PROD Splunk Info: $name$
action.email.to = livesite-info@rallyhealth.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
description = RabbitMQ is critical infrastructure for all services, so this is extra eyes on RabbitMQ
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","FIELDNAME"]
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_health-prod" CASE(ERROR) ("RabbitMQConnectionHolder" OR "RabbitMQChannelProvider") NOT source=fired_alerts

[Optum IHR No Data Found-production]
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
dispatch.earliest_time = 1555372800
dispatch.latest_time = 1555459200
display.page.search.mode = fast
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_data-prod" OR index="aws_ceuhc-eks_data-uat") \
*IhrReadServiceImpl: Centri_API_* OR deployment.environment="k8s-uat"  product=ihr | eval status=if(isnull(status),"200",status) | search status=404

[Geoferret RTT-production]
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
dispatch.earliest_time = -30d@d
dispatch.latest_time = now
dispatchAs = user
display.events.fields = ["host","source","sourcetype","date_year","date_month","date_mday","date_hour","date_minute","date_second","template"]
display.general.type = visualizations
display.page.search.mode = fast
display.page.search.tab = visualizations
display.statistics.rowNumbers = 1
display.statistics.show = 0
display.visualizations.chartHeight = 280
display.visualizations.charting.axisTitleY.text = gym fetch by coordinates RTT
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" (sourcetype="kube:container:incentives-risc-geoferret-web" OR sourcetype="kube:container:vault-authenticator") "uri=/rest/geolocation/gyms/near/coordinates/get" | timechart span=6h avg(durationMs) as avgRsp by uri | outlier action=tf

[Partner Confirmation Code Requests-production]
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
description = Partner Confirmation Code Requests - Ultimate successes and failures, including after retries
dispatch.earliest_time = 1578088800
dispatch.latest_time = 1578175684
display.events.fields = ["host","source","sourcetype","class"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_connect-prod" OR index="aws_ceuhc-eks_rewards-prod" ) "*OneLineLoggingInterceptor*" \
 | table X_Rally_CorrelationId, status \
 | join type=inner X_Rally_CorrelationId [search ((index="aws_ceuhc-eks_connect-prod" OR index="aws_ceuhc-eks_rewards-prod" ) "Attempting partner confirmation code request") | fields X_Rally_CorrelationId ] \
 | table X_Rally_CorrelationId, status | stats count by status | sort by count desc | rename status as "Eventual Status" | rename count as "Number of Initial Requests"

[Partner Confirmation Code Requests Final Retries-production]
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
description = Requests to the partner confirmation code API that have reached their final retry. This shows the http status of that final retry.
dispatch.earliest_time = 1578088800
dispatch.latest_time = 1578183566
display.events.fields = ["host","source","sourcetype","class"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_connect-prod" OR index="aws_ceuhc-eks_rewards-prod") "*OneLineLoggingInterceptor*" \
 | table X_Rally_CorrelationId, status \
 | join type=inner X_Rally_CorrelationId [search ((index="aws_ceuhc-eks_connect-prod" OR index="aws_ceuhc-eks_rewards-prod") *attemptsLeft=1*) | fields X_Rally_CorrelationId ] \
 | table X_Rally_CorrelationId, status | stats count by status | sort by count desc | rename status as "Eventual Status" | rename count as "Number of Initial Requests"

[Partner Confirmation Code Requests First Retries-production]
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
description = Requests to the partner confirmation code API that have reached their first retry. This shows the http status of the ultimate success or failure of the final retry.
dispatch.earliest_time = 1578088800
dispatch.latest_time = 1578183566
display.events.fields = ["host","source","sourcetype","class"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_connect-prod" OR index="aws_ceuhc-eks_rewards-prod") "*OneLineLoggingInterceptor*" \
  | table X_Rally_CorrelationId, status \
 | join type=inner X_Rally_CorrelationId [search ((index="aws_ceuhc-eks_connect-prod" OR index="aws_ceuhc-eks_rewards-prod") *attemptsLeft=2*) | fields X_Rally_CorrelationId ] \
 | table X_Rally_CorrelationId, status | stats count by status | sort by count desc | rename status as "Eventual Status" | rename count as "Number of Initial Requests"

[Campaign Errors in the last 24 hours Clone-production]
alert.track = 0 
disabled = 1
description = burgers errors (campaign + nuggets)
dispatch.earliest_time = -1d
display.visualizations.show = 0
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_campaigns-prod" OR index="aws_ceuhc-eks_campaigns-uat") error OR failed OR severe OR (sourcetype="kube:container:access" ( 404 OR 500 OR 503 ) ) AND sourcetype="kube:container:campaign-web" OR sourcetype="kube:container:engage-nuggets"

[App failed to start on production-production]
action.email = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = livesite@rallyhealth.com
action.email.useNSSubject = 1
action.hipchat = 1
action.hipchat.param.message_format = html
action.hipchat.param.notify = 0
action.hipchat.param.room = Dev Monkeys
alert.suppress = 1
alert.suppress.period = 30m
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */5 * * * *
description = At least one application on production failed to start ("Oops, cannot start the server"). If you see this alert, then search the logs for the exception that caused the application to fail to start.
dispatch.earliest_time = -5m
dispatch.latest_time = -0m
display.events.fields = ["host","source","sourcetype","class"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_connect-prod" OR index="aws_ceuhc-eks_navigation-prod" OR index="aws_ceuhc-eks_pzn-prod") "Oops, cannot start the server" | stats count by product, app | sort by count desc

[Rx Prod: OutOfMemoryError-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.message.alert = '$name$' was triggered on production.
action.email.to = rx-alert@audaxhealth.pagerduty.com, rx-dev@rallyhealth.com
action.email.useNSSubject = 1
action.hipchat = 0
action.hipchat.param.color = red
action.hipchat.param.message = Production Rx alert!
action.hipchat.param.message_format = plain
action.hipchat.param.notify = 1
action.hipchat.param.room = Rx Release
action.slack = 1
action.slack.param.channel = #rx-alert
action.slack.param.message = *Alert*: Rx Prod: `OutOfMemoryError`\
*Severity*: [$alert.severity$]\
\
```\
$search$\
```\
\
$view_link$
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.severity = 5
alert.suppress = 1
alert.suppress.period = 15m
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
description = An Rx service on mesos-prod has thrown an OutOfMemoryError. This is bad and should be addressed immediately. Runbook here: https://wiki.audaxhealth.com/display/RX/Rx+Alert%3A+OutOfMemoryError
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","from","status","X_Rally_CorrelationId","uri","app","theProblem","user","db","class","clientProdCode","playRoutePattern","playRouteAction"]
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod" java.lang.OutOfMemoryError

[Rx Prod: PRODFAIL-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.message.alert = '$name$' was triggered on production.
action.email.to = rx-alert@audaxhealth.pagerduty.com,rx-dev@rallyhealth.com
action.email.useNSSubject = 1
action.hipchat = 0
action.hipchat.param.color = red
action.hipchat.param.message = ðŸš¨ Production Rx alert! ðŸš¨
action.hipchat.param.message_format = plain
action.hipchat.param.notify = 1
action.hipchat.param.room = Rx Release
action.slack = 1
action.slack.param.channel = #rx-alert
action.slack.param.message = *Alert*: Rx Prod: `PRODFAIL`\
*Severity*: [$alert.severity$]\
\
```\
$search$\
```\
\
$view_link$
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.severity = 5
alert.suppress = 1
alert.suppress.period = 15m
alert.track = 1
counttype = number of events
cron_schedule = 0 * * * *
description = Code made it to prod that thinks it should never be run in prod. Runbook here: https://wiki.audaxhealth.com/display/RX/Rx+Alert%3A+PRODFAIL
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","from","status","X_Rally_CorrelationId","uri","app","theProblem","user","db","class","clientProdCode","playRoutePattern","playRouteAction"]
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod"  PRODFAIL

[Dashboard Tools Updated Today in Prod-production]
action.email = 1
action.email.format = raw
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = cindy.schaller@rallyhealth.com
action.email.useNSSubject = 1
action.slack = 0
action.slack.param.attachment = message
action.slack.param.channel = #force
action.slack.param.fields = targetId,changeTo,adminEmail,source*
action.slack.param.message = Dashboard Tools have been updated in Prod.
action.slack.param.webhook_url_override = https://hooks.slack.com/services/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
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 0 * * *
dispatch.earliest_time = -1d
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_force-prod"  deployment.environment=k8s-prod  action=editDock service=base targetType=Dock tool=DashboardTool environment=prod

[Bartleby prod db connection errors-production]
action.email = 1
action.email.message.alert = The alert condition for '$name$' was triggered. If this happens, see if other apps are having trouble connecting to the engage prod rds instance as well, and if so, try restarting them all.
action.email.to = yolo-acl@rallyhealth.com
action.email.useNSSubject = 1
action.slack = 0
action.slack.param.channel = #trolling-stones
action.slack.param.message = Bartleby is having trouble connecting to the database on production
alert.severity = 5
alert.suppress = 1
alert.suppress.period = 60m
alert.track = 1
counttype = number of events
cron_schedule = */5 * * * *
description = Bartleby is having trouble connecting to the database on production
dispatch.earliest_time = -5m
dispatch.latest_time = -0m
display.events.fields = ["host","source","sourcetype","class"]
display.page.search.mode = fast
display.visualizations.charting.chart = line
enableSched = 1
quantity = 3
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" error "java.sql.SQLTransientConnectionException"

[Consumer Security - Call Center Audit-production]
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
cron_schedule = 0 3 * * 1
description = Stop gap for gift card fraud.
dispatch.earliest_time = -7d@h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app","method","uri","categories","id","path","product","activityIds","userId","playRoutePattern","playRouteAction","response_type","pod","from","index"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = bar
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = 240
search = index="aws_ceuhc-eks_force-prod"  (starlog *GeneratePassword*) OR (starlog *ChangeEmailAddress*)  | stats count by adminId, adminEmail, action | sort count desc

[VolumeBasedAlerts_MyUHC2.5_VBF-10 EOBs and Set Mailing Preferences-AbilityToAccessMemberEOBs-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.subject.alert = $name$
action.email.to = a424448d.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.msg.apiUrl","respDetails.msg.apiUrl"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=claims respDetails.msg.msg.apiUrl="*/uhcd-documents/v4.6/claimdocuments*_eob" earliest=-1h@h latest=@h \
| stats count as CurrWeekCount \
| appendcols \
[search index="aws_ceuhc-eks_uhcportals-prod" sourcetype=kube:container:myuhc-logger respDetails.microApp=claims respDetails.msg.msg.apiUrl="*/uhcd-documents/v4.6/claimdocuments*_eob" earliest=-1h@h-1w latest=@h-1w \
| stats count as LastWeekCount ] \
| eval Percentage=if (LastWeekCount == 0, if(CurrWeekCount == 0, 0, 100), ((CurrWeekCount - LastWeekCount)/LastWeekCount)*100) | where abs(Percentage) > 24

[Geoferret response times by duration.-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.alert = Daily report of risc-geoferret endpoint response times.
action.email.sendresults = 1
action.email.subject.alert = Geoferret response times by endpoint.
action.email.to = prithu.j.nair@rallyhealth.com,christopher.vale@rallyhealth.com,fumito.kayama@rallyhealth.com,nick.sovich@rallyhealth.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 10 * * *
description = Daily report of risc-geoferret endpoint response times by endpoint.
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","class"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" sourcetype="kube:container:incentives-risc-geoferret-web" "*OneLineLoggingInterceptor*" | stats avg(durationMs), p95(durationMs), max(durationMs) by playRoutePattern | sort by p95(durationMs) desc

[Geoferret non-200 status codes-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.alert = Daily report of non-200 http status codes returned by risc-geoferret in the past 24 hours.
action.email.sendresults = 1
action.email.subject.alert = Geoferret non-200 status codes in the past 24 hours
action.email.to = prithu.j.nair@rallyhealth.com,christopher.vale@rallyhealth.com,fumito.kayama@rallyhealth.com,nick.sovich@rallyhealth.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 9 * * *
description = Daily report of non-200 http status codes returned by risc-geoferret in the past 24 hours.
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","class"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" sourcetype="kube:container:incentives-risc-geoferret-web" "*OneLineLoggingInterceptor*" | search status != 200 | stats count by playRoutePattern, status | sort by count desc

[Geoferret Errors By Class-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = Below is a report of the error logs from geoferret by class in the past 24 hours.
action.email.sendresults = 1
action.email.subject.alert = Geoferret Errors By Class
action.email.to = prithu.j.nair@rallyhealth.com,fumito.kayama@rallyhealth.com,nick.sovich@rallyhealth.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 9 * * *
description = Below is a report of the error logs from geoferret by class in the past 24 hours.
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","class"]
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" sourcetype="kube:container:incentives-risc-geoferret-web" CASE(ERROR) | stats count AS errCount by product, app, class | eventstats sum(errCount) AS total | eval percent = round(errCount / total * 100, 2) | where percent > 1 | sort by percent desc

[EmployerRewards Error spike on Prod-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.message.alert = The alert condition for 'EmployerRewards Error spike on Prod' was triggered.
action.email.subject.alert = Splunk Alert: EmployerRewards Error spike on Prod
action.email.to = vipul.chawla@rallyhealth.com, nick.sovich@rallyhealth.com, smita.doshi@rallyhealth.com, kumar.sumit@rallyhealth.com,astha.sharma@rallyhealth.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","mesos_app","mesos_env","rewardAction","rewardType","role","serviceName","userId","username","index","linecount","splunk_server"]
enableSched = 1
quantity = 100
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod"  error

[EmployerRewards Error spike on BlueSteel-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.message.alert = The alert condition for 'Employer rewards Error Spike on Bluesteel' was triggered.
action.email.subject.alert = Splunk Alert: Employer rewards Error Spike on Bluesteel
action.email.to = vipul.chawla@rallyhealth.com, nick.sovich@rallyhealth.com, smita.doshi@rallyhealth.com,prithu.j.nair@rallyhealth.com
action.email.useNSSubject = 1
alert.digest_mode = True
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","mesos_app","mesos_env","rewardAction","rewardType","role","serviceName","userId","username","index","linecount","splunk_server"]
enableSched = 1
quantity = 100
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-uat"  error

[SSO Metrics-production]
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
dispatch.earliest_time = -1mon@mon
dispatch.latest_time = now
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_connect-prod" OR index="aws_ceuhc-eks_connect-uat")   sourcetype="kube:container:connect-user-web" "c.r.c.u.s.s.SsoDataDiscoverer" \
 | replace CsaSlim with CsaArcade in shape | stats count by shape, fields

[PROD Activity API Eligibility Error Alert k8s-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = tyche-engineers@rallyhealth.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" sourcetype="kube:container:activity-api-web" deployment.environment="k8s-prod" \
"*Saving eligibility error*" \
| stats count by status

[Error Page Metrics Full Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com, leticia.castellanos@uhc.com, katie.weierke@uhc.com,john.evans@uhc.com,aisha_saleem@uhc.com
action.email.useNSSubject = 1
alert.track = 1 
disabled = 1
cron_schedule = 59 23 * * *
description = Error Page Metrics Full Report
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=payment uiErrorPage respDetails.msg.error!="Error in the end else block" | stats count by respDetails.paymentFlow respDetails.msg.uiErrorPage

[Multiple ACH Payments Full Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com
action.email.useNSSubject = 1
alert.track = 1 
disabled = 1
cron_schedule = 59 23 * * *
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search =  index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=payment respDetails.paymentFlow=* respDetails.msg.function=* | spath respDetails.msg.memberId | search respDetails.msg.memberId=* | spath respDetails.msg.apiUrl | search respDetails.msg.apiUrl="https://payment.member.myuhc.com/fin/billing/payments/v/api/fin/billing/payments/v1" | spath respDetails.msg.paymentEvent.PAYMENT_METHOD | search respDetails.msg.paymentEvent.PAYMENT_METHOD!=Bank Account Verification | stats count by respDetails.msg.memberId  respDetails.msg.paymentEvent.AMOUNT respDetails.paymentFlow | where count>1

[Multiple CC Payments Full Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com
action.email.useNSSubject = 1
alert.track = 1 
disabled = 1
cron_schedule = 59 23 * * *
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=payment respDetails.paymentFlow=* respDetails.msg.function=*confirmation | spath respDetails.msg.paymentMethod | search respDetails.msg.paymentMethod=CC| rex field=_raw "originalAmount=(?P<Amount>)\&providerResponseCode"| search respDetails.msg.props.amount=* | dedup respDetails.msg.transactionId | stats count by respDetails.msg.memberId respDetails.msg.props.amount respDetails.paymentFlow | where count > 1

[Future Publish Failure in Prod-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = A Future Publish failure occurred in Prod.\
\
See https://wiki.audaxhealth.com/display/ENG/Force+Dev+On+Call+-+troubleshooting+apps#ForceDevOnCalltroubleshootingapps-aion\
\
If you respond to this before the start of the next hour, retrigger the aion cronjob via lens or via kubectl to retry the futurePublish:\
\
```\
rally-kubectl -e force-rally-prod -t force-prod-1\
kubectl -nengine create job --from=cronjob/engine-aion "engine-aion-$(date +%s)"\
```
action.email.priority = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = force-engineers@rallyhealth.com,forceengineers@uhgazure.onmicrosoft.com
action.email.useNSSubject = 1
action.pagerduty = 0
action.pagerduty.param.integration_url_override = https://events.pagerduty.com/integration/6b55980acef143d7b081cc36428f96eb/enqueue
alert.digest_mode = 0
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 30 * * * *
dispatch.earliest_time = -30m
dispatch.latest_time = now
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_force-prod" sourcetype="kube:container:engine-aion" deployment.environment=k8s-prod namespace="*engine*"

[myUHC 2.5 - CNS Health & Wellness GraphQL & Servlets call alerts-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = dab8137e.uhgazure.onmicrosoft.com@amer.teams.ms, rcendana@optum.com, abhishek_pandey@optum.com,rajesh_suvvari@optum.com, kandula_ravikumargupta@optum.com, anurag_khadatkar@optum.com, kandali.reddy@optum.com, aurelio_rama@optum.com, radhika_kotturi@optum.com
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=*wellness* respDetails.msg.LOB="C&S" \
| rename respDetails.msg.function as API, respDetails.msg.status as ResponseCode \
| stats count(eval(ResponseCode="success")) as SuccessCount count as TotalCount by API \
| eval ErrorCount = TotalCount-SuccessCount \
| eval ErrorRate = round(ErrorCount/TotalCount*100,2) \
| eval SuccessRate = round(SuccessCount/TotalCount*100,2) \
| fields API TotalCount SuccessCount SuccessRate ErrorCount ErrorRate \
| where ErrorRate > 5

[myUHC 2.5 - CNS Doc Center API alerts-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = dab8137e.uhgazure.onmicrosoft.com@amer.teams.ms, rcendana@optum.com, abhishek_pandey@optum.com,rajesh_suvvari@optum.com, kandula_ravikumargupta@optum.com, anurag_khadatkar@optum.com, kandali.reddy@optum.com, aurelio_rama@optum.com, radhika_kotturi@optum.com
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = DOC 360 API Failure alerts for C&S doc center
dispatch.earliest_time = -15m
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search =  index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" \
UseDocCenterServicePost respDetails.microApp=claims NOT respDetails.msg.apiDetails{}.operation=* \
| rename respDetails.apiUrl  as  API, respDetails.responseCode as ResponseCode \
| eval TEMP= mvzip(API,ResponseCode) \
| stats count by _time TEMP \
| eval API = mvindex(split(TEMP,","),0), ResponseCode=mvindex(split(TEMP,","),1) \
| fields API ResponseCode \
| where ResponseCode!=431 \
| stats count(eval(ResponseCode<400 AND ResponseCode>=0)) as SuccessCount count as TotalCount by API \
| eval ErrorCount = TotalCount-SuccessCount \
| eval ErrorRate = round(ErrorCount/TotalCount*100,2) \
| eval SuccessRate = round(SuccessCount/TotalCount*100,2) \
| fields API TotalCount SuccessCount SuccessRate ErrorCount ErrorRate \
| where ErrorRate>5 AND ErrorCount>3

[myUHC 2.5 - CNS Health & Welleness OBAPI  alerts-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = dab8137e.uhgazure.onmicrosoft.com@amer.teams.ms, rcendana@optum.com, abhishek_pandey@optum.com,rajesh_suvvari@optum.com, kandula_ravikumargupta@optum.com, anurag_khadatkar@optum.com, kandali.reddy@optum.com, aurelio_rama@optum.com, radhika_kotturi@optum.com
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=*wellness* respDetails.msg.apiDetails{}.LOB="C&S" \
| rename respDetails.msg.apiDetails{}.apiUrl as API, respDetails.msg.apiDetails{}.responseCode as ResponseCode \
| eval TEMP= mvzip(API,ResponseCode) \
| stats count by _time TEMP \
| eval API = mvindex(split(TEMP,","),0), ResponseCode=mvindex(split(TEMP,","),1) \
| fields API ResponseCode \
| where ResponseCode!=431 \
| stats count(eval(ResponseCode<400 AND ResponseCode>=0)) as SuccessCount count as TotalCount by API \
| eval ErrorCount = TotalCount-SuccessCount \
| eval ErrorRate = round(ErrorCount/TotalCount*100,2) \
| eval SuccessRate = round(SuccessCount/TotalCount*100,2) \
| fields API TotalCount SuccessCount SuccessRate ErrorCount ErrorRate \
| where ErrorRate > 5

[Transformation S3 Connection Reset-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = find-care-engineering@uhgazure.onmicrosoft.com,price-care-eng@uhgazure.onmicrosoft.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = */15 * * * *
description = https://wiki.audaxhealth.com/display/ENG/Transformations+Alert+Runbook
dispatch.earliest_time = -15m
enableSched = 1
quantity = 0
relation = greater than
search = (index="aws_ceuhc-eks_mnrportals-prod" OR index="aws_ceuhc-eks_mnrportals-uat" OR index="aws_ceuhc-eks_rewards-prod") "java.net.SocketException: Connection reset" class="c.r.c.t.a.TransformationApp$" | stats count by app

[Outbound SSO Failure Alert-production]
action.email = 1
action.email.cc = vinay.digumarthi@optum.com
action.email.inline = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = UCP_Challengers@ds.uhc.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","backend_http","backend_url","class","cluster_name","container_id","container_name","env","eventtype","field1","field2","field3","field4","field5","fluentd_pod","index","linecount","namespace","pod","punct","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","field10","field11","field6","field7","field8","field9","severity","field12","field13","field14","field15","field16","field17","field18","field19","field20","field21","field22","field23","field24","field25","field26","field27","field28","field29","field30","field31","field32","field33","field34","field35","field36","field37","field38","field40","field41","field42","field43","field44","field45","field46","HSID","accId","DD_RUM_sessionId","deeplink","fillType","fullyInsured","groupId","href","isUhcPop","locale","ndcList","path","planToken","populationType","referer","rxNumberList","target","uuid","apiPath","referrer","status","Access_Control_Allow_Origin","accountId","businessType","Cache_Control","charset","Connection","Content_Type","CorrelationIdSource","Date","dateOfBirth","expires","firstName","individualId","lastName","max_age","memberId","mnrPlanTypes","SameSite","Set_Cookie","Strict_Transport_Security","Transfer_Encoding","Vary","Via","visid_incap_2463192","visid_incap_676022","X_CDN","X_Iinfo","X_Kong_Proxy_Latency","X_Kong_Upstream_Latency","X_Rally_CorrelationId","zip"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 1
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_campaigns-prod" OR index="aws_ceuhc-eks_mnrportals-prod" OR index="aws_ceuhc-eks_navigation-prod" OR index="aws_ceuhc-eks_pass-prod") \
 member.uhc.com "/medicare/sso/outbound?outboundTo=*" NOT outboundTo="solutran/favicon.ico" NOT outboundTo="firstline" \
 | stats  count as Request_count_total, count(eval('status'<400)) as Request_count_success, count(eval('status'>=400)) as Failed_request_count,avg(ResponseTimeMS) as avgResponseTime by outboundTo | eval Success_Percentage = round((Request_count_success/Request_count_total)*100,2)  | eval  Failure_Percentage = round((Failed_request_count/Request_count_total)*100,2) | fields outboundTo, Request_count_total, Request_count_success, Failed_request_count, avgResponseTime, Success_Percentage, Failure_Percentage | where Failure_Percentage > 1

[[Biometrics] Older Domain Alert Report-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.subject.alert = [Biometrics] Older Domain Alert Report
action.email.to = mrugen.deshmukh@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 16 * * *
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","severity"]
display.page.search.mode = verbose
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search =  index="aws_ceuhc-eks_survey-prod"  sourcetype="kube:container:ops-k8s-ingress-external" "biometrics.werally.com"

[[Production Alert] Survey Web: Question Definition Failed To Parse-production]
action.email.useNSSubject = 1
action.pagerduty = 1
action.pagerduty.param.integration_url_override = https://events.pagerduty.com/integration/4c077073adb04a24ad68f4fdfdbe2809/enqueue
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 * * * *
description = Question Definition failed to Parse check the SurveyQuestionDefinitionCollection method. Look for questionId in the log that failed to parse. This indicates a question was present in surveyQuestionDefinition collection which does not meet the questionDefinition model.
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","severity"]
display.page.search.mode = verbose
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_survey-prod" sourcetype="kube:container:survey-web" "Failed to parse questionId"

[Survey Reset Available, but User => Survey cannot be Mapped.-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.message.alert = Check MPE integration. Calls from survey-web to MPE member data API may have been affected. Reach out to Dev on call channel or core team to understand ongoing issue if any.
action.email.priority = 2
action.email.to = 1f0fb8af.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 * * * *
description = Raised when SurveyReset is determined to be available but MappingService cannot Map to Correct Survey most likely due to MPE not providing client/partner information for the user.
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","severity"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 10
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_survey-prod"  sourcetype="kube:container:survey-web" "Error in starting new survey for SurveyReset: SurveyMappingService likely returned None for userId" \
| timechart span=1d count

[MYUHC 2.0 CNS Overall API ErrorRate New-production]
action.email = 1
action.email.cc = sourav_402@optum.com
action.email.include.trigger = 1
action.email.inline = 1
action.email.message.alert = The alert condition for 'MYUHC 2.0 CNS Overall API ErrorRate' was triggered.
action.email.sendresults = 1
action.email.subject.alert = MYUHC 2.0 CNS Overall API ErrorRate
action.email.to = dab8137e.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */5 * * * *
dispatch.earliest_time = -5m@m
dispatch.latest_time = @m
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-rest-api" message.className="com.uhg.myuhc.controller.OBAPIController" \
| spath message.lob \
| search message.lob=CNS \
| rename message.targetUrl as API, message.status as STATUS \
| eval TEMP= mvzip(API,STATUS) \
| stats count by _time TEMP \
| eval API = mvindex(split(TEMP,","),0), STATUS=mvindex(split(TEMP,","),1) \
| fields API STATUS \
| stats count(eval(STATUS<400 AND STATUS>=0)) as SuccessCount count as TotalCount by API \
| eval ErrorCount = TotalCount-SuccessCount \
| eval ErrorRate = round(ErrorCount/TotalCount*100,2) \
| where ErrorRate>5

[Burgers Prod Services - Daily Error Summary Engine Apps-production]
action.email = 1
action.email.inline = 1
action.email.message.alert = This report is run daily and highlights the top errors in Burger land. If you're on call, please evaluate this list to ensure a ticket exists to fix each one. If something serious is happening, address it immediately.
action.email.priority = 2
action.email.sendresults = 1
action.email.subject.alert = Burgers daily error summary
action.email.to = 1dbeedfd.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.webhook = 1
action.webhook.param.url = https://teams.microsoft.com/l/channel/19%3a23c66b7e6f864deea3e495b1b54d2ecc%40thread.tacv2/Offers%2520-%2520DataDog%2520Alerts?groupId=e1f42507-a6ae-4cb7-b214-869ba65c4ecb&tenantId=db05faca-c82a-4b9d-b9c5-0f64b6755421
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 11 * * *
description = engine-campaignmanager, engine-tagmanager, engine-placementmanager
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = bar
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_campaigns-prod" sourcetype="kube:container:engine-campaignmanager" OR sourcetype="kube:container:engine-placementmanager" OR sourcetype="kube:container:engine-tagmanager" \
| rex field=_raw "^[^\]\n]*\]\s+(?P<severity>\w+)" \
| rex field=_raw "^(?:[^ \n]* ){4}(?P<class>[^:]+)" \
| search severity=ERROR \
| eval shortMsg=substr(_raw, 1, 750) \
| stats first(shortMsg) as example, count AS errCount by k8s.container.name, class \
| eventstats sum(errCount) AS total \
| eval percent = round(errCount / total * 100, 2) \
| sort by percent desc

[Burgers Prod Services - Daily Error Summary Report-production]
action.email = 1
action.email.inline = 1
action.email.message.alert = This report is run daily and highlights the top errors in Burger land. If you're on call, please evaluate this list to ensure a ticket exists to fix each one. If something serious is happening, address it immediately.
action.email.priority = 2
action.email.sendresults = 1
action.email.subject.alert = Burgers - Daily error summary
action.email.to = 1dbeedfd.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.slack = 0
action.slack.param.attachment = message
action.slack.param.channel = #burger-engineering-notifications
action.slack.param.message = Hey, checkout the daily error log for Burgers services!
action.webhook = 1
action.webhook.param.url = https://teams.microsoft.com/l/channel/19%3a23c66b7e6f864deea3e495b1b54d2ecc%40thread.tacv2/Offers%2520-%2520DataDog%2520Alerts?groupId=e1f42507-a6ae-4cb7-b214-869ba65c4ecb&tenantId=db05faca-c82a-4b9d-b9c5-0f64b6755421
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 0 * * *
description = taco, campaign, nuggets and noodles
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = bar
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_campaigns-prod" sourcetype="kube:container:*campaign*" OR sourcetype="kube:container:*nuggets*" OR sourcetype="kube:container:*noodles*" \
| rex field=_raw "^(?:[^ \n]* ){2}(?P<severity>\w+)" \
| rex field=_raw "^(?:[^ \n]* ){4}(?P<class>[^:]+)" \
| search severity=ERROR \
| eval shortMsg=substr(_raw, 1, 750) \
| stats first(shortMsg) as example, count AS errCount by k8s.container.name, class \
| eventstats sum(errCount) AS total \
| eval percent = round(errCount / total * 100, 2) \
| sort by percent desc

[FuzzleV2 could not connect to RMQ-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = c73aaa7e.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.hipchat = 1
action.hipchat.param.color = red
action.hipchat.param.message = FuzzleV2 could not connect to RMQ. Please investigate RMQ status.
action.hipchat.param.message_format = plain
action.hipchat.param.notify = 0
action.hipchat.param.room = CORE: HALP
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","app","class","product","env","X_Rally_CorrelationId"]
display.events.list.wrap = 0
display.events.maxLines = 0
display.events.table.wrap = 0
display.events.type = raw
display.page.search.mode = verbose
display.statistics.drilldown = row
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_data-prod"  OR index="aws_ceuhc-eks_data-uat") (sourcetype="kube:container:core-fuzzlev2" OR sourcetype="kube:container:core-fuzzlev2-orchestrator" OR sourcetype="kube:container:vault-authenticator")   "RabbitMQ Connection: Failed to connect"

[Prod Rewards Pythia Integration Error Alert-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.to = 1dbeedfd.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.webhook = 1
action.webhook.param.url = https://teams.microsoft.com/l/channel/19%3a23c66b7e6f864deea3e495b1b54d2ecc%40thread.tacv2/Offers%2520-%2520DataDog%2520Alerts?groupId=e1f42507-a6ae-4cb7-b214-869ba65c4ecb&tenantId=db05faca-c82a-4b9d-b9c5-0f64b6755421
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 45 * * * *
description = prod + bs rewards-pythia integration errors
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.visualizations.charting.chart = line
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_rewards-prod") "*Error while communicating with pythia*" OR "*com.rallyhealth.reward.services.pythia*"

[UHC Rewards Daily Registrations-production]
action.email.useNSSubject = 1
alert.track = 0
disabled = 1
dispatch.earliest_time = -1w@w
dispatch.latest_time = now
display.general.type = statistics
display.page.search.tab = statistics
display.statistics.show = 0
display.visualizations.charting.chart = line
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = sourcetype="kube:container:rewards-programoverview"  method=POST "playRoutePattern=/rewards/v1/programOverview/userId/:userId/content/interaction" index="aws_ceuhc-eks_rewards-prod" \
| replace "*-risc_edge" with "web" IN X_Rally_CorrelationId | replace "*mobile_edge" with "mobile" IN X_Rally_CorrelationId | rename X_Rally_CorrelationId as "source" | rex field=uri "\/rewards\/v1\/programOverview\/userId\/(?<RallyId>.*)\/content\/interaction" | table _time, RallyId, source

[MYUHC 2.0 ENI Overall API ErrorRate New-production]
action.email = 1
action.email.cc = 09db9e4e.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = The alert condition for 'MYUHC 2.0 ENI Overall API ErrorRate New' was triggered.
action.email.sendresults = 1
action.email.subject.alert = Splunk Alert: $MYUHC 2.0 ENI Overall API ErrorRate New$
action.email.to = sourav_402@optum.com, yenuganti_ashok@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */5 * * * *
description = MYUHC 2.0 ENI Overall API ErrorRate New
dispatch.earliest_time = -5m@m
dispatch.latest_time = @m
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-rest-api" message.className="com.uhg.myuhc.controller.OBAPIController" \
| spath message.lob \
| search message.lob=ENI \
| rename message.targetUrl as API, message.status as STATUS \
| eval TEMP= mvzip(API,STATUS) \
| stats count by _time TEMP \
| eval API = mvindex(split(TEMP,","),0), STATUS=mvindex(split(TEMP,","),1) \
| fields API STATUS \
| stats count(eval(STATUS<400 AND STATUS>=0)) as SuccessCount count as TotalCount by API \
| eval ErrorCount = TotalCount-SuccessCount \
| eval ErrorRate = round(ErrorCount/TotalCount*100,2) \
| where ErrorRate>5

[Abyss ENI API Failure Prod-production]
action.email = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = UCP_TEAM_THEITERATIONS_DL@ds.uhc.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 6 * * 1
dispatch.earliest_time = -1w
dispatch.latest_time = now
display.events.fields = ["message.logging_detail.processingTime","namespace","cluster_name","container_name","message.logging_detail.url","message.timestamp","message.logging_detail.status"]
display.general.type = statistics
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod" meta.apiPath="/prescriptions/eni*" meta.status=* |  stats count as Request_count_total, count(eval('meta.status'<=399)) as Request_count_success, count(eval('meta.status'>=400)) as Request_count_failures by  k8s.container.name, meta.apiPath | eval  Success_Percentage = round((Request_count_success/Request_count_total)*100,2)  | eval  Failure_Percentage = round((Request_count_failures/Request_count_total)*100,2) |search Failure_Percentage >= 4  | search Request_count_total > 240 |fields k8s.container.name, meta.apiPath, Request_count_total, Request_count_success, Request_count_failures, Success_Percentage, Failure_Percentage

[Abyss ENI API Failure-production]
action.email = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = UCP_TEAM_THEITERATIONS_DL@ds.uhc.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 6 * * 1
dispatch.earliest_time = -1w
dispatch.latest_time = now
display.events.fields = ["message.logging_detail.processingTime","namespace","cluster_name","container_name","message.logging_detail.url","message.timestamp","message.logging_detail.status"]
display.general.type = statistics
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-uat"  meta.apiPath="/prescriptions/eni*" meta.status=* \
|  stats count as Request_count_total, count(eval('meta.status'<=399)) as Request_count_success, count(eval('meta.status'>=400)) as Request_count_failures by  k8s.container.name, meta.apiPath \
| eval  Success_Percentage = round((Request_count_success/Request_count_total)*100,2) \
| eval  Failure_Percentage = round((Request_count_failures/Request_count_total)*100,2) \
| search Failure_Percentage >= 4 \
| search Request_count_total > 240 \
|fields k8s.container.name, meta.apiPath, Request_count_total, Request_count_success, Request_count_failures, Success_Percentage, Failure_Percentage

[YTD UHC Rewards Registrations-production]
action.email = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = mike.leahy@optum.com,\
tyler.larson@optum.com,\
jason_malley@optum.com
action.email.useNSSubject = 1
alert.track = 1 
disabled = 1
cron_schedule = 0 19 * * *
dispatch.earliest_time = @y
dispatch.latest_time = now
display.events.fields = ["host","sourcetype","class","app","product","container_name"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.chartHeight = 312
display.visualizations.charting.chart = pie
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" sourcetype="kube:container:rewards-programoverview" method=POST "playRoutePattern=/rewards/v1/programOverview/userId/:userId/content/interaction" \
| rex field=uri "/rewards/v1/programOverview/userId/(?<RallyId>.*)/content" \
| replace "*-risc_edge" with "web" IN X_Rally_CorrelationId \
| replace "*mobile_edge" with "mobile" IN X_Rally_CorrelationId \
| rename X_Rally_CorrelationId as "source" \
| table RallyId, _time, source

[UHC Rewards Registration Details-production]
action.email = 1
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = mike.leahy@optum.com, jason_malley@optum.com
action.email.useNSSubject = 1
alert.track = 1 
disabled = 1
cron_schedule = 0 1 * * 5
dispatch.earliest_time = -8d@d
dispatch.latest_time = now
display.events.fields = ["host","sourcetype","class","app","product","container_name"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.chartHeight = 312
display.visualizations.charting.chart = pie
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = sourcetype="kube:container:rewards-programoverview"  method=POST "playRoutePattern=/rewards/v1/programOverview/userId/:userId/content/interaction" index="aws_ceuhc-eks_rewards-prod" \
| rex field=uri "/rewards/v1/programOverview/userId/(?<RallyId>.*)/content" | replace "*-risc_edge" with "web" IN X_Rally_CorrelationId | replace "*mobile_edge" with "mobile" IN X_Rally_CorrelationId | rename X_Rally_CorrelationId as "source" | table RallyId, _time, source

[UHC Rewards Registration-production]
action.email = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = mike.leahy@optum.com, joseph.k.thomas@optum.com,\
tracy_wilkerson@uhc.com,\
tyler.larson@optum.com,\
jason_malley@optum.com,\
brad.manbeck@uhc.com
action.email.useNSSubject = 1
alert.track = 1 
disabled = 1
cron_schedule = 0 0 * * *
dispatch.earliest_time = @y
dispatch.latest_time = now
display.events.fields = ["host","sourcetype","class","app","product","container_name"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.chartHeight = 312
display.visualizations.charting.chart = pie
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
schedule_window = 15
search = sourcetype="kube:container:rewards-programoverview"  method=POST "playRoutePattern=/rewards/v1/programOverview/userId/:userId/content/interaction"  index="aws_ceuhc-eks_rewards-prod" \
| replace "*-risc_edge" with "web" IN X_Rally_CorrelationId | replace "*mobile_edge" with "mobile" IN X_Rally_CorrelationId | rename X_Rally_CorrelationId as "source" | stats count BY "source"

[CEProductsAPI - H&W - Error Rate is >0.05%-production]
action.email = 1
action.email.cc = abhay_mittal@optum.com,vinay_sharma@optum.com,rachit_gupta@optum.com
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = CEAPI_Alerts@ds.uhc.com
action.email.useNSSubject = 1
alert.digest_mode = 0
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-product-api" data.type=ServerResponse data.path!=*/actuator/health* | stats count AS TOTAL_REQUESTS  count(eval('data.status'!=200)) as TOTAL_ERRORS| eval ERROR_RATE = round(TOTAL_ERRORS/TOTAL_REQUESTS*100, 2) | where ERROR_RATE > 0.05

[Effectuated Payments Full Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com, leticia.castellanos@uhc.com, katie.weierke@uhc.com,john.evans@uhc.com,aisha_saleem@uhc.com
action.email.useNSSubject = 1
alert.track = 1 
disabled = 1
cron_schedule = 59 23 * * *
description = Effectuated Payments Full Report
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=payment OR respDetails.microApp=IFP-ONBOARDING respDetails.msg.function=EffectuatedConfirmation respDetails.paymentFlow=EFFECTUATED respDetails.msg.status=success \
| dedup respDetails.msg.transactionId \
| stats count by respDetails.msg.coverageStatus respDetails.msg.paymentMethod respDetails.msg.paymentType respDetails.msg.state

[[bluesteel] CompleteClassroomApp errored out Clone-production]
action.email = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
\
This likely means that Real Appeal classrooms and therefore track statuses are not getting completed. Please fix this soon, or otherwise we will see CHELP tickets for people unable to re-enroll
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = realappeal-eng-oncall@rvohealth.com
action.email.useNSSubject = 1
action.pagerduty = 0
action.pagerduty.param.integration_url_override = https://events.pagerduty.com/integration/563158a02fd34a05d04a0654b9f99f80/enqueue
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 16 * * 1-5
dispatch.earliest_time = -24h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","method"]
display.page.search.mode = verbose
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_coaching-uat" CompleteClassroomsApp Error in executing complete-classrooms-jobs

[RabbitMQ Connection Lost for Survey Web-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
Resend events using ProdScab.\
See wiki:\
https://wiki.audaxhealth.com/display/ADVO/Production+Debugging+Survey+FAQ#ProductionDebuggingSurveyFAQ-Somecatbuseventswerereportedmissing/notreceived,howdoIresendeventsforaspecifictimewindow?
action.email.priority = 2
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = 1f0fb8af.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 * * * *
description = [Informational] SurveyWeb is experiencing difficulties connecting to RabbitMQ. Please resend survey events for the time window the connection was lost.\
Wiki on how to resend events:\
https://wiki.audaxhealth.com/display/ADVO/Production+Debugging+Survey+FAQ#ProductionDebuggingSurveyFAQ-Somecatbuseventswerereportedmissing/notreceived,howdoIresendeventsforaspecifictimewindow?
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","severity"]
display.page.search.mode = verbose
enableSched = 1
quantity = 100
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_survey-prod" sourcetype="kube:container:survey-web"  com.rabbitmq.client.MissedHeartbeatException

[CNS Wellness - Edifecs  OneClick Guest HRA API-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = dab8137e.uhgazure.onmicrosoft.com@amer.teams.ms, rcendana@optum.com, abhishek_pandey@optum.com,rajesh_suvvari@optum.com, kandula_ravikumargupta@optum.com, anurag_khadatkar@optum.com, kandali.reddy@optum.com, radhika_kotturi@optum.com, rohit_pogula@optum.com
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = Alert to Monitor CnS Edifecs OneClick Guest HRA Error Rate\
/communityplan/ce-wellness/api/rest/edifecs/guest-hra
dispatch.earliest_time = -15m
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-uat" sourcetype="kube:container:ce-wellness-api" "data.path"="/communityplan/ce-wellness/api/rest/edifecs/guest-hra*" "data.type"=ServerResponse \
| rename "data.status" as ResponseCode \
| stats count(eval(ResponseCode=200)) as SuccessCount count as TotalCount \
| eval ErrorCount = TotalCount-SuccessCount \
| eval ErrorRate = round(ErrorCount/TotalCount*100,2) \
| eval SuccessRate = round(SuccessCount/TotalCount*100,2) \
| fields TotalCount SuccessCount SuccessRate ErrorCount ErrorRate \
| where ErrorRate > 5 AND ErrorCount > 3

[CNS New Onboarding Active Alert-production]
action.email = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.priority = 2
action.email.to = abhishek_pandey@optum.com,radhika_kotturi@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 45 * * * *
description = Please check splunk logs, there are hits for the search query "*groupIdApproved=true*"
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","message.headers.debug-statement"]
display.page.search.mode = fast
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-post-signin" "*groupIdApproved=true*"

[Real Appeal: Error sending message to Achieve-production]
action.email = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
\
Runbook needed. Build one the first time this fires.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.to = realappeal-eng-oncall@rvohealth.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 * * * *
dispatch.earliest_time = -1h
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","method"]
display.page.search.mode = verbose
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_coaching-uat" sourcetype="kube:container:coaching-member-web"   achieve* coaching*  (AchieveServiceImpl OR AchievementsService OR RealAppealAchievementsService) error

[UAT: CnS Onboarding-production]
action.email = 1
action.email.content_type = plain
action.email.include.trigger = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
\
Query:\
\
index=main \
env="k8s-uat" \
AND( \
(ActionName="GetContactDetail" uri="/rest/edge-dashboard/preferences/v1/cns-contact-email") \
OR (ActionName="getTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences")  \
OR (ActionName="UpdateCnsPreferences" uri="/rest/edge-dashboard/preferences/v1/cns/email-consent") \
OR (ActionName="UpdateCnSPaperlessPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-paperless-update") \
OR (ActionName="updateTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences") )\
status="5**"
action.email.priority = 2
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = mohit_shakya@optum.com, \
kamal_girdher@optum.com,\
3b71ac73.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1
counttype = number of events
cron_schedule = */2 * * * *
description = Query:\
index=main \
env="k8s-uat" \
AND( \
(ActionName="GetContactDetail" uri="/rest/edge-dashboard/preferences/v1/cns-contact-email") \
OR (ActionName="getTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences")  \
OR (ActionName="UpdateCnsPreferences" uri="/rest/edge-dashboard/preferences/v1/cns/email-consent") \
OR (ActionName="UpdateCnSPaperlessPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-paperless-update") \
OR (ActionName="updateTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences") )\
status="5**"
dispatch.earliest_time = -2m
dispatch.latest_time = 0
display.events.fields = ["host","source","sourcetype","container_name","tenant"]
display.page.search.mode = fast
enableSched = 1
quantity = 2
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_navigation-uat" sourcetype="kube:container:arcade-edge-dashboard" deployment.environment="k8s-uat" \
AND( \
(ActionName="GetContactDetail" uri="/rest/edge-dashboard/preferences/v1/cns-contact-email") \
OR (ActionName="getTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences") \
OR (ActionName="UpdateCnsPreferences" uri="/rest/edge-dashboard/preferences/v1/cns/email-consent") \
OR (ActionName="UpdateCnSPaperlessPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-paperless-update") \
OR (ActionName="updateTextPreferences" uri="/rest/edge-dashboard/preferences/v1/cns-text-preferences") ) \
status="5*"

[PN sent to members from Dec 8th to Till Date-production]
action.email = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = krishna_pabba1@optum.com,shubham_vardaan@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 19 * * *
description = PN sent to members from Dec 8th to Till Date
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","X-Rally-CorrelationId","@timestamp","@version","application.home","cluster_name","container_id","container_name","dd.env","dd.service","dd.span_id","dd.trace_id","dd.version","env","eventtype","fluentd_pod","index","level","level_value","linecount","logger_name","message","namespace","pod","punct","severity","splunk_server","tag","tag::eventtype","tenant","thread_name","unix_category","unix_group","URI","uuid"]
display.events.type = raw
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rewards-prod" *Notification successfully pushed for UUID* | stats count

[[Production] Check Survey MPE Integration-production]
action.email = 1
action.email.message.alert = Calls to core-mpe memberdata API from survey-web has high error rate in last 10 mins.
action.email.priority = 2
action.email.subject.alert = [P4] Calls to core-mpe from survey-web has high failure rate
action.email.to = 1f0fb8af.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
action.pagerduty = 0
action.pagerduty.param.integration_url_override = https://events.pagerduty.com/integration/4c077073adb04a24ad68f4fdfdbe2809/enqueue
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */1 * * * *
description = Monitors Survey Web call to MPE MemberData API, used for SurveyMapping has abnormal failure rate.
dispatch.earliest_time = -1m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","severity"]
display.page.search.mode = verbose
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_survey-prod" "Something went wrong while getting client and partner name for userId"

[myUHC Post Sign-in Login Failure Count-production]
action.email = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 1
action.email.sendresults = 1
action.email.to = abhishek_pandey@optum.com, \
anupama_g@optum.com, \
aparna.makthedar@optum.com,\
haq_ejaz@optum.com,\
ihs_dharma@optum.com,\
jyothi.ravipudi@optum.com,\
leela.tata@optum.com,\
mahesh_chidurala@optum.com,\
manala_ramu@optum.com,\
manikonda.bharathi@optum.com,\
nand-kishore_phooldadikar@optum.com,\
nikil_sp@optum.com,\
niveditha_kandimalla@optum.com,\
nyamathulla_pasuvula1@optum.com,\
pavan_mallavarapu@optum.com, \
radhika_kotturi@optum.com,\
raja_marni@optum.com,\
rajat_saxena@optum.com,\
rajesh_maryala@optum.com,\
rajesh_suvvari@optum.com,\
rajlaxmi@optum.com,\
rajya_nagireddy@optum.com,\
rashmi_undapalli@optum.com,\
ravi_kumar16@optum.com,\
saurabh_kumar222@optum.com,\
skum1185@optum.com,\
sourav_402@optum.com,\
sreekar_boyina@optum.com,\
suresh.maganti@optum.com,\
venkata.guttikonda@optum.com,\
yarlagadda_babu@optum.com,\
yenuganti_ashok@optum.com,\
ashutosh_sharma21@optum.com,\
tseran@optum.com,\
rcendana@optum.com,\
rohit_pogula@optum.com,\
vyas_bellamkonda@optum.com,\
ashutosh_sharma21@optum.com,\
9fe70e88.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */5 * * * *
description = It will sent alert of the failure are > 50 or Failure rate > 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","message.headers.debug-statement","message.respDetails.memberinfo.membername","response.status","message.respDetails.api{}.httpStatusCode","message.respDetails.api{}.apiMessage","message.reqInfo.url","message.headers.url","message.respDetails.referrerurl","respDetails.pageUrl","respDetails.microApp","respDetails.msg.msg.apiUrl","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.apiUrl","respDetails.microapp","respDetails.app"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-post-signin" entry.url=* \
| stats count as Total count(eval('exit.status'!="SUCCESS")) as Failure \
| eval FailureRate = round(Failure/Total*100,2) \
| fields Total Failure FailureRate \
| where Failure>50 AND FailureRate>1

[CEMemberActionAPI - H&W - Error Rate >0.05%-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.digest_mode = 0
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-memberaction-api"  data.type=ServerResponse data.path!=*/actuator/health* | stats count AS TOTAL_REQUESTS  count(eval('data.status'!=200)) as TOTAL_ERRORS| eval ERROR_RATE = round(TOTAL_ERRORS/TOTAL_REQUESTS*100, 2) | where ERROR_RATE > 0.05

[CEMemberActionAPI - H&W - High P95-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = P95 is more than 100ms for more than 5 calls in last 15 mins
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-memberaction-api" data.type=ServerResponse data.path!=*/actuator/health*  data.correlationId=*wellness* data.duration>100 | stats count p95(data.duration)

[CEPlanBenefitsAPI - H&W - Error Rate is >0.05%-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.digest_mode = 0
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-planbenefits-api"  data.type=ServerResponse data.path!=*/actuator/health* | stats count AS TOTAL_REQUESTS  count(eval('data.status'!=200)) as TOTAL_ERRORS| eval ERROR_RATE = round(TOTAL_ERRORS/TOTAL_REQUESTS*100, 2) | where ERROR_RATE > 0.05

[CEPlanBenefitsAPI - H&W - High P95-production]
action.email = 1
action.email.cc = abhay_mittal@optum.com,vinay_sharma@optum.com,rachit_gupta@optum.com
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = P95 is more than 100ms for more than 10 calls in last 15 mins
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 10
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-planbenefits-api" data.type=ServerResponse data.path!=*/actuator/health*  data.correlationId=*wellness* data.duration>100 |stats count p95(data.duration)

[CEProductAPI - H&W - High P95-production]
action.email = 1
action.email.cc = abhay_mittal@optum.com,vinay_sharma@optum.com,rachit_gupta@optum.com
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = P95 is more than 100ms for more than 5 calls in last 15 mins
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-product-api" data.type=ServerResponse data.path!=*/actuator/health*  data.correlationId=*wellness* data.duration>100 |stats count p95(data.duration)

[CEProfileAPI - H&W - Error Rate is > 0.05%-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.digest_mode = 0
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search =  \
index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-profile-api"  data.type=ServerResponse data.path!=*/actuator/health* | stats count AS TOTAL_REQUESTS  count(eval('data.status'!=200)) as TOTAL_ERRORS| eval ERROR_RATE = round(TOTAL_ERRORS/TOTAL_REQUESTS*100, 2) | where ERROR_RATE > 0.05

[CEProfileAPI - H&W - High P95-production]
action.email = 1
action.email.include.search = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = P95 is more than 100ms for more than 5 calls in last 15 mins
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 5
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-profile-api" data.type=ServerResponse data.path!=*/actuator/health*  data.correlationId=*wellness* data.duration>100 |stats count p95(data.duration)

[CEProductAPI - H&W Traffic Drop-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = CEProductAPI - H&W Traffic Drop to Zero
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-product-api" data.type=ServerResponse data.path!=*/actuator/health*  data.correlationId=*wellness*  |stats count|where count<1

[CEProfileAPI - H&W Traffic Drop-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = CEProfileAPI - H&W Traffic Dropped to Zero
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-profile-api" data.type=ServerResponse data.path!=*/actuator/health*  data.correlationId=*wellness*  |stats count|where count<1

[CEPlanBenefitsAPI - H&W Traffic Drop-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = CEPlanBenefitsAPI - H&W Traffic Drop to Zero
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-planbenefits-api" data.type=ServerResponse data.path!=*/actuator/health*  data.correlationId=*wellness*  |stats count|where count<1

[CEMemberActionAPI - H&W Traffic Drop-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = myuhc2.0_benefitAPI_SSMO@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = CEMemberActionAPI - H&W Traffic Drop to Zero
dispatch.earliest_time = -15m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","cluster_name","container_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:ce-memberaction-api"  data.type=ServerResponse data.path!=*/actuator/health*  data.correlationId=*wellness* | stats count|where count<1

[MNR sso call with status-production]
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
dispatch.earliest_time = -60m@m
dispatch.latest_time = now
dispatchAs = user
display.events.fields = ["host","cluster_name","nginx.method","status"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod"  meta.apiPath="/prescriptions/mnr/*" | rename meta.status as line.status, meta.apiPath as line.url | stats count as HitCount by line.url, line.status | fields line.url, line.status, HitCount

[myUHC 2.5 - CNS Edifecs HRA Encrypt API-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = dab8137e.uhgazure.onmicrosoft.com@amer.teams.ms, rcendana@optum.com, abhishek_pandey@optum.com,rajesh_suvvari@optum.com, kandula_ravikumargupta@optum.com, anurag_khadatkar@optum.com, kandali.reddy@optum.com, radhika_kotturi@optum.com, rohit_pogula@optum.com
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = This alert is to notify when Encrypt API for Edifecs HRA is breaching the failure threshold
dispatch.earliest_time = -15m
display.general.type = statistics
display.page.search.tab = statistics
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod"  sourcetype="kube:container:ce-wellness-api" data.path="/communityplan/ce-wellness/api/rest/edifecs/hra*" \
data.type=ServerResponse \
| rename data.status as ResponseCode \
| stats count(eval(ResponseCode=200)) as SuccessCount count as TotalCount \
| eval ErrorCount = TotalCount-SuccessCount \
| eval ErrorRate = round(ErrorCount/TotalCount*100,2) \
| eval SuccessRate = round(SuccessCount/TotalCount*100,2) \
| fields TotalCount SuccessCount SuccessRate ErrorCount ErrorRate

[myUHC Post Sign-in P95 alert-production]
action.email = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 1
action.email.sendresults = 1
action.email.to = abhishek_pandey@optum.com, \
anupama_g@optum.com, \
aparna.makthedar@optum.com,\
haq_ejaz@optum.com,\
ihs_dharma@optum.com,\
jyothi.ravipudi@optum.com,\
leela.tata@optum.com,\
mahesh_chidurala@optum.com,\
manala_ramu@optum.com,\
manikonda.bharathi@optum.com,\
nand-kishore_phooldadikar@optum.com,\
nikil_sp@optum.com,\
niveditha_kandimalla@optum.com,\
nyamathulla_pasuvula1@optum.com,\
pavan_mallavarapu@optum.com, \
radhika_kotturi@optum.com,\
raja_marni@optum.com,\
rajat_saxena@optum.com,\
rajesh_maryala@optum.com,\
rajesh_suvvari@optum.com,\
rajlaxmi@optum.com,\
rajya_nagireddy@optum.com,\
rashmi_undapalli@optum.com,\
ravi_kumar16@optum.com,\
saurabh_kumar222@optum.com,\
sourav_402@optum.com,\
sreekar_boyina@optum.com,\
suresh.maganti@optum.com,\
venkata.guttikonda@optum.com,\
yarlagadda_babu@optum.com,\
yenuganti_ashok@optum.com,\
ashutosh_sharma21@optum.com,\
tseran@optum.com,\
rcendana@optum.com,\
rohit_pogula@optum.com,\
vyas_bellamkonda@optum.com,\
ashutosh_sharma21@optum.com,\
76c633f8.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */5 * * * *
description = It will sent alert if P95 > 5sec
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","message.headers.debug-statement","message.respDetails.memberinfo.membername","response.status","message.respDetails.api{}.httpStatusCode","message.respDetails.api{}.apiMessage","message.reqInfo.url","message.headers.url","message.respDetails.referrerurl","respDetails.pageUrl","respDetails.microApp","respDetails.msg.msg.apiUrl","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.apiUrl","respDetails.microapp","respDetails.app"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-post-signin"entry.url=* entry.url=* \
| rename exit.Overall_Response as exitTime entry.Membership_LOB as LOB \
| stats count as Total avg(exitTime) as avgResp p95(exitTime) as percent95 by entry.url LOB \
| fields entry.url LOB Total avgResp percent95 \
| where percent95>5000

[myUHC Post Sign-in P95 alert for API's-production]
action.email = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 1
action.email.sendresults = 1
action.email.to = abhishek_pandey@optum.com, \
anupama_g@optum.com, \
aparna.makthedar@optum.com,\
haq_ejaz@optum.com,\
ihs_dharma@optum.com,\
jyothi.ravipudi@optum.com,\
leela.tata@optum.com,\
mahesh_chidurala@optum.com,\
manala_ramu@optum.com,\
manikonda.bharathi@optum.com,\
nand-kishore_phooldadikar@optum.com,\
nikil_sp@optum.com,\
niveditha_kandimalla@optum.com,\
nyamathulla_pasuvula1@optum.com,\
pavan_mallavarapu@optum.com, \
radhika_kotturi@optum.com,\
raja_marni@optum.com,\
rajat_saxena@optum.com,\
rajesh_maryala@optum.com,\
rajesh_suvvari@optum.com,\
rajlaxmi@optum.com,\
rajya_nagireddy@optum.com,\
rashmi_undapalli@optum.com,\
ravi_kumar16@optum.com,\
saurabh_kumar222@optum.com,\
sourav_402@optum.com,\
sreekar_boyina@optum.com,\
suresh.maganti@optum.com,\
venkata.guttikonda@optum.com,\
yarlagadda_babu@optum.com,\
yenuganti_ashok@optum.com,\
ashutosh_sharma21@optum.com,\
tseran@optum.com,\
rcendana@optum.com,\
rohit_pogula@optum.com,\
vyas_bellamkonda@optum.com,\
ashutosh_sharma21@optum.com,\
a76327ef.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */5 * * * *
description = It will sent alert if P95 > 2sec for API's
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","message.headers.debug-statement","message.respDetails.memberinfo.membername","response.status","message.respDetails.api{}.httpStatusCode","message.respDetails.api{}.apiMessage","message.reqInfo.url","message.headers.url","message.respDetails.referrerurl","respDetails.pageUrl","respDetails.microApp","respDetails.msg.msg.apiUrl","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.apiUrl","respDetails.microapp","respDetails.app"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod"  sourcetype="kube:container:myuhc-post-signin" entry.url=* entry.url=* \
| rename "apiStats{}.name" as API, "apiStats{}.timeTaken" as RESP_TIME, "apiStats{}.status" as STATUS \
| eval TEMP= mvzip(mvzip(API,STATUS),RESP_TIME) \
| stats count by _time TEMP \
| eval API = mvindex(split(TEMP,","),0), STATUS=mvindex(split(TEMP,","),1), RESP_TIME=mvindex(split(TEMP,","),2) \
| fields API STATUS RESP_TIME \
| stats count as TotalCount avg(RESP_TIME) as avgResp p95(RESP_TIME) as p95Response by API \
| where p95Response>2000

[Superuser IP Blocked Alerts-production]
action.email = 1
action.email.content_type = plain
action.email.include.search = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.sendcsv = 1
action.email.sendpdf = 1
action.email.sendresults = 1
action.email.to = PortalsOMMYUHCOnCall@ds.uhc.com
action.email.useNSSubject = 1
alert.digest_mode = 0
alert.suppress = 0
alert.track = 1 
disabled = 1
alert_condition = | where count >300
counttype = custom
cron_schedule = */5 * * * *
description = Superuser IP Blocked Alerts
dispatch.earliest_time = -10m
dispatch.latest_time = -5m
display.events.fields = ["host","source","sourcetype","UUID"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 402
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod"  sourcetype="kube:container:uhc-superuser-api"  IPWhiteListing Status=false \
| rename Status as IsAuthorized | eval IP = mvindex(split(IPAddress, ":"),0) | where NOT LIKE(IP, "/10.%") | stats count by IP | where count > 50

[myUHC Post Sign-in API Layer Failure Count-production]
action.email = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 1
action.email.sendresults = 1
action.email.to = abhishek_pandey@optum.com, \
anupama_g@optum.com, \
aparna.makthedar@optum.com,\
haq_ejaz@optum.com,\
ihs_dharma@optum.com,\
jyothi.ravipudi@optum.com,\
leela.tata@optum.com,\
mahesh_chidurala@optum.com,\
manala_ramu@optum.com,\
manikonda.bharathi@optum.com,\
nand-kishore_phooldadikar@optum.com,\
nikil_sp@optum.com,\
niveditha_kandimalla@optum.com,\
nyamathulla_pasuvula1@optum.com,\
pavan_mallavarapu@optum.com, \
radhika_kotturi@optum.com,\
raja_marni@optum.com,\
rajat_saxena@optum.com,\
rajesh_maryala@optum.com,\
rajesh_suvvari@optum.com,\
rajlaxmi@optum.com,\
rajya_nagireddy@optum.com,\
rashmi_undapalli@optum.com,\
ravi_kumar16@optum.com,\
saurabh_kumar222@optum.com,\
sourav_402@optum.com,\
sreekar_boyina@optum.com,\
suresh.maganti@optum.com,\
venkata.guttikonda@optum.com,\
yarlagadda_babu@optum.com,\
yenuganti_ashok@optum.com,\
ashutosh_sharma21@optum.com,\
tseran@optum.com,\
rcendana@optum.com,\
rohit_pogula@optum.com,\
vyas_bellamkonda@optum.com,\
ashutosh_sharma21@optum.com,\
91ca232a.uhgazure.onmicrosoft.com@amer.teams.ms
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */5 * * * *
description = It will sent alert of the API failure are > 50 or Failure rate > 1
dispatch.earliest_time = -15m@m
dispatch.latest_time = @m
display.events.fields = ["host","source","sourcetype","message.headers.debug-statement","message.respDetails.memberinfo.membername","response.status","message.respDetails.api{}.httpStatusCode","message.respDetails.api{}.apiMessage","message.reqInfo.url","message.headers.url","message.respDetails.referrerurl","respDetails.pageUrl","respDetails.microApp","respDetails.msg.msg.apiUrl","respDetails.apiUrl","respDetails.msg.apiDetails{}.apiUrl","respDetails.msg.apiUrl","respDetails.microapp","respDetails.app"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod"  sourcetype="kube:container:myuhc-post-signin" entry.url=* entry.url=* \
| rename "apiStats{}.name" as API, "apiStats{}.timeTaken" as RESP_TIME, "apiStats{}.status" as STATUS \
| eval TEMP= mvzip(mvzip(API,STATUS),RESP_TIME) \
| stats count by _time TEMP \
| eval API = mvindex(split(TEMP,","),0), STATUS=mvindex(split(TEMP,","),1), RESP_TIME=mvindex(split(TEMP,","),2) \
| fields API STATUS RESP_TIME \
| stats count as TotalCount count(eval(STATUS!="SUCCESS")) as ErrorCount by API \
| eval ErrorRate = round(ErrorCount/TotalCount*100,2) \
| where API!="UserDataProxyObject" \
| fields API TotalCount ErrorCount ErrorRate \
| where ErrorCount>50 AND ErrorRate>1

[Virtual Visit Registration By Status for Optum Rover-production]
action.email = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.subject.report = Virtual Visit Registrations
action.email.to = roland.bouchereau@optum.com, ashwini.pradhan@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 0 17 * * *
description = last 24h virtual visit registration by http status. 200s are success, all others should be investigated.
dispatch.earliest_time = -24h@h
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = (index="aws_ceuhc-eks_connect-prod" OR index="aws_ceuhc-eks_connect-uat") sourcetype="kube:container:connect-user-web""/rest/user/v1/init/register/amwell" | stats count by status, uri

[MyUHC REST API - internal_introspect_big-n_v1-production]
action.email = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.priority = 2
action.email.sendresults = 1
action.email.to = dab8137e.uhgazure.onmicrosoft.com@amer.teams.ms, rcendana@optum.com, abhishek_pandey@optum.com,rajesh_suvvari@optum.com, vinodkumar_srinivasan@optum.com, anurag_khadatkar@optum.com, venkata.guttikonda@optum.com, radhika_kotturi@optum.com, rohit_pogula@optum.com
action.email.useNSSubject = 1
alert.suppress = 1
alert.suppress.period = 60s
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */15 * * * *
description = Alert for endpoint /internal/introspect/big-n/v1 in myuhc-rest-api app
dispatch.earliest_time = -15m
display.events.fields = ["authenticated_entity.id","service.name","route.paths{}","request.headers.apikey","host","source","container_name","cluster_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.showFields = 0
display.page.search.tab = statistics
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 402
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-rest-api" message.className="com.uhg.myuhc.controller.PlanTokenController" \
| rename message.status as ResponseCode, message.path as API \
| where (ResponseCode!=401) \
| search API="*/introspect/big-n/v1" \
| stats count(eval(ResponseCode=200)) as SuccessCount count as TotalCount \
| eval ErrorCount = TotalCount-SuccessCount \
| eval ErrorRate = round(ErrorCount/TotalCount*100,2) \
| eval SuccessRate = round(SuccessCount/TotalCount*100,2) \
| fields TotalCount SuccessCount SuccessRate ErrorCount ErrorRate \
| where ErrorRate > 5 AND ErrorCount > 3

[EPMP Kafka Topics-production]
action.email = 1
action.email.subject.alert = Splunk Alert: Kafka stream for EPMP-MYUHC Topics
action.email.to = radhika_kotturi@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = 0 14 * * *
description = Alert to check the kafka streams for myuhc-epmp isec and CMSPR topics
dispatch.earliest_time = -1d
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","respDetails.microApp","index","linecount","splunk_server"]
display.page.search.mode = fast
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 402
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = equal to
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-epmpemailkafkaconsumer" "*.kafkalistner*"

[E&I Login Traffic Drop Alert-production]
action.email = 1
action.email.inline = 1
action.email.sendresults = 1
action.email.to = pavan_mallavarapu@optum.com,\
vinay.digumarthi@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
alert_condition = search TrafficDropPercentage > 50
counttype = custom
cron_schedule = * * * * *
display.events.fields = ["host","source","sourcetype","backend_http","backend_url","class","cluster_name","container_id","container_name","env","eventtype","field1","field2","field3","field4","field5","fluentd_pod","index","linecount","namespace","pod","punct","splunk_server","tag","tag::eventtype","tenant","thread","unix_category","unix_group","field10","field11","field6","field7","field8","field9","severity","field12","field13","field14","field15","field16","field17","field18","field19","field20","field21","field22","field23","field24","field25","field26","field27","field28","field29","field30","field31","field32","field33","field34","field35","field36","field37","field38","field40","field41","field42","field43","field44","field45","field46","HSID","accId","DD_RUM_sessionId","deeplink","fillType","fullyInsured","groupId","href","isUhcPop","locale","ndcList","path","planToken","populationType","referer","rxNumberList","target","uuid","apiPath","referrer","status","Access_Control_Allow_Origin","accountId","businessType","Cache_Control","charset","Connection","Content_Type","CorrelationIdSource","Date","dateOfBirth","expires","firstName","individualId","lastName","max_age","memberId","mnrPlanTypes","SameSite","Set_Cookie","Strict_Transport_Security","Transfer_Encoding","Vary","Via","visid_incap_2463192","visid_incap_676022","X_CDN","X_Iinfo","X_Kong_Proxy_Latency","X_Kong_Upstream_Latency","X_Rally_CorrelationId","zip","ActionName","ActionVersion","app_version","canary_status","coverageTypeCodes","dd_env","dd_service","dd_span_id","dd_trace_id","dd_version","durationMs","ipHash","lineOfBusiness","membershipCategory","method","origin","playRoutePattern","position","processedEndDate","processedStartDate","RallyCaller","responseLength","uri","URI","version","API_Staus","marker.name","message","rallyId","threadId","threadPriority","timeMillis","timestamp","line.status","line.url","nginx.bytes_sent","nginx.host","nginx.method","nginx.path","nginx.proxy_alternative_upstream_name","nginx.proxy_upstream_name","nginx.referrer","nginx.remote","nginx.request_id","nginx.request_length","nginx.request_time","nginx.upstream_addr","nginx.upstream_response_length","nginx.upstream_response_time","nginx.upstream_status","nginx.user","nginx.user_agent","optum_cid_ext","benefitName","city","claimDetailsFrom","claimId","claimKey","claimMatchId","claimStatus","coverageTypeCode","cta","daysSupply","dependentSeqNbr","displayQuantity","drugId","drugName","gpi14","includeGenerics","includeHomeDelivery","isBreakableDrug","isCurrentMed","isSuperUser","itemsPerPage","lastServiceDate","latitude","LOB","longitude","mrcid","nginx.status","pageNumber","populationId","preferredNetwork","productId","productName","quantity","Resp_Time","searchedCommonDosage","searchRadius","serviceDate","sortOrder","standardNetwork","state","type","v","WT_mc_ID","level","lob","lob_env","logger","meta.skylineTokenResponse.correlationId","meta.skylineTokenResponse.data.accessToken","meta.skylineTokenResponse.data.expiresOn","meta.skylineTokenResponse.responseType","aem-mode","cid","code","date_hour","date_mday","date_minute","date_month","date_second","date_wday","date_year","date_zone","portalIndicator","response_time","ResponseTimeMS","role","TARGET","target_url","timeendpos","timestartpos","uri_path","respTime","instance_id","CacheType","format","frameless","HTTPStatus","isbraingame","ispositivity","isRenew","Method","out","query","querySelected","request","ResponseTime","Status","view","WT_mc_id","zipcode","authorizedAmt","contextMap.dd.env","contextMap.dd.service","contextMap.dd.span_id","contextMap.dd.trace_id","contextMap.dd.version","endOfBatch","loggerFqcn","loggerName"]
display.events.rowNumbers = 1
display.events.type = raw
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.statistics.drilldown = row
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 402
display.visualizations.charting.chart = line
enableSched = 1
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-post-signin" entry.url=* NOT info.adminLevel entry.Membership_LOB=EI \
earliest=-3m@m latest=-1m@m \
| stats  count as latest3min_count \
| appendcols \
[search index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-post-signin*" entry.url=* NOT info.adminLevel entry.Membership_LOB=EI \
earliest=-5m@m latest=-3m@m \
| stats count as previous3min_count] \
| eval TrafficDropPercentage=round(((previous3min_count - latest3min_count)/previous3min_count)*100, 2) \
| table latest3min_count previous3min_count TrafficDropPercentage

[EarlyPay 0 Dollar Amount Members-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com, leticia.castellanos@uhc.com, katie.weierke@uhc.com,john.evans@uhc.com,aisha_saleem@uhc.com
action.email.useNSSubject = 1
alert.track = 1 
disabled = 1
cron_schedule = 55 23 * * *
description = EarlyPay 0 Dollar Amount Members
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger"  respDetails.microApp=payment OR  respDetails.microApp=IFP-ONBOARDING respDetails.paymentFlow=EARLYPAY respDetails.msg.function=pfDecoderEarlyPay respDetails.msg.status=success \
| spath respDetails.msg.response.Total_Amount_Owned \
| search respDetails.msg.response.Total_Amount_Owned=0 \
| stats count by respDetails.msg.memberId respDetails.msg.response.State

[Error Page Metrics MidDay Report-production]
action.email = 1
action.email.include.search = 1
action.email.inline = 1
action.email.message.report = IFP $trigger_date$ : '$name$' has run.
action.email.sendcsv = 1
action.email.sendresults = 1
action.email.subject.report = IFP $trigger_date$ : $name$
action.email.to = vyas_bellamkonda@optum.com,michael_bierden@uhc.com,rcendana@optum.com,linsey.feit@optum.com,aparna.makthedar@optum.com,karthikeyan.sekar@optum.com,divya.bogoju@optum.com,amar.koleti@optum.com,bowya.rajendran@optum.com,asad_ali_rizvi@uhc.com,linnea.hansen@uhc.com,gopinath_vasantharao@optum.com, leticia.castellanos@uhc.com, katie.weierke@uhc.com,john.evans@uhc.com,aisha_saleem@uhc.com
action.email.useNSSubject = 1
alert.track = 1 
disabled = 1
cron_schedule = 00 12 * * *
description = Error Page Metrics MidDay Report
dispatch.earliest_time = @d
dispatch.latest_time = now
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-logger" respDetails.microApp=payment uiErrorPage respDetails.msg.error!="Error in the end else block" | stats count by respDetails.paymentFlow respDetails.msg.uiErrorPage

[ENI Logins Last Hour-production]
action.email.useNSSubject = 1
alert.track = 0 
disabled = 1
dispatch.earliest_time = -1h@h
dispatch.latest_time = now
display.events.fields = ["authenticated_entity.id","service.name","route.paths{}","request.headers.apikey","host","source","cluster_name"]
display.general.type = statistics
display.page.search.mode = fast
display.page.search.tab = statistics
display.statistics.rowNumbers = 1
display.visualizations.chartHeight = 402
display.visualizations.charting.chart = bar
display.visualizations.show = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-post-signin"  entry.Membership_LOB=* info.member_type=* info.coverage_status=* entry.url=* apiStats{}.data.bigN.GroupNumber=* entry.Membership_Category=* \
| rename apiStats{}.data.bigN.DOB as DOB, \
apiStats{}.data.bigN.FirstName as FirstName, \
apiStats{}.data.bigN.LastName as LastName, \
apiStats{}.data.bigN.GroupNumber as GroupNumber, \
apiStats{}.data.bigN.MemberNumber as MemberID, \
apiStats{}.data.member.userId as HSID, \
entry.Membership_LOB as LOB, \
info.member_type as Type, \
entry.Membership_Category as Category, \
info.coverage_status as coverage apiStats{}.data.coverageCode as CovCodes \
| top limit=100 LOB Category Type coverage  HSID FirstName LastName DOB GroupNumber MemberID CovCodes

[Volume Metrics - Myuhc/Myuhc2-production]
action.email = 1
action.email.message.report = The scheduled report '$Myuhc2 - Logins$' has run.
action.email.subject.report = Splunk Report: $Myuhc2 - Logins$
action.email.to = walter_stolarzyk@optum.com
action.email.useNSSubject = 1
action.summary_index = 1
action.summary_index.report = MyUHC Logins werally
alert.suppress = 0
alert.track = 1 
disabled = 1
auto_summarize.dispatch.earliest_time = -1d@h
cron_schedule = 18 04 * * *
description = Logins for Myuhc/Myuhc2 in one Total
dispatch.earliest_time = -1d@d
dispatch.latest_time = @d
display.general.timeRangePicker.show = 0
display.general.type = statistics
display.page.search.tab = statistics
display.visualizations.show = 0
enableSched = 1
realtime_schedule = 0
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_uhcportals-prod" sourcetype="kube:container:myuhc-post-signin"  | search entry.url="*/myuhc/post-signin*" OR entry.url="*/myuhc/landingUrl*"

[Pharmacies & Prescriptions Alert-production]
action.email = 1
action.email.include.trigger = 1
action.email.include.trigger_time = 1
action.email.inline = 1
action.email.message.alert = The alert condition for '$name$' was triggered.\
\
Time Chart:\
\
https://splunk.werally.in/en-GB/app/search/search?s=%2FservicesNS%2Fsuman.kumar%2Fsearch%2Fsaved%2Fsearches%2FPharmacies%2520%2526%2520Prescriptions%2520Alert&display.page.search.mode=fast&dispatch.sample_ratio=1&q=search%20index%3D%22rx-prod-*%22%20URI%3D%22%2Fprescriptions%2F*%22%20%20URI%20!%3D%20%22*%2Fsso%3F*%22%20lob_env%3Dprod%20URI%3D%22%2Fprescriptions%2Fcns%2Fapi%2Fapi-cw%2F*%22%20OR%20%22%2Fprescriptions%2Feni%2Fapi%2Fapi-cw%2F*%22%20OR%20URI%3D%22%2Fprescriptions%2Fmnr%2Fapi%2Fapi-cw%2F*%22%20OR%20URI%3D%22%2Fprescriptions%2Fiex%2Fapi%2Fapi-cw%2F*%22%20%20API_Staus%20%3E%20499%20%7C%20timechart%20span%3D15m%20count%20by%20API_Staus%20&earliest=-4h%40m&latest=now&display.page.search.tab=visualizations&display.general.type=visualizations&sid=1739259820.287314\
\
\
E&I â€“ Splunk \
\
https://splunk.werally.in/en-GB/app/search/search?q=search%20index%3D%22rx-prod-*%22%20URI%3D%22%2Fprescriptions%2F*%22%20%20URI%20!%3D%20%22*%2Fsso%3F*%22%20lob_env%3Dprod%20URI%3D%22%2Fprescriptions%2Feni%2Fapi%2Fapi-cw%2F*%22%20API_Staus%20%3E%20499%20%7C%20timechart%20span%3D5m%20count%20by%20URI&earliest=-4h%40m&latest=now&display.page.search.mode=verbose&dispatch.sample_ratio=1&display.page.search.tab=visualizations&display.general.type=visualizations&sid=1724519118.580710\
\
M&R â€“ Splunk\
 \
https://splunk.werally.in/en-GB/app/search/search?q=search%20index%3D%22rx-prod-*%22%20URI%3D%22%2Fprescriptions%2F*%22%20%20URI%20!%3D%20%22*%2Fsso%3F*%22%20lob_env%3Dprod%20URI%3D%22%2Fprescriptions%2Fmnr%2Fapi%2Fapi-cw%2F*%22%20API_Staus%20%3E%20499%20%7C%20timechart%20span%3D5m%20count%20by%20URI&earliest=-4h%40m&latest=now&display.page.search.mode=verbose&dispatch.sample_ratio=1&display.page.search.tab=visualizations&display.general.type=visualizations&sid=1724519215.580829\
\
\
C&S â€“ Splunk \
\
https://splunk.werally.in/en-GB/app/search/search?q=search%20index%3D%22rx-prod-*%22%20URI%3D%22%2Fprescriptions%2F*%22%20%20URI%20!%3D%20%22*%2Fsso%3F*%22%20lob_env%3Dprod%20URI%3D%22%2Fprescriptions%2Fcns%2Fapi%2Fapi-cw%2F*%22%20API_Staus%20%3E%20499%20%7C%20timechart%20span%3D5m%20count%20by%20URI&earliest=-4h%40m&latest=now&display.page.search.mode=verbose&dispatch.sample_ratio=1&display.page.search.tab=visualizations&display.general.type=visualizations&sid=1724519043.580587\
\
\
IFP â€“ Splunk \
\
https://splunk.werally.in/en-GB/app/search/search?q=search%20index%3D%22rx-prod-*%22%20URI%3D%22%2Fprescriptions%2F*%22%20%20URI%20!%3D%20%22*%2Fsso%3F*%22%20lob_env%3Dprod%20URI%3D%22%2Fprescriptions%2Fiex%2Fapi%2Fapi-cw%2F*%22%20API_Staus%20%3E%20499%20%7C%20timechart%20span%3D5m%20count%20by%20URI&earliest=-4h%40m&latest=now&display.page.search.mode=verbose&dispatch.sample_ratio=1&display.page.search.tab=visualizations&display.general.type=visualizations&sid=1724519452.581093
action.email.sendresults = 1
action.email.to = yenuganti_ashok@optum.com
action.email.useNSSubject = 1
alert.suppress = 0
alert.track = 1 
disabled = 1
counttype = number of events
cron_schedule = */5 * * * *
description = Pharmacies & Prescriptions Alert
dispatch.earliest_time = -5m@m
dispatch.latest_time = now
display.events.fields = ["host","source","sourcetype","UUID"]
display.general.type = statistics
display.page.search.mode = verbose
display.page.search.tab = statistics
display.visualizations.charting.chart = line
enableSched = 1
quantity = 0
relation = greater than
request.ui_dispatch_app = search
request.ui_dispatch_view = search
search = index="aws_ceuhc-eks_rx-prod"  meta.apiPath="/prescriptions/*"  meta.apiPath != "*/sso?*" lob_env=prod meta.apiPath="/prescriptions/cns/api/api-cw/*" OR "/prescriptions/eni/api/api-cw/*" OR meta.apiPath="/prescriptions/mnr/api/api-cw/*" OR meta.apiPath="/prescriptions/iex/api/api-cw/*"  meta.status =* \
| stats count as total_requests count(eval('meta.status'>=199)) as error_requests | eval error_percentage = (error_requests / total_requests) * 100 | where error_percentage > 3 AND error_requests > 10
